var _s=Object.defineProperty;var zs=(s,a,t)=>a in s?_s(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var V=(s,a,t)=>zs(s,typeof a!="symbol"?a+"":a,t);import{r as m,a as Gs,b as re}from"./vendor-Ao2u45Cr.js";import{u as ae,a as Ws,N as Hs,R as Vs,b as Js,B as Ys}from"./router-BZsx3AQs.js";import{a as fe}from"./utils-LJdoq4W6.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();var fs={exports:{}},Fe={};var Qs=m,Xs=Symbol.for("react.element"),Zs=Symbol.for("react.fragment"),et=Object.prototype.hasOwnProperty,st=Qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tt={key:!0,ref:!0,__self:!0,__source:!0};function ys(s,a,t){var n,i={},l=null,o=null;t!==void 0&&(l=""+t),a.key!==void 0&&(l=""+a.key),a.ref!==void 0&&(o=a.ref);for(n in a)et.call(a,n)&&!tt.hasOwnProperty(n)&&(i[n]=a[n]);if(s&&s.defaultProps)for(n in a=s.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Xs,type:s,key:l,ref:o,props:i,_owner:st.current}}Fe.Fragment=Zs;Fe.jsx=ys;Fe.jsxs=ys;fs.exports=Fe;var e=fs.exports,ze={},as=Gs;ze.createRoot=as.createRoot,ze.hydrateRoot=as.hydrateRoot;var vs={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ns=re.createContext&&re.createContext(vs),at=["attr","size","title"];function nt(s,a){if(s==null)return{};var t=rt(s,a),n,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(i=0;i<l.length;i++)n=l[i],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(t[n]=s[n])}return t}function rt(s,a){if(s==null)return{};var t={};for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){if(a.indexOf(n)>=0)continue;t[n]=s[n]}return t}function Ee(){return Ee=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Ee.apply(this,arguments)}function rs(s,a){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);a&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,n)}return t}function Ie(s){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?rs(Object(t),!0).forEach(function(n){it(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):rs(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function it(s,a,t){return a=ot(a),a in s?Object.defineProperty(s,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[a]=t,s}function ot(s){var a=lt(s,"string");return typeof a=="symbol"?a:a+""}function lt(s,a){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function js(s){return s&&s.map((a,t)=>re.createElement(a.tag,Ie({key:t},a.attr),js(a.child)))}function K(s){return a=>re.createElement(ct,Ee({attr:Ie({},s.attr)},a),js(s.child))}function ct(s){var a=t=>{var{attr:n,size:i,title:l}=s,o=nt(s,at),f=i||t.size||"1em",y;return t.className&&(y=t.className),s.className&&(y=(y?y+" ":"")+s.className),re.createElement("svg",Ee({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:y,style:Ie(Ie({color:s.color||t.color},t.style),s.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&re.createElement("title",null,l),s.children)};return ns!==void 0?re.createElement(ns.Consumer,null,t=>a(t)):a(vs)}function dt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(s)}function bs(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(s)}function ut(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(s)}function mt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(s)}function pt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(s)}function ht(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(s)}function De(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(s)}function gt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(s)}function Ns(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(s)}function ks(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"},child:[]},{tag:"line",attr:{x1:"16",y1:"8",x2:"2",y2:"22"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"15",x2:"9",y2:"15"},child:[]}]})(s)}function xt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(s)}function ft(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(s)}function yt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(s)}function qe(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(s)}function vt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(s)}function jt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(s)}function bt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(s)}function Nt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(s)}function is(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(s)}function os(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function ws(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(s)}function kt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function Cs(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}function ls(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(s)}function wt(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(s)}function Ss(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function cs(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(s)}function ke(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function Le(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}function ve(s){return K({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(s)}class Ct{constructor(){V(this,"toasts",[]);V(this,"listeners",[])}subscribe(a){return this.listeners.push(a),()=>{this.listeners=this.listeners.filter(t=>t!==a)}}notify(){this.listeners.forEach(a=>a([...this.toasts]))}addToast(a){const t=Date.now().toString(),n={...a,id:t,duration:a.duration||5e3};this.toasts.push(n),this.notify(),n.duration&&n.duration>0&&setTimeout(()=>{this.removeToast(t)},n.duration)}removeToast(a){this.toasts=this.toasts.filter(t=>t.id!==a),this.notify()}showApiKeyError(a,t){this.addToast({type:"error",title:`üîë API Key Error - ${a}`,message:`API Key Error: ${t}`,duration:7e3})}showApiKeySuccess(a){this.addToast({type:"success",title:`‚úÖ API Key Verified - ${a}`,message:"API key verified successfully",duration:3e3})}showConnectionError(a){this.addToast({type:"warning",title:`‚ö†Ô∏è Connection Issue - ${a}`,message:"Unable to connect to service. Please check your API key and internet connection",duration:6e3})}showInvalidApiKey(a){this.addToast({type:"error",title:`‚ùå Invalid API Key - ${a}`,message:"API key is invalid. Please enter a valid key",duration:5e3})}}const H=new Ct,Re=[{id:"openai-gpt4",name:"GPT-4",provider:"OpenAI",icon:"ü§ñ",description:"Most capable OpenAI model, great for complex tasks",defaultEndpoint:"https://api.openai.com/v1/chat/completions",supportsStreaming:!0,maxTokens:128e3,pricing:{input:.01,output:.03}},{id:"openai-gpt35",name:"GPT-3.5 Turbo",provider:"OpenAI",icon:"‚ö°",description:"Fast and efficient, good for most tasks",defaultEndpoint:"https://api.openai.com/v1/chat/completions",supportsStreaming:!0,maxTokens:16384,pricing:{input:.001,output:.002}},{id:"claude-3-sonnet",name:"Claude 3 Sonnet",provider:"Anthropic",icon:"üß†",description:"Balanced performance and speed",defaultEndpoint:"https://api.anthropic.com/v1/messages",supportsStreaming:!0,maxTokens:2e5,pricing:{input:.003,output:.015}},{id:"claude-3-haiku",name:"Claude 3 Haiku",provider:"Anthropic",icon:"üå∏",description:"Fastest Claude model, great for quick tasks",defaultEndpoint:"https://api.anthropic.com/v1/messages",supportsStreaming:!0,maxTokens:2e5,pricing:{input:25e-5,output:.00125}},{id:"gemini-pro",name:"Gemini Pro",provider:"Google",icon:"üîç",description:"Google's most capable model",defaultEndpoint:"https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",supportsStreaming:!0,maxTokens:32768,pricing:{input:5e-4,output:.0015}},{id:"mistral-large",name:"Mistral Large",provider:"Mistral AI",icon:"üå™Ô∏è",description:"High-performance model from Mistral AI",defaultEndpoint:"https://api.mistral.ai/v1/chat/completions",supportsStreaming:!0,maxTokens:32768,pricing:{input:.007,output:.024}},{id:"cohere-command",name:"Cohere Command",provider:"Cohere",icon:"üéØ",description:"Reliable and consistent model",defaultEndpoint:"https://api.cohere.ai/v1/chat",supportsStreaming:!0,maxTokens:4096,pricing:{input:.0015,output:.002}},{id:"deepseek-chat",name:"DeepSeek Chat",provider:"DeepSeek",icon:"üî¨",description:"Advanced reasoning capabilities",defaultEndpoint:"https://api.deepseek.com/v1/chat/completions",supportsStreaming:!0,maxTokens:32768,pricing:{input:7e-4,output:.0014}},{id:"ollama-llama2",name:"Ollama Llama2",provider:"Ollama",icon:"ü¶ô",description:"Local model for privacy",defaultEndpoint:"http://localhost:11434/api/generate",supportsStreaming:!0,maxTokens:4096,pricing:{input:0,output:0}}],St={apiKey:"",endpoint:"",maxTokens:4096,temperature:.7,topP:.9,enabled:!1},Ps=m.createContext(void 0),Pt=({children:s})=>{const[a,t]=m.useState("openai-gpt35"),[n,i]=m.useState({}),[l,o]=m.useState(!1);m.useEffect(()=>{const p=localStorage.getItem("prompter-model-configs"),j=localStorage.getItem("prompter-current-model");if(p)try{i(JSON.parse(p))}catch{}j&&t(j)},[]),m.useEffect(()=>{localStorage.setItem("prompter-model-configs",JSON.stringify(n))},[n]),m.useEffect(()=>{localStorage.setItem("prompter-current-model",a)},[a]);const f=(p,j)=>{i(x=>({...x,[p]:{...St,...x[p],...j}}))},w={availableModels:Re,currentModel:a,setCurrentModel:t,modelConfigs:n,updateModelConfig:f,setApiKey:(p,j)=>{f(p,{apiKey:j,enabled:!!j})},getApiKey:p=>n[p]?.apiKey||null,removeApiKey:p=>{f(p,{apiKey:"",enabled:!1})},validateApiKey:async(p,j)=>{const x=Re.find(u=>u.id===p);if(!x)return H.addToast({type:"error",title:"‚ùå Model Not Found",message:"Selected model not found",duration:5e3}),!1;try{if(!j||j.trim().length===0)return H.addToast({type:"warning",title:`‚ö†Ô∏è ${x.provider} API Key Required`,message:`Please enter your ${x.provider} API key for ${x.name}`,duration:5e3}),!1;if(j.length<10)return H.addToast({type:"error",title:`‚ùå Invalid ${x.provider} API Key`,message:`${x.provider} API key is too short. Please check your key`,duration:5e3}),!1;if(j.includes("your-api-key")||j.includes("sk-your-api-key-here")||j.includes("placeholder"))return H.addToast({type:"error",title:`‚ùå Placeholder ${x.provider} API Key`,message:`Please replace the placeholder with your actual ${x.provider} API key`,duration:5e3}),!1;let u=!1,T="";switch(x.provider){case"OpenAI":j.startsWith("sk-")?j.length<20?T=`${x.name} API key is too short`:u=!0:T=`${x.name} API key must start with "sk-"`;break;case"Anthropic":j.startsWith("sk-ant-")?j.length<20?T=`${x.name} API key is too short`:u=!0:T=`${x.name} API key must start with "sk-ant-"`;break;case"Google":j.length<20?T=`${x.name} API key is too short`:u=!0;break;case"Mistral AI":j.length<20?T=`${x.name} API key is too short`:u=!0;break;case"Cohere":j.length<20?T=`${x.name} API key is too short`:u=!0;break;case"DeepSeek":j.startsWith("sk-")?j.length<20?T=`${x.name} API key is too short`:u=!0:T=`${x.name} API key must start with "sk-"`;break;case"Ollama":u=!0;break;default:j.length<10?T="API key is too short":u=!0}return!u&&T?(H.addToast({type:"error",title:`‚ùå Invalid ${x.provider} API Key`,message:T,duration:6e3}),!1):(u&&H.addToast({type:"success",title:`‚úÖ ${x.provider} API Key Valid`,message:"API key format is correct",duration:3e3}),u)}catch{return H.addToast({type:"error",title:"‚ùå Validation Error",message:"Error validating API key. Please try again.",duration:5e3}),!1}},showApiKeyModal:l,setShowApiKeyModal:o};return e.jsx(Ps.Provider,{value:w,children:s})},Ve=()=>{const s=m.useContext(Ps);if(!s)throw new Error("useApiKey must be used within an ApiKeyProvider");return s},_={app:{name:"PromptCraft",version:"1.0.0",environment:"development",debug:!1,mockMode:!0},api:{baseUrl:"http://localhost:5000",backendUrl:"http://localhost:5000/api",timeout:3e4,retries:3},auth:{jwtSecret:"dev-jwt-secret-key",refreshTokenSecret:"dev-refresh-secret-key",tokenExpiry:"24h",refreshTokenExpiry:"7d"},payment:{defaultGateway:"zarinpal",gateways:{zarinpal:{merchantId:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",sandbox:!0},idpay:{apiKey:"demo-idpay-key",sandbox:!0},nextpay:{apiKey:"demo-nextpay-key"},payir:{apiKey:"demo-payir-key"},zibal:{merchant:"zibal"},googleplay:{packageName:"com.prompterfresh.app",serviceAccountKey:"",publicKey:"",sandbox:!0}}},googlePlay:{products:{removeAds:"com.prompterfresh.app.remove_ads",tokens1000:"tokens_1000_pack",tokens5000:"tokens_5000_pack",tokens10000:"tokens_10000_pack"},subscriptions:{proMonthly:"com.prompterfresh.app.pro_plan_monthly",proYearly:"com.prompterfresh.app.pro_plan_yearly",premiumMonthly:"com.prompterfresh.app.pro_plan_monthly",premiumYearly:"com.prompterfresh.app.pro_plan_yearly"},client:{enablePendingPurchases:!0,obfuscatedAccountId:"",obfuscatedProfileId:""},verification:{endpoint:"",timeout:3e4}},ai:{services:{openai:{apiKey:"",model:"gpt-4o-mini",maxTokens:4e3},anthropic:{apiKey:"",model:"claude-3-sonnet-20240229",maxTokens:4e3},google:{apiKey:"",model:"gemini-pro",maxTokens:4e3}},defaultService:"openai",fallbackService:"anthropic"},security:{corsOrigin:"http://localhost:3000",rateLimit:{windowMs:parseInt("15")*60*1e3,maxRequests:parseInt("100")},encryption:{algorithm:"aes-256-gcm",keyLength:32}},features:{enablePayments:!0,enableSocialLogin:!1,enableEmailVerification:!1,enableTwoFactor:!1,enableAnalytics:!1,enableDebugMode:!1,enableGooglePlayBilling:!0},ui:{theme:{default:"light",storageKey:"promptcraft-theme"},language:{default:"en",storageKey:"promptcraft-language"},animation:{enabled:!0,duration:300}},storage:{keys:{authToken:"prompter-auth-token",refreshToken:"prompter-refresh-token",user:"prompter-user-data",apiUsage:"prompter-api-usage",adFreePurchase:"prompter-ad-free-purchase",proSubscription:"prompter-pro-subscription",prompts:"prompter-saved-prompts",settings:"prompter-user-settings",googlePlayPurchases:"prompter-gplay-purchases"}},development:{enableLogging:!0,enableMockData:!1,enableDevTools:!1,hotReload:!0}},ds={USERS:"prompter-users",CURRENT_USER:"prompter-current-user",AUTH_TOKEN:"prompter-auth-token",REFRESH_TOKEN:"prompter-refresh-token",SESSION:"prompter-session"};class Tt{constructor(){V(this,"users",new Map);V(this,"sessions",new Map);this.loadUsers()}loadUsers(){try{const a=localStorage.getItem(ds.USERS);if(a){const t=JSON.parse(a);this.users=new Map(Object.entries(t))}}catch{}}saveUsers(){try{const a=Object.fromEntries(this.users);localStorage.setItem(ds.USERS,JSON.stringify(a))}catch{}}generateToken(a){const t={userId:a,iat:Date.now(),exp:Date.now()+864e5};return btoa(JSON.stringify(t))}validateToken(a){try{const t=JSON.parse(atob(a));return t.exp<Date.now()?null:t.userId}catch{return null}}hashPassword(a){return btoa(a+"salt")}verifyPassword(a,t){return this.hashPassword(a)===t}async register(a){try{if(Array.from(this.users.values()).find(f=>f.email.toLowerCase()===a.email.toLowerCase()))return{success:!1,message:"User with this email already exists"};if(!a.email||!a.password||!a.firstName||!a.lastName)return{success:!1,message:"All fields are required"};if(a.password.length<6)return{success:!1,message:"Password must be at least 6 characters"};const n=Date.now().toString(),i={id:n,email:a.email.toLowerCase(),firstName:a.firstName,lastName:a.lastName,name:`${a.firstName} ${a.lastName}`,phone:a.phone,avatar:"",isEmailVerified:!1,subscription:{type:"free",status:"active"},createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()};this.users.set(n,{...i,password:this.hashPassword(a.password)}),this.saveUsers();const l=this.generateToken(n),o=this.generateToken(n+"_refresh");return this.sessions.set(l,{userId:n,expiresAt:Date.now()+24*60*60*1e3}),{success:!0,data:{user:i,accessToken:l,refreshToken:o}}}catch{return{success:!1,message:"Registration failed"}}}async login(a){try{const t=Array.from(this.users.values()).find(f=>f.email.toLowerCase()===a.email.toLowerCase());if(!t)return{success:!1,message:"Invalid email or password"};const n=t;if(!this.verifyPassword(a.password,n.password))return{success:!1,message:"Invalid email or password"};const i=this.generateToken(t.id),l=this.generateToken(t.id+"_refresh"),o={...t,lastLoginAt:new Date().toISOString()};return this.users.set(t.id,o),this.saveUsers(),this.sessions.set(i,{userId:t.id,expiresAt:Date.now()+24*60*60*1e3}),{success:!0,data:{user:o,accessToken:i,refreshToken:l}}}catch{return{success:!1,message:"Login failed"}}}async getCurrentUser(a){try{const t=this.validateToken(a);if(!t)return null;const n=this.users.get(t);return n||null}catch{return null}}async refreshToken(a){try{const t=this.validateToken(a);if(!t)return{success:!1,message:"Invalid refresh token"};const n=this.users.get(t);if(!n)return{success:!1,message:"User not found"};const i=this.generateToken(t),l=this.generateToken(t+"_refresh");return this.sessions.set(i,{userId:t,expiresAt:Date.now()+24*60*60*1e3}),{success:!0,data:{user:n,accessToken:i,refreshToken:l}}}catch{return{success:!1,message:"Token refresh failed"}}}async logout(a){try{return this.sessions.delete(a),!0}catch{return!1}}async updateProfile(a,t){try{const n=this.users.get(a);if(!n)return{success:!1,message:"User not found"};const i={...n,...t,name:`${t.firstName||n.firstName} ${t.lastName||n.lastName}`};return this.users.set(a,i),this.saveUsers(),{success:!0,data:{user:i,accessToken:"",refreshToken:""}}}catch{return{success:!1,message:"Profile update failed"}}}async changePassword(a,t,n){try{const i=this.users.get(a);if(!i)return{success:!1,message:"User not found"};const l=i;return this.verifyPassword(t,l.password)?(this.users.set(a,{...i,password:this.hashPassword(n)}),this.saveUsers(),{success:!0}):{success:!1,message:"Current password is incorrect"}}catch{return{success:!1,message:"Password change failed"}}}async resetPassword(a){try{return Array.from(this.users.values()).find(n=>n.email.toLowerCase()===a.toLowerCase())?{success:!0,message:"Password reset email sent"}:{success:!1,message:"User not found"}}catch{return{success:!1,message:"Password reset failed"}}}async verifyEmail(a){try{return{success:!0,message:"Email verified successfully"}}catch{return{success:!1,message:"Email verification failed"}}}}const le=new Tt,Ts=m.createContext(void 0),At=({children:s})=>{const[a,t]=m.useState(null),[n,i]=m.useState(!0);m.useEffect(()=>{l()},[]);const l=async()=>{try{const j=localStorage.getItem(_.storage.keys.authToken);if(!j){i(!1);return}const x=await le.getCurrentUser(j);x?t(x):(t(null),localStorage.removeItem(_.storage.keys.authToken),localStorage.removeItem(_.storage.keys.refreshToken),localStorage.removeItem(_.storage.keys.user))}catch{t(null),localStorage.removeItem(_.storage.keys.authToken),localStorage.removeItem(_.storage.keys.refreshToken),localStorage.removeItem(_.storage.keys.user)}finally{i(!1)}},p={user:a,isAuthenticated:!!a,isLoading:n,login:async(j,x)=>{try{i(!0);const u=await le.login({email:j,password:x});if(u.success&&u.data){const{user:T,accessToken:E,refreshToken:M}=u.data;return t(T),localStorage.setItem(_.storage.keys.authToken,E),localStorage.setItem(_.storage.keys.refreshToken,M),localStorage.setItem(_.storage.keys.user,JSON.stringify(T)),!0}else throw new Error(u.message||"Login failed")}catch(u){throw new Error(u.message||"Login failed")}finally{i(!1)}},register:async j=>{try{i(!0);const x=await le.register(j);if(x.success&&x.data){const{user:u,accessToken:T,refreshToken:E}=x.data;return t(u),localStorage.setItem(_.storage.keys.authToken,T),localStorage.setItem(_.storage.keys.refreshToken,E),localStorage.setItem(_.storage.keys.user,JSON.stringify(u)),!0}else throw new Error(x.message||"Registration failed")}catch(x){throw new Error(x.message||"Registration failed")}finally{i(!1)}},logout:async()=>{try{i(!0);const j=localStorage.getItem(_.storage.keys.authToken);return j&&await le.logout(j),t(null),localStorage.removeItem(_.storage.keys.authToken),localStorage.removeItem(_.storage.keys.refreshToken),localStorage.removeItem(_.storage.keys.user),localStorage.removeItem(_.storage.keys.apiUsage),localStorage.removeItem(_.storage.keys.adFreePurchase),localStorage.removeItem(_.storage.keys.proSubscription),localStorage.removeItem(_.storage.keys.settings),!0}catch{return t(null),localStorage.removeItem(_.storage.keys.authToken),localStorage.removeItem(_.storage.keys.refreshToken),localStorage.removeItem(_.storage.keys.user),!0}finally{i(!1)}},updateProfile:async j=>{try{if(i(!0),!a)throw new Error("User not found");const x=await le.updateProfile(a.id,{firstName:j.firstName,lastName:j.lastName,phone:j.phone});if(x.success&&x.data)return t(x.data.user),localStorage.setItem(_.storage.keys.user,JSON.stringify(x.data.user)),!0;throw new Error(x.message||"Profile update failed")}catch(x){throw new Error(x.message||"Profile update failed")}finally{i(!1)}},changePassword:async(j,x)=>{try{if(i(!0),!a)throw new Error("User not found");const u=await le.changePassword(a.id,j,x);if(u.success)return!0;throw new Error(u.message||"Password change failed")}catch(u){throw new Error(u.message||"Password change failed")}finally{i(!1)}},resetPassword:async j=>{try{i(!0);const x=await le.resetPassword(j);if(x.success)return!0;throw new Error(x.message||"Password reset failed")}catch(x){throw new Error(x.message||"Password reset failed")}finally{i(!1)}},verifyEmail:async j=>{try{i(!0);const x=await le.verifyEmail(j);if(x.success){if(a){const u={...a,isEmailVerified:!0};t(u),localStorage.setItem(_.storage.keys.user,JSON.stringify(u))}return!0}else throw new Error(x.message||"Email verification failed")}catch(x){throw new Error(x.message||"Email verification failed")}finally{i(!1)}},checkAuth:l};return e.jsx(Ts.Provider,{value:p,children:s})},Et=()=>{const s=m.useContext(Ts);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},It="Prompter Fresh",Dt="Professional Prompt Design & Optimization Tool",Lt={dashboard:"Dashboard",home:"Enhancer",architect:"Architect",templates:"Templates",library:"Library",settings:"Settings"},Rt={title:"ü§ñ Prompter Fresh",subtitle:"Professional Prompt Design & Optimization Tool"},Ot={title:"‚ú® Prompt Enhancer",description:"Enhance and optimize your prompts with AI",placeholder:"Enter your prompt here...",button:"Enhance Prompt",loading:"Enhancing...",error:"Error enhancing prompt",result:"Enhanced Prompt:",copy:"Copy",copySuccess:"Prompt copied to clipboard!"},Mt={title:"üèóÔ∏è Prompt Architect",description:"Build professional prompts step by step",selectRole:"1. Select Role:",selectTaskFor:"2. Select Task for {roleName}:",languageSettings:"Language Settings (Optional):",inputLanguage:"Input Language:",outputLanguage:"Output Language:",defaultLanguage:"Default (Based on Input)",completeInfoFor:"3. Complete Information for: {taskName}:",generateButton:"üîß Generate Prompt",enhanceButton:"‚ú® Enhance with Prompt Oracle",generatedPrompt:"üìÑ Generated Prompt",optimizedPrompt:"Final Optimized Prompt:",error:"Error",fillRequiredFields:"Please fill all required fields.",errorOptimizing:"Error optimizing prompt",loading:"Loading...",enhancing:"Enhancing...",pickAnItem:"-- Select --",copy:"üìã Copy",copySuccess:"Prompt copied!"},Ft={title:"üìö Prompt Library",description:"Your saved prompt collection",addNew:"‚ûï Add New Prompt",search:"Search prompts...",categories:{all:"All",coding:"Programming",writing:"Writing",marketing:"Marketing",analysis:"Analysis",creative:"Creative",business:"Business"},emptyState:{title:"No prompts found",searchMessage:"Try different filters",firstMessage:"Add your first prompt"},card:{copy:"Copy",edit:"Edit",delete:"Delete"},modal:{addTitle:"Add New Prompt",editTitle:"Edit Prompt",titleLabel:"Prompt Title",titlePlaceholder:"Enter prompt title",categoryLabel:"Category",contentLabel:"Prompt Content",contentPlaceholder:"Enter prompt content",tagsLabel:"Tags (comma separated)",tagsPlaceholder:"e.g., AI, GPT, analysis",favoriteLabel:"Add to favorites",cancel:"Cancel",save:"Save Changes",add:"Add Prompt"},deleteConfirm:"Are you sure you want to delete this prompt?"},$t={title:"Settings",subtitle:"Configure your application preferences and API settings",apiKeyTitle:"OpenAI API Key",apiKeyDesc:"Enter your OpenAI API key to enable AI-powered features",apiKey:"API Key",apiKeyPlaceholder:"Enter your OpenAI API key",saveApiKey:"Save API Key",removeKey:"Remove Key",autoTranslation:"Auto-Translation",autoTranslationDesc:"Automatically translate interface to your system language",enableTranslation:"Enable Translation",disableTranslation:"Switch to English",about:"About",aboutDesc:"Information about this application and its development team",version:"Version",developer:"Developer"},Ut={codeReview:"Code Review",debugging:"Debugging",systemDesign:"System Design",dataAnalysis:"Data Analysis",reportCreation:"Report Creation",campaignStrategy:"Campaign Strategy",contentCreation:"Content Creation",articleWriting:"Article Writing",seoContent:"SEO Content",strategicPlanning:"Strategic Planning",marketAnalysis:"Market Analysis",lessonPlanning:"Lesson Planning",assessmentDesign:"Assessment Design",uiDesign:"UI Design",brandDesign:"Brand Design",projectPlanning:"Project Planning",riskAssessment:"Risk Assessment"},Bt={codeSnippet:"Code Snippet",language:"Programming Language",concerns:"Specific Concerns",error:"Error Message",code:"Code",context:"Context",requirements:"Requirements",constraints:"Constraints",dataset:"Dataset Description",goals:"Analysis Goals",data:"Data Source",audience:"Target Audience",product:"Product/Service",budget:"Budget Range",topic:"Topic",platform:"Platform",tone:"Desired Tone",wordCount:"Word Count",keywords:"SEO Keywords",length:"Content Length",business:"Business Context",timeline:"Timeline",subject:"Subject",grade:"Grade Level",objectives:"Learning Objectives",assessmentType:"Assessment Type",project:"Project Description",style:"Design Style",company:"Company",values:"Brand Values",resources:"Available Resources",risks:"Potential Risks",market:"Market",competitors:"Competitors"},Kt={codeSnippet:"Paste your code here...",language:"e.g., JavaScript, Python, Java",concerns:"What specifically should be reviewed?",error:"Paste the error message...",code:"Paste the problematic code...",context:"Describe when this error occurs...",requirements:"List the system requirements...",constraints:"Any technical or business constraints...",dataset:"Describe your dataset...",goals:"What insights are you looking for?",data:"Describe your data source...",audience:"e.g., young professionals, students",product:"Name and brief description of product...",budget:"e.g., $5,000 - $10,000",topic:"Enter the main topic...",platform:"e.g., Instagram, LinkedIn, Blog",tone:"e.g., professional, casual, friendly",wordCount:"e.g., 500-1000 words",keywords:"Enter target keywords separated by commas...",length:"e.g., short, medium, long",business:"Describe your business situation...",timeline:"e.g., 3 months, Q1 2024",subject:"e.g., Mathematics, History",grade:"e.g., Grade 5, High School",objectives:"What should students learn?",assessmentType:"e.g., Quiz, Project, Essay",project:"Describe the project scope...",style:"e.g., modern, minimalist, corporate",company:"Company name and industry...",values:"Core brand values and personality...",resources:"Available team, budget, tools...",risks:"What could go wrong?",market:"Target market description...",competitors:"List main competitors..."},qt={title:"Prompt Architect",subtitle:"Build structured prompts using professional role-based templates",selectRole:"Select Professional Role",selectTask:"Select Task for",completeInfo:"Complete Information for",generatePrompt:"Generate Prompt",generatedPrompt:"Generated Prompt",tasks:"tasks",fields:"fields"},_t={fillRequired:"Please fill all required fields",apiKeyRequired:"Please set your OpenAI API key in Settings",promptGenerated:"Prompt generated successfully!",generateError:"Error generating prompt",promptCopied:"Prompt copied to clipboard!"},zt={loading:"Loading...",copy:"Copy",available:"available",required:"required"},Gt={developer:"Software Developer",dataAnalyst:"Data Analyst",marketingSpecialist:"Marketing Specialist",contentWriter:"Content Writer",businessConsultant:"Business Consultant",teacher:"Teacher",designer:"Designer",projectManager:"Project Manager"},Wt={title:"üé® Template Gallery",search:"Search templates...",categories:{all:"All Categories",business:"Business",creative:"Creative",technical:"Technical",marketing:"Marketing",education:"Education"},premium:"Premium",free:"Free",use:"Use Template",copy:"Copy",favorite:"Add to Favorites",emptyState:"No templates found matching your search"},Ht={purchase:{userCancelled:"Purchase was cancelled by user",paymentMethod:"There is an issue with your payment method",networkError:"Internet connection problem detected",billingUnavailable:"Purchase service is temporarily unavailable",productUnavailable:"This product is currently unavailable",validationFailed:"Purchase verification failed",serverError:"Server error occurred",unknownError:"An unexpected error occurred"},guidance:{userCancelled:["‚úã You cancelled the purchase","üîÑ You can try again when ready"],paymentMethod:["üí≥ There is an issue with your payment method","üîß Check your payment method in Google Play settings","üí∞ Make sure you have sufficient balance","üì± Update your payment information if needed"],networkError:["üåê Internet connection problem","üì∂ Check your Wi-Fi or mobile data connection","üîÑ Try again in a few minutes","üìç Move to an area with better signal if needed"],billingUnavailable:["üõí Purchase service is temporarily unavailable","üîÑ Please try again in a few minutes","üì± Make sure Google Play Services is updated","‚è∞ The service should be back online shortly"],productUnavailable:["‚ùå This product is currently unavailable","üìû Contact support for assistance","üîÑ Check back later as availability may change"],validationFailed:["üîí Purchase verification failed","üìû Please contact support for assistance","üîê This is a security measure to protect your account"],serverError:["üñ•Ô∏è Server error occurred","üîÑ Please try again in a few minutes","‚è∞ Our team has been notified and is working on it"],unknownError:["‚ùì An unexpected error occurred","üîÑ Please try again","üìû Contact support if the problem persists"]},api:{invalidApiKey:"Invalid API key. Please check your configuration.",rateLimitExceeded:"Rate limit exceeded. Please try again in a minute.",tokenLimitReached:"Monthly token limit reached. Upgrade to Pro plan for more tokens.",requestLimitReached:"Monthly request limit reached. Try again next month.",networkError:"Network connection failed. Please check your internet connection.",serverError:"Server error occurred. Please try again later.",validationError:"Input validation failed. Please check your prompt.",unknownError:"An unexpected error occurred. Please try again."},general:{somethingWentWrong:"Something went wrong",tryAgain:"Try again",contactSupport:"Contact support",loading:"Loading...",saving:"Saving...",processing:"Processing...",success:"Success!",failed:"Failed",cancelled:"Cancelled"}},Vt={appName:It,appDescription:Dt,tabs:Lt,header:Rt,promptEnhancer:Ot,promptArchitect:Mt,promptLibrary:Ft,settings:$t,tasks:Ut,fields:Bt,placeholders:Kt,architect:qt,messages:_t,common:zt,roles:Gt,templateGallery:Wt,errors:Ht},Jt={en:Vt},Yt=(s,a)=>{const t=s.split(".");let n=Jt.en;for(const i of t)if(n=n?.[i],!n)break;return n||a||s},Qt=()=>[{code:"en",name:"English",nativeName:"English",flag:"üá∫üá∏"}],us=()=>"en",Xt=(s,a,t)=>Yt(s,a),As=m.createContext(void 0),Zt=({children:s})=>{const[a,t]=m.useState(us()),[,n]=m.useState({}),i=Qt();m.useEffect(()=>{const o=us();o!==a&&(t(o),n({}))},[a]),m.useEffect(()=>{const o=f=>{(f.key==="autoTranslationEnabled"||f.key==="targetLanguage")&&(n({}),setTimeout(()=>{window.location.reload()},500))};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}},[]);const l={currentLanguage:a,availableLanguages:i,t:Xt};return e.jsx(As.Provider,{value:l,children:s})},Je=()=>{const s=m.useContext(As);if(s===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return s},ea=({toast:s,onRemove:a})=>{const[t,n]=m.useState(!0);m.useEffect(()=>{const l=s.duration||3e3,o=setTimeout(()=>{n(!1),setTimeout(()=>a(s.id),300)},l);return()=>clearTimeout(o)},[s.id,s.duration,a]);const i=()=>{switch(s.type){case"success":return"‚úÖ";case"error":return"‚ùå";case"warning":return"‚ö†Ô∏è";case"info":return"‚ÑπÔ∏è";default:return"‚ÑπÔ∏è"}};return e.jsxs("div",{className:`toast toast-${s.type} ${t?"toast-enter":"toast-exit"}`,children:[e.jsxs("div",{className:"toast-content",children:[e.jsx("span",{className:"toast-icon",children:i()}),e.jsxs("div",{className:"toast-text",children:[s.title&&e.jsx("div",{className:"toast-title",children:s.title}),e.jsx("span",{className:"toast-message",children:s.message})]})]}),e.jsx("button",{className:"toast-close",onClick:()=>{n(!1),setTimeout(()=>a(s.id),300)},children:"‚úï"})]})},sa=({toasts:s,removeToast:a})=>e.jsx("div",{className:"toast-container",children:s.map(t=>e.jsx(ea,{toast:t,onRemove:a},t.id))}),Es=m.createContext(void 0),ee=()=>{const s=m.useContext(Es);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},ta=({children:s})=>{const[a,t]=m.useState([]),n=m.useCallback((l,o="info")=>{const f=Date.now().toString()+Math.random().toString(36).substr(2,9);t(y=>[...y,{id:f,message:l,type:o,duration:5e3}])},[]),i=m.useCallback(l=>{t(o=>o.filter(f=>f.id!==l))},[]);return e.jsxs(Es.Provider,{value:{toasts:a,addToast:n,removeToast:i},children:[s,e.jsx(sa,{toasts:a,removeToast:i})]})},aa={promptEnhancer:{hello:`**Enhanced Prompt:** Create a comprehensive greeting that establishes rapport and sets a positive tone for professional communication.

**Improvements Made:**
- Added context and purpose
- Specified tone and professionalism
- Made it actionable and specific`,"write code":`**Enhanced Prompt:** Write clean, well-documented code in [LANGUAGE] that implements [SPECIFIC_FUNCTIONALITY]. Include:
- Clear variable names and comments
- Error handling where appropriate
- Unit tests for core functions
- Performance considerations

**Improvements Made:**
- Added structure and requirements
- Specified quality criteria
- Included testing requirements`,default:`**Enhanced Prompt:** Transform this prompt into a clear, actionable instruction with specific requirements, context, and desired outcomes.

**Improvements Made:**
- Added clarity and structure
- Defined specific requirements
- Provided actionable framework`},promptArchitect:{developer:`As a Senior Software Engineer with 10+ years of experience, analyze the provided code or requirements and deliver:

1. **Technical Assessment**
2. **Best Practices Recommendations** 
3. **Implementation Strategy**
4. **Code Examples** (if applicable)

Format your response with clear headings and practical examples.`,marketer:`As a Digital Marketing Strategist with expertise in modern campaigns, create a comprehensive marketing strategy that includes:

1. **Target Audience Analysis**
2. **Channel Strategy**
3. **Content Recommendations**
4. **Success Metrics**

Provide actionable insights with specific examples.`,default:"As a professional expert in your field, provide comprehensive guidance that includes analysis, recommendations, and actionable steps."}},me=class me{static getInstance(){return me.instance||(me.instance=new me),me.instance}async simulateDelay(a=1e3,t=3e3){const n=Math.random()*(t-a)+a;return new Promise(i=>setTimeout(i,n))}getDemoResponse(a,t="promptEnhancer"){const n=aa[t],i=a.toLowerCase();for(const[l,o]of Object.entries(n))if(l!=="default"&&i.includes(l))return o;return n.default}async enhancePrompt(a){if(!a||a.trim().length===0)throw new Error("Please enter a prompt to enhance");if(a.length>500)throw new Error("Demo mode: Please keep prompts under 500 characters");return await this.simulateDelay(1500,2500),`${this.getDemoResponse(a,"promptEnhancer")}

---
*üé≠ Demo Mode: This is a simulated response. Configure VITE_OPENAI_API_KEY for real AI responses.*`}async architectPrompt(a,t="default"){if(!a||a.trim().length===0)throw new Error("Please enter requirements for prompt architecture");return await this.simulateDelay(2e3,3500),`${this.getDemoResponse(t,"promptArchitect")}

**Applied to your request:**
"${a}"

---
*üé≠ Demo Mode: This is a simulated response. Configure VITE_OPENAI_API_KEY for real AI responses.*`}isDemoMode(){return!0}getDemoUsage(){return{tokensUsed:Math.floor(Math.random()*150)+50,requestsUsed:Math.floor(Math.random()*3)+1,maxTokens:200,maxRequests:3,isDemo:!0}}};V(me,"instance");let Ge=me;const na=Ge.getInstance(),ra=({className:s=""})=>na.isDemoMode()?e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
    @keyframes demo-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
  `}),e.jsxs("div",{className:`demo-mode-indicator ${s}`,style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"13px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 8px rgba(102, 126, 234, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)",animation:"demo-pulse 2s infinite"},children:[e.jsx("span",{style:{fontSize:"16px"},children:"üé≠"}),e.jsx("span",{children:"Demo Mode"})]})]}):null,pe=class pe{constructor(){V(this,"errorLog",[]);V(this,"maxLogSize",100);V(this,"notificationManager",null);this.setupGlobalHandlers()}static getInstance(){return pe.instance||(pe.instance=new pe),pe.instance}setupGlobalHandlers(){window.addEventListener("error",a=>{this.handleError(new Error(a.message),{source:"global",severity:"high",metadata:{filename:a.filename,lineno:a.lineno,colno:a.colno}})}),window.addEventListener("unhandledrejection",a=>{this.handleError(new Error(a.reason),{source:"promise",severity:"high",metadata:{reason:a.reason}})})}handleError(a,t={source:"unknown"}){const n={message:a.message,code:a.name,details:a.stack,timestamp:new Date,source:t.source,url:window.location.href,userAgent:navigator.userAgent};this.addToLog(n),t.notify&&this.notificationManager&&this.notificationManager.addToast({type:"error",title:"ÿÆÿ∑ÿß ÿ±ÿÆ ÿØÿßÿØŸá",message:this.getUserFriendlyMessage(a),duration:5e3}),t.severity==="critical"&&this.reportToCrashlytics(n)}addToLog(a){this.errorLog.push(a),this.errorLog.length>this.maxLogSize&&this.errorLog.shift()}getUserFriendlyMessage(a){return{NetworkError:"ŸÖÿ¥⁄©ŸÑ ÿØÿ± ÿßÿ™ÿµÿßŸÑ ÿ®Ÿá ÿß€åŸÜÿ™ÿ±ŸÜÿ™",TypeError:"ÿÆÿ∑ÿß€å ÿØÿßÿÆŸÑ€å ÿ±ÿÆ ÿØÿßÿØŸá",ReferenceError:"ÿÆÿ∑ÿß€å ÿØÿßÿÆŸÑ€å ÿ±ÿÆ ÿØÿßÿØŸá",SyntaxError:"ÿÆÿ∑ÿß€å ÿØÿßÿÆŸÑ€å ÿ±ÿÆ ÿØÿßÿØŸá",RangeError:"ŸÖŸÇÿØÿßÿ± ŸÜÿßŸÖÿπÿ™ÿ®ÿ± Ÿàÿßÿ±ÿØ ÿ¥ÿØŸá",URIError:"ÿ¢ÿØÿ±ÿ≥ ŸÜÿßŸÖÿπÿ™ÿ®ÿ± ÿßÿ≥ÿ™"}[a.name]||"ÿÆÿ∑ÿß€å ÿ∫€åÿ±ŸÖŸÜÿ™ÿ∏ÿ±Ÿá‚Äåÿß€å ÿ±ÿÆ ÿØÿßÿØŸá"}reportToCrashlytics(a){}getErrorLog(){return[...this.errorLog]}clearErrorLog(){this.errorLog=[]}setNotificationManager(a){this.notificationManager=a}};V(pe,"instance");let We=pe;const ia=We.getInstance();let oa=class extends m.Component{constructor(){super(...arguments);V(this,"state",{hasError:!1,error:null,errorInfo:null});V(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});V(this,"handleReload",()=>{window.location.reload()})}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){ia.handleError(t,{source:"react-error-boundary",severity:"high",metadata:{componentStack:n.componentStack,errorBoundary:this.constructor.name}}),this.setState({error:t,errorInfo:n}),this.props.onError&&this.props.onError(t,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"error-boundary",children:e.jsxs("div",{className:"error-boundary-content",children:[e.jsx("h2",{children:"üö® Unexpected Error"}),e.jsx("p",{children:"Unfortunately, an issue occurred in the application."}),e.jsxs("div",{className:"error-boundary-actions",children:[e.jsx("button",{onClick:this.handleRetry,className:"retry-button",children:"üîÑ Retry"}),e.jsx("button",{onClick:this.handleReload,className:"reload-button",children:"üîÑ Reload"})]}),!1]})}):this.props.children}};const he=class he{constructor(){V(this,"isInitialized",!1);V(this,"products",[{id:"com.prompterfresh.app.remove_ads",title:"Remove Ads + Premium Templates",description:"Remove all advertisements and unlock premium templates",price:"$7.99",type:"inapp"},{id:"com.prompterfresh.app.pro_plan_monthly",title:"Pro Plan Monthly",description:"50,000 tokens per month + unlimited features",price:"$9.99/month",type:"subs"},{id:"com.prompterfresh.app.pro_plan_yearly",title:"Pro Plan Yearly",description:"50,000 tokens per year + unlimited features",price:"$99.99/year",type:"subs"}])}static getInstance(){return he.instance||(he.instance=new he),he.instance}async initialize(){try{return await new Promise(a=>setTimeout(a,1e3)),this.isInitialized=!0,!0}catch{return!1}}async getProducts(){return this.isInitialized||await this.initialize(),this.products}async purchaseProduct(a){this.isInitialized||await this.initialize();try{await new Promise(n=>setTimeout(n,2e3));const t={success:!0,productId:a,purchaseToken:`mock_token_${Date.now()}`};return this.storePurchase(a,t.purchaseToken),t}catch(t){return{success:!1,productId:a,error:t instanceof Error?t.message:"Unknown error"}}}async restorePurchases(){this.isInitialized||await this.initialize();try{return this.getStoredPurchases().map(t=>({success:!0,productId:t.productId,purchaseToken:t.purchaseToken}))}catch{return[]}}async isProductPurchased(a){return this.isInitialized||await this.initialize(),this.getStoredPurchases().some(n=>n.productId===a)}storePurchase(a,t){try{const n=this.getStoredPurchases();n.push({productId:a,purchaseToken:t,timestamp:Date.now()}),localStorage.setItem("prompter-gplay-purchases",JSON.stringify(n))}catch{}}getStoredPurchases(){try{const a=localStorage.getItem("prompter-gplay-purchases");return a?JSON.parse(a):[]}catch{return[]}}async testPurchase(a){return this.purchaseProduct(a)}async clearTestPurchases(){localStorage.removeItem("prompter-gplay-purchases")}};V(he,"instance");let He=he;const ue=He.getInstance(),la=()=>{const[s,a]=m.useState([]),[t,n]=m.useState(!1),[i,l]=m.useState([]),{addToast:o}=ee();m.useEffect(()=>{f(),y()},[]);const f=async()=>{try{n(!0);const p=await ue.getProducts();a(p),o(`Loaded ${p.length} products successfully`,"success")}catch{o("Failed to load products","error")}finally{n(!1)}},y=async()=>{try{const p=await ue.restorePurchases();l(p)}catch{}},v=async p=>{try{n(!0);const j=await ue.purchaseProduct(p);j.success?(o(`Successfully purchased: ${p}`,"success"),await y()):o(j.error||"Unknown error occurred","error")}catch{o("An unexpected error occurred","error")}finally{n(!1)}},c=async()=>{try{n(!0);const p=await ue.restorePurchases();l(p),o(`Restored ${p.length} purchases`,"success")}catch{o("Failed to restore purchases","error")}finally{n(!1)}},d=async()=>{try{await ue.clearTestPurchases(),l([]),o("All test purchases have been cleared","success")}catch{o("Failed to clear test data","error")}},w=p=>i.some(j=>j.productId===p);return e.jsxs("div",{className:"billing-test-container",children:[e.jsxs("div",{className:"billing-test-header",children:[e.jsx("h2",{children:"üß™ Google Play Billing Test"}),e.jsx("p",{children:"Test Google Play Billing functionality"})]}),e.jsxs("div",{className:"billing-test-controls",children:[e.jsx("button",{onClick:f,disabled:t,className:"billing-test-btn",children:"üîÑ Reload Products"}),e.jsx("button",{onClick:c,disabled:t,className:"billing-test-btn",children:"üîÑ Restore Purchases"}),e.jsx("button",{onClick:d,disabled:t,className:"billing-test-btn danger",children:"üßπ Clear Test Data"})]}),e.jsxs("div",{className:"billing-test-section",children:[e.jsxs("h3",{children:["üì¶ Available Products (",s.length,")"]}),t?e.jsx("div",{className:"loading",children:"Loading products..."}):e.jsx("div",{className:"products-grid",children:s.map(p=>e.jsxs("div",{className:`product-card ${w(p.id)?"purchased":""}`,children:[e.jsxs("div",{className:"product-header",children:[e.jsx("h4",{children:p.title}),e.jsx("span",{className:"product-price",children:p.price})]}),e.jsx("p",{className:"product-description",children:p.description}),e.jsxs("div",{className:"product-type",children:["Type: ",e.jsx("span",{className:`type-badge ${p.type}`,children:p.type==="inapp"?"One-time":"Subscription"})]}),e.jsx("div",{className:"product-status",children:w(p.id)?e.jsx("span",{className:"status-purchased",children:"‚úÖ Purchased"}):e.jsx("button",{onClick:()=>v(p.id),disabled:t,className:"purchase-btn",children:"üõí Purchase"})})]},p.id))})]}),e.jsxs("div",{className:"billing-test-section",children:[e.jsxs("h3",{children:["üìã Purchase History (",i.length,")"]}),i.length===0?e.jsx("div",{className:"no-purchases",children:"No purchases found"}):e.jsx("div",{className:"purchases-list",children:i.map((p,j)=>e.jsxs("div",{className:"purchase-item",children:[e.jsxs("div",{className:"purchase-info",children:[e.jsx("strong",{children:p.productId}),p.purchaseToken&&e.jsxs("span",{className:"purchase-token",children:["Token: ",p.purchaseToken.substring(0,20),"..."]})]}),e.jsx("span",{className:`purchase-status ${p.success?"success":"error"}`,children:p.success?"‚úÖ Success":"‚ùå Failed"})]},j))})]}),e.jsxs("div",{className:"billing-test-info",children:[e.jsx("h3",{children:"‚ÑπÔ∏è Test Information"}),e.jsxs("ul",{children:[e.jsxs("li",{children:["This is a ",e.jsx("strong",{children:"mock implementation"})," for testing"]}),e.jsxs("li",{children:["Purchases are stored in ",e.jsx("code",{children:"localStorage"})]}),e.jsx("li",{children:"No real money is charged"}),e.jsx("li",{children:'Use "Clear Test Data" to reset all purchases'}),e.jsx("li",{children:"In production, this will connect to real Google Play Billing"})]})]})]})},ca={maxMonthlyTemplates:3},Is=()=>{try{const s=localStorage.getItem("template-usage");if(!s)return{monthlyUsage:0,lastResetDate:new Date().toISOString(),currentMonth:new Date().toISOString().slice(0,7)};const a=JSON.parse(s),t=new Date().toISOString().slice(0,7);if(a.currentMonth!==t){const n={monthlyUsage:0,lastResetDate:new Date().toISOString(),currentMonth:t};return localStorage.setItem("template-usage",JSON.stringify(n)),n}return a}catch{return{monthlyUsage:0,lastResetDate:new Date().toISOString(),currentMonth:new Date().toISOString().slice(0,7)}}},da=()=>{try{const s=Is();s.monthlyUsage+=1,localStorage.setItem("template-usage",JSON.stringify(s))}catch{}},xe=()=>{try{const s=localStorage.getItem("premium-subscription");if(!s)return!1;const a=JSON.parse(s),t=new Date().getTime();return a.expiresAt>t&&a.status==="active"}catch{return!1}},Ce=()=>{const s=xe(),a=Is();return{isPremium:s,monthlyUsage:a.monthlyUsage,maxFreeUsage:ca.maxMonthlyTemplates,canCreateCustom:s,canAccessHistory:s,canRate:s,canExport:s,canAdvancedSearch:s,canAccessPremiumTemplates:s,canRemoveAds:s}},ua=()=>{const s=Ce();return s.isPremium?!0:s.monthlyUsage<s.maxFreeUsage},ma=()=>{const s=Ce();return s.isPremium?-1:Math.max(0,s.maxFreeUsage-s.monthlyUsage)},Ds=s=>{try{localStorage.setItem("premium-subscription",JSON.stringify({...s,purchasedAt:new Date().toISOString()}))}catch{}},pa=()=>!xe(),ha=()=>{const[s,a]=m.useState(!1),t=m.useRef(null),n=ae(),{addToast:i}=ee();m.useEffect(()=>{const f=y=>{t.current&&!t.current.contains(y.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const l=async()=>{try{const f=await ue.restorePurchases();if(!f||f.length===0){i("No purchases to restore","info");return}const y=f.find(d=>d.productId.includes("pro_plan"))||f[0],v=y.productId.includes("yearly"),c=Date.now()+(v?365:30)*24*60*60*1e3;Ds({productId:y.productId,purchaseToken:y.purchaseToken||"restored",expiresAt:c,status:"active"}),i("Purchases restored successfully","success"),a(!1)}catch(f){i(f.message||"Failed to restore purchases","error")}},o=f=>{a(!1),n(f)};return e.jsxs("div",{className:"user-menu",ref:t,children:[e.jsxs("button",{className:"user-menu-trigger",onClick:()=>a(!s),"aria-haspopup":"true","aria-expanded":s,children:[e.jsxs("div",{className:"user-info",children:[e.jsx("div",{className:"user-avatar",children:e.jsx("span",{className:"avatar-text",children:"PF"})}),e.jsxs("div",{className:"user-details",children:[e.jsx("span",{className:"user-name",children:"Prompter Fresh"}),e.jsx("span",{className:"user-email",children:"Local mode"})]})]}),e.jsx(pt,{className:`dropdown-arrow ${s?"open":""}`})]}),s&&e.jsxs("div",{className:"user-dropdown",children:[e.jsxs("div",{className:"dropdown-header",children:[e.jsx("div",{className:"user-avatar large",children:e.jsx("span",{className:"avatar-text",children:"PF"})}),e.jsxs("div",{className:"user-info",children:[e.jsx("span",{className:"user-name",children:"Prompter Fresh"}),e.jsx("span",{className:"user-email",children:"Local mode"})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs("div",{className:"dropdown-menu",children:[e.jsxs("button",{className:"menu-item",onClick:()=>o("/premium"),children:[e.jsx(De,{className:"menu-icon"}),e.jsx("span",{children:"Subscription"})]}),e.jsxs("button",{className:"menu-item",onClick:l,children:[e.jsx(De,{className:"menu-icon"}),e.jsx("span",{children:"Restore purchases"})]}),e.jsxs("button",{className:"menu-item",onClick:()=>o("/settings"),children:[e.jsx(Cs,{className:"menu-icon"}),e.jsx("span",{children:"Settings"})]}),e.jsxs("button",{className:"menu-item",onClick:()=>o("/help"),children:[e.jsx(ft,{className:"menu-icon"}),e.jsx("span",{children:"Help & Support"})]})]}),e.jsx("div",{className:"dropdown-divider"}),e.jsx("div",{className:"dropdown-footer"})]})]})},ga=({className:s="",position:a="bottom"})=>{if(!pa())return null;const t=()=>{window.location.href="/premium"};return e.jsx("div",{className:`ad-banner ${a} ${s}`,children:e.jsxs("div",{className:"ad-content",children:[e.jsxs("div",{className:"ad-text",children:[e.jsx("div",{className:"ad-title",children:"üîí Premium Experience"}),e.jsx("div",{className:"ad-message",children:"Remove ads and unlock unlimited features with Premium"})]}),e.jsxs("div",{className:"ad-actions",children:[e.jsx("button",{className:"upgrade-btn",onClick:t,children:"üîì Upgrade"}),e.jsx("div",{className:"ad-price",children:"$7.99/month"})]})]})})},xa=s=>{if(!s||s.length<20)return!1;const a=s!=="sk-your-api-key-here"&&s!=="your-api-key-here"&&!s.includes("placeholder"),t=s.startsWith("sk-")||s.startsWith("sk-ant-")||s.length>20;return a&&t},fa=()=>{try{const s=localStorage.getItem("prompter-model-configs");if(!s)return null;const a=JSON.parse(s);let t=localStorage.getItem("prompter-current-model");if(!t||!a[t]){const l=Object.keys(a);if(l.length>0)t=l[0],localStorage.setItem("prompter-current-model",t);else return null}const n=a[t];return n?.apiKey&&xa(n.apiKey)?n.apiKey:null}catch{return null}},ya=()=>fa()!==null,va=({className:s=""})=>{const{currentModel:a,getApiKey:t,availableModels:n}=Ve(),[i,l]=m.useState(!1),[o,f]=m.useState("");return m.useEffect(()=>{const y=()=>{const c=n.find(j=>j.id===a);if(!c)return;const d=t(a);if(ya()){l(!1);return}if(c.provider==="Ollama"){l(!1);return}if(!d||d.trim().length===0){l(!0),f("You can use your LLM API Keys in Settings");return}if(d.includes("your-api-key")||d.includes("sk-your-api-key-here")||d.includes("placeholder")){l(!0),f(`‚ùå Please replace the placeholder ${c.provider} API key for ${c.name} with your actual API key, or switch to another AI provider in Settings.`);return}if(d.length<10){l(!0),f(`‚ùå ${c.provider} API key for ${c.name} appears to be invalid. Please check your API key or switch to another AI provider in Settings.`);return}let p=!0;switch(c.provider){case"OpenAI":d.startsWith("sk-")||(p=!1);break;case"Anthropic":d.startsWith("sk-ant-")||(p=!1);break;case"DeepSeek":d.startsWith("sk-")||(p=!1);break}if(!p){l(!0),f(`‚ùå Invalid ${c.provider} API key format for ${c.name}. Please check your API key format or switch to another AI provider in Settings.`);return}l(!1)};y();const v=setInterval(y,5e3);return()=>clearInterval(v)},[a,t,n]),i?e.jsx("div",{className:`api-key-warning ${s}`,children:e.jsxs("div",{className:"warning-content",children:[e.jsx("div",{className:"warning-icon",children:"‚ö†Ô∏è"}),e.jsxs("div",{className:"warning-text",children:[e.jsx("div",{className:"warning-title",children:"API Key Required"}),e.jsx("div",{className:"warning-message",children:o})]}),e.jsxs("div",{className:"warning-actions",children:[e.jsx("button",{className:"warning-button primary",onClick:()=>window.location.href="/settings",children:"üîß Configure AI Provider"}),e.jsx("button",{className:"warning-button secondary",onClick:()=>l(!1),children:"‚úï Dismiss"})]})]})}):null},ja=()=>{const s=ae(),a=[{title:"AI Generator",icon:ks,path:"/enhancer"},{title:"My Prompts",icon:bs,path:"/library"},{title:"Conversational Wizard",icon:ve,path:"/gallery"}];return e.jsxs("div",{className:"dashboard-page",children:[e.jsx(va,{}),e.jsxs("div",{className:"welcome-card card",children:[e.jsx("h2",{children:"Welcome to PromptCraft Pro"}),e.jsx("p",{children:"Your central hub for crafting, managing, and optimizing AI prompts."})]}),e.jsx(ga,{position:"top"}),e.jsx("div",{className:"actions-grid",children:a.map(t=>e.jsxs("div",{className:"action-card card",onClick:()=>s(t.path),children:[e.jsx("div",{className:"action-icon",children:e.jsx(t.icon,{})}),e.jsx("h3",{children:t.title}),e.jsxs("p",{children:["Access ",t.title.toLowerCase()," features"]})]},t.path))})]})},ba=()=>{const s=ae(),{addToast:a}=ee(),[t,n]=m.useState("yearly"),i=!0,l=[{icon:"‚ôæÔ∏è",title:"Unlimited Templates",description:"Use unlimited templates without monthly restrictions"},{icon:"üé®",title:"Custom Templates",description:"Create and save your own custom templates"},{icon:"üìä",title:"Template History",description:"Track your template usage and analytics"},{icon:"‚≠ê",title:"Rate & Review",description:"Rate templates and share your feedback"},{icon:"üì§",title:"Export Templates",description:"Export templates to various formats"},{icon:"üîç",title:"Advanced Search",description:"Advanced search filters and options"},{icon:"‚ú®",title:"Premium Templates",description:"Access to exclusive premium templates"},{icon:"üö´",title:"Remove Ads",description:"Enjoy ad-free experience throughout the app"},{icon:"üöÄ",title:"Priority Support",description:"Get priority customer support"}],o=[{id:"monthly",name:"Monthly Plan",price:"$7.99",period:"/month",originalPrice:null,savings:null,popular:!1},{id:"yearly",name:"Annual Plan",price:"$79.99",period:"/year",originalPrice:"$95.88",savings:"Save 17% ($15.89)",popular:!0}],f=async v=>{try{const c=v==="monthly"?"com.prompterfresh.app.pro_plan_monthly":"com.prompterfresh.app.pro_plan_yearly",d=await ue.purchaseProduct(c);if(d.success){const w=Date.now()+(v==="yearly"?365:30)*24*60*60*1e3;Ds({productId:d.productId,purchaseToken:d.purchaseToken||"local",expiresAt:w,status:"active"}),a("Premium activated successfully","success")}else throw new Error(d.error||"Purchase failed")}catch(c){const d=c instanceof Error?c.message:"Failed to complete purchase";a(d,"error")}},y=()=>{s("/gallery")};return e.jsxs("div",{className:"premium-page",children:[e.jsxs("header",{className:"premium-header",children:[e.jsx("button",{className:"back-btn",onClick:y,children:"‚Üê Back to Gallery"}),e.jsxs("div",{className:"header-content",children:[e.jsx("h1",{children:"üîì Conversational Wizard Premium"}),e.jsx("p",{children:"Unlock unlimited access to all templates and premium features"})]}),!i]}),e.jsx("section",{className:"hero-section",children:e.jsxs("div",{className:"hero-content",children:[e.jsxs("div",{className:"hero-text",children:[e.jsx("h2",{children:"Transform Your AI Experience"}),e.jsx("p",{children:"Get unlimited access to our comprehensive template library and advanced features. Perfect for professionals, creators, and anyone serious about AI productivity."}),e.jsxs("div",{className:"hero-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:"500+"}),e.jsx("span",{className:"stat-label",children:"Templates"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:"10+"}),e.jsx("span",{className:"stat-label",children:"Categories"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:"‚àû"}),e.jsx("span",{className:"stat-label",children:"Usage"})]})]})]}),e.jsx("div",{className:"hero-visual",children:e.jsx("div",{className:"premium-badge-large",children:"‚≠ê Premium"})})]})}),e.jsxs("section",{className:"features-section",children:[e.jsx("h2",{children:"Premium Features"}),e.jsx("div",{className:"features-grid",children:l.map((v,c)=>e.jsxs("div",{className:"feature-card",children:[e.jsx("div",{className:"feature-icon",children:v.icon}),e.jsxs("div",{className:"feature-content",children:[e.jsx("h3",{children:v.title}),e.jsx("p",{children:v.description})]})]},c))})]}),e.jsxs("section",{className:"pricing-section",children:[e.jsx("h2",{children:"Choose Your Plan"}),e.jsx("div",{className:"plan-selector",children:o.map(v=>e.jsxs("button",{className:`plan-option ${t===v.id?"selected":""} ${v.popular?"popular":""}`,onClick:()=>n(v.id),children:[v.popular&&e.jsx("span",{className:"popular-badge",children:"Most Popular"}),e.jsxs("div",{className:"plan-info",children:[e.jsx("h3",{children:v.name}),e.jsxs("div",{className:"plan-price",children:[e.jsx("span",{className:"price",children:v.price}),e.jsx("span",{className:"period",children:v.period})]}),v.originalPrice&&e.jsx("div",{className:"original-price",children:e.jsxs("span",{children:["Was ",v.originalPrice]})}),v.savings&&e.jsx("div",{className:"savings",children:v.savings})]})]},v.id))}),e.jsx("div",{className:"selected-plan-details",children:e.jsxs("div",{className:"plan-card","aria-disabled":!i,children:[e.jsxs("div",{className:"plan-header",children:[e.jsx("h3",{children:o.find(v=>v.id===t)?.name}),e.jsxs("div",{className:"plan-price-large",children:[e.jsx("span",{className:"price",children:o.find(v=>v.id===t)?.price}),e.jsx("span",{className:"period",children:o.find(v=>v.id===t)?.period})]}),o.find(v=>v.id===t)?.savings&&e.jsx("div",{className:"savings-large",children:o.find(v=>v.id===t)?.savings})]}),e.jsxs("div",{className:"plan-features",children:[e.jsx("h4",{children:"Everything included:"}),e.jsx("ul",{children:l.map((v,c)=>e.jsxs("li",{children:[e.jsx("span",{className:"check-icon",children:"‚úÖ"}),v.title]},c))})]}),e.jsx("button",{className:"upgrade-btn-large",onClick:()=>f(t),disabled:!i,children:"üîì Upgrade to Premium"})]})})]}),e.jsxs("section",{className:"faq-section",children:[e.jsx("h2",{children:"Frequently Asked Questions"}),e.jsxs("div",{className:"faq-grid",children:[e.jsxs("div",{className:"faq-item",children:[e.jsx("h3",{children:"Can I cancel anytime?"}),e.jsx("p",{children:"Yes, you can cancel your subscription anytime through Google Play Store settings. No questions asked."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h3",{children:"What happens after I upgrade?"}),e.jsx("p",{children:"You'll immediately get access to all premium features and unlimited template usage."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h3",{children:"Is there a free trial?"}),e.jsx("p",{children:"You can try 3 templates for free each month. Upgrade to unlock unlimited access."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h3",{children:"Can I use on multiple devices?"}),e.jsx("p",{children:"Yes, your premium subscription works across all your devices with the same Google account."})]})]})]}),e.jsx("footer",{className:"premium-footer",children:e.jsxs("div",{className:"footer-content",children:[e.jsx("p",{className:"terms",children:"* Subscription automatically renews unless cancelled. Cancel anytime in Google Play Store settings."}),e.jsx("button",{className:"back-to-gallery-btn",onClick:y,children:"‚Üê Back to Template Gallery"})]})})]})},Na=`You are a Master Prompt Engineer and AI Instruction Architect. Your expertise lies in transforming user objectives into precisely-crafted, command-based prompts that maximize AI model performance.

**Core Mission:**
Transform user prompts into precise, command-based instructions that AI models can execute immediately without additional clarification.

**Enhancement Process:**
1. **Analyze**: Understand the user's goal, target audience, and context
2. **Structure**: Create clear role, task, context, and output sections
3. **Command**: Transform into imperative, action-based instructions
4. **Execute**: Provide immediately actionable prompt

**IMPERATIVE PRINCIPLES:**
- Use command form ONLY (e.g., "Write...", "Analyze...", "Create...", "Design...")
- Start every instruction with action verbs
- Assign specific professional roles to the AI model
- Include clear task definitions and context
- Provide step-by-step command instructions
- Specify exact output format and criteria
- Set clear constraints and limitations

**COMMAND STRUCTURE MANDATORY:**
1. ROLE: "You are a [professional role]..."
2. TASK: "Your task is to [specific action using imperative commands]..."
3. CONTEXT: "Given [context information]..."
4. INSTRUCTIONS: "Follow these steps: [step-by-step commands]..."
5. OUTPUT: "Provide your response in [format] with [criteria]..."
6. CONSTRAINTS: "Ensure [specific limitations/requirements]..."

**Quality Standards:**
- Clear and unambiguous command instructions
- Appropriate level of detail for the task
- Considers edge cases and potential misunderstandings
- Balances creativity with precision
- Optimized for AI model capabilities
- Immediately executable without clarification

**OUTPUT FORMAT:**
Provide ONLY the enhanced prompt in command form, followed by a brief explanation of key command improvements made.

Remember: Every instruction must be a direct command that an AI model can execute immediately. Focus on actionable, command-based effectiveness.`,ka=(s,a,t)=>`You are a Master Prompt Engineer specializing in ${s} with deep expertise in prompt optimization and AI instruction architecture.

**Core Mission:**
Transform user prompts into precise, command-based instructions that AI models can execute immediately without additional clarification.

**Domain Expertise:**
- Extensive knowledge of ${s} industry standards and best practices
- Understanding of ${s} terminology, methodologies, and workflows
- Experience with ${s}-specific challenges and solutions
- Familiarity with ${s} professional requirements and expectations

**Enhancement Strategy:**
1. **Role Assignment**: Assign the AI model a specific ${s} professional role
2. **Task Definition**: Define the exact task using imperative commands
3. **Context Provision**: Provide relevant ${s} context and background
4. **Instruction Structure**: Create step-by-step command instructions
5. **Output Specification**: Define exact output format and criteria
6. **Constraint Setting**: Establish clear limitations and requirements

**IMPERATIVE OUTPUT REQUIREMENTS:**
- Use command form ONLY (e.g., "Write...", "Analyze...", "Create...", "Design...")
- Start every instruction with action verbs
- Include specific ${s} terminology and standards
- Apply ${a} level appropriate technical depth
- Structure content for ${t} format requirements
- Maintain professional ${s} tone and terminology
- Make instructions immediately executable

**COMMAND STRUCTURE MANDATORY:**
1. ROLE: "You are a [${s} professional role]..."
2. TASK: "Your task is to [specific action using imperative commands]..."
3. CONTEXT: "Given [${s} context information]..."
4. INSTRUCTIONS: "Follow these steps: [step-by-step commands]..."
5. OUTPUT: "Provide your response in [${t}] with [specific criteria]..."
6. CONSTRAINTS: "Ensure [${s} specific limitations/requirements]..."

**Quality Standards:**
- Clear and unambiguous command instructions for ${s} context
- Appropriate level of detail for ${a} level
- Considers ${s} edge cases and potential misunderstandings
- Balances creativity with ${s} precision and accuracy
- Optimized for ${s} AI model capabilities and limitations

**OUTPUT FORMAT:**
Provide ONLY the enhanced prompt in command form, followed by a brief explanation of key command improvements made.

Remember: Every instruction must be a direct command that an AI model can execute immediately.`,wa=s=>{const a={beginner:{detail:"Basic concepts and fundamental approaches",examples:"Simple, clear examples with step-by-step explanations",terminology:"Avoid jargon, use simple language",structure:"Clear, linear structure with basic formatting",commands:"Use basic action verbs: Write, Create, Make, Show, Explain"},intermediate:{detail:"Moderate complexity with practical applications",examples:"Real-world examples with moderate technical depth",terminology:"Use industry terms with brief explanations",structure:"Structured format with clear sections and subsections",commands:"Use intermediate action verbs: Analyze, Design, Develop, Implement, Evaluate"},advanced:{detail:"High-level concepts with advanced techniques",examples:"Complex examples with detailed technical analysis",terminology:"Use advanced terminology and industry jargon",structure:"Sophisticated structure with multiple layers and references",commands:"Use advanced action verbs: Architect, Optimize, Synthesize, Integrate, Transform"},expert:{detail:"Expert-level insights with cutting-edge approaches",examples:"Advanced case studies with comprehensive analysis",terminology:"Use specialized terminology and technical language",structure:"Complex structure with multiple dimensions and deep analysis",commands:"Use expert action verbs: Orchestrate, Innovate, Pioneer, Master, Revolutionize"}},t=a[s]||a.intermediate;return`
**Complexity Level: ${s.toUpperCase()}**
‚Ä¢ Detail Level: ${t.detail}
‚Ä¢ Examples: ${t.examples}
‚Ä¢ Terminology: ${t.terminology}
‚Ä¢ Structure: ${t.structure}
‚Ä¢ Commands: ${t.commands}
  `.trim()},Ca=s=>{const a={paragraph:{structure:"Flowing narrative with logical progression",length:"Concise but comprehensive paragraphs",style:"Professional, readable prose",commands:"Use commands: Write, Compose, Develop, Craft, Formulate"},bullet_points:{structure:"Clear, organized bullet points",length:"Concise, actionable items",style:"Direct, scannable format",commands:"Use commands: List, Organize, Categorize, Structure, Arrange"},numbered_list:{structure:"Sequential, step-by-step format",length:"Clear, ordered instructions",style:"Procedural, easy to follow",commands:"Use commands: Sequence, Order, Number, Step, Process"},table:{structure:"Organized data in tabular format",length:"Structured information with clear headers",style:"Systematic, easy to compare",commands:"Use commands: Tabulate, Organize, Structure, Format, Arrange"},code:{structure:"Programmatic format with syntax highlighting",length:"Functional, well-commented code",style:"Technical, executable format",commands:"Use commands: Code, Program, Implement, Develop, Create"}},t=a[s]||a.paragraph;return`
**Output Format: ${s.toUpperCase()}**
‚Ä¢ Structure: ${t.structure}
‚Ä¢ Length: ${t.length}
‚Ä¢ Style: ${t.style}
‚Ä¢ Commands: ${t.commands}
  `.trim()},Oe="prompter-token-usage-events",X=s=>{if(!s)return 0;const a=s.trim().length;return Math.max(1,Math.ceil(a/4))},ye=s=>{try{const a=localStorage.getItem(Oe),t=a?JSON.parse(a):[];t.push(s);const n=t.slice(-500);localStorage.setItem(Oe,JSON.stringify(n))}catch{}},ms=()=>{try{const s=localStorage.getItem(Oe),a=s?JSON.parse(s):[],t=new Date,n=t.getFullYear(),i=t.getMonth(),l=new Date(n,i,1).getTime(),o=new Date(n,i+1,1).getTime(),f=a.filter(d=>d.timestamp>=l&&d.timestamp<o),y=f.reduce((d,w)=>d+(w.promptTokens||0),0),v=f.reduce((d,w)=>d+(w.completionTokens||0),0),c=f.reduce((d,w)=>d+(w.totalTokens||0),0);return{prompt:y,completion:v,total:c,count:f.length}}catch{return{prompt:0,completion:0,total:0,count:0}}},ps=(s=20)=>{try{const a=localStorage.getItem(Oe);return(a?JSON.parse(a):[]).slice(-s)}catch{return[]}},Ye=async s=>{const{userPrompt:a,apiKey:t,language:n="fa",modelId:i,temperature:l=.7,domain:o="General",complexity:f="intermediate",outputFormat:y="paragraph"}=s;try{let v,c=null;if(i){v=Re.find(E=>E.id===i);const T=localStorage.getItem("prompter-model-configs");if(T)try{c=JSON.parse(T)[i]}catch{}}else{const T=localStorage.getItem("prompter-current-model")||"openai-gpt35";v=Re.find(M=>M.id===T);const E=localStorage.getItem("prompter-model-configs");if(E)try{c=JSON.parse(E)[T]}catch{}}if(!v)throw new Error("No AI model selected. Please configure a model in Settings.");if(!t||t.trim().length===0)throw new Error(`API key is required for ${v.provider}. Please set it in Settings.`);const d=n==="fa"?"Respond only in Persian (Farsi). Do not include any translations or bilingual content.":n==="en"?"Respond only in English. Do not include any translations or bilingual content.":`Respond only in ${n}. Do not include any translations or bilingual content.`,w=`${a}

${d}`;let p=Na;if(o&&o!=="General"){p=ka(o,f,y);const T=wa(f),E=Ca(y);p=`${p}

${T}

${E}`}const j=[{role:"system",content:p},{role:"user",content:w}],x=c?.temperature||l,u=c?.maxTokens||4096;return await Sa(v,t,j,x,u)}catch(v){throw v}},Sa=async(s,a,t,n,i)=>{try{switch(s.provider){case"OpenAI":return await Pa(s,a,t,n,i);case"Anthropic":return await Ta(s,a,t,n,i);case"Google":return await Aa(s,a,t,n,i);case"Mistral AI":return await Ea(s,a,t,n,i);case"Cohere":return await Ia(s,a,t,n,i);case"Ollama":return await Da(s,t,n,i);case"DeepSeek":return await La(s,a,t,n,i);default:throw new Error(`Unsupported AI provider: ${s.provider}`)}}catch(l){let o=l.message||`Error calling ${s.provider} API`;throw l.response?.status===401?(o="Invalid API key",H.showInvalidApiKey(s.provider)):l.response?.status===429?(o="Rate limit exceeded. Please wait a moment",H.addToast({type:"warning",title:`‚è≥ Rate Limit - ${s.provider}`,message:o,duration:5e3})):l.response?.status>=500?(o="Server error. Please try again later",H.addToast({type:"error",title:`üö´ Server Error - ${s.provider}`,message:o,duration:6e3})):l.code==="ECONNABORTED"||l.code==="ENETUNREACH"?(o="Internet connection problem",H.showConnectionError(s.provider)):H.showApiKeyError(s.provider,o),new Error(o)}},Pa=async(s,a,t,n,i)=>{const l=s.id==="openai-gpt4"?"gpt-4":"gpt-3.5-turbo",o=await fe.post(s.defaultEndpoint,{model:l,messages:t,temperature:n,max_tokens:i},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}),f=o.data.choices[0].message.content,y=o.data.usage,v=y?.prompt_tokens??X(t.map(w=>w.content).join(`
`)),c=y?.completion_tokens??X(f),d=y?.total_tokens??v+c;return ye({provider:s.provider,modelId:s.id,promptTokens:v,completionTokens:c,totalTokens:d,timestamp:Date.now(),approximate:!y}),f},Ta=async(s,a,t,n,i)=>{const l=t.find(p=>p.role==="system"),o=t.filter(p=>p.role!=="system"),f=s.id==="claude-3-sonnet"?"claude-3-sonnet-20240229":"claude-3-haiku-20240307",v=(await fe.post(s.defaultEndpoint,{model:f,system:l?.content||"",messages:o,temperature:n,max_tokens:i},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json","anthropic-version":"2023-06-01"}})).data.content?.[0]?.text||"",c=X((l?.content||"")+`
`+o.map(p=>p.content).join(`
`)),d=X(v),w=c+d;return ye({provider:s.provider,modelId:s.id,promptTokens:c,completionTokens:d,totalTokens:w,timestamp:Date.now(),approximate:!0}),v},Aa=async(s,a,t,n,i)=>{const l=t.find(w=>w.role==="system")?.content||"",o=t.filter(w=>w.role!=="system").map(w=>w.content).join(`
`),y=(await fe.post(`${s.defaultEndpoint}?key=${a}`,{contents:[{parts:[{text:l+`

`+o}]}],generationConfig:{temperature:n,maxOutputTokens:i}},{headers:{"Content-Type":"application/json"}})).data.candidates?.[0]?.content?.parts?.[0]?.text||"",v=X(l+`

`+o),c=X(y),d=v+c;return ye({provider:s.provider,modelId:s.id,promptTokens:v,completionTokens:c,totalTokens:d,timestamp:Date.now(),approximate:!0}),y},Ea=async(s,a,t,n,i)=>{const o=(await fe.post(s.defaultEndpoint,{model:s.id,messages:t,temperature:n,max_tokens:i},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data.choices?.[0]?.message?.content||"",f=X(t.map(c=>c.content).join(`
`)),y=X(o),v=f+y;return ye({provider:s.provider,modelId:s.id,promptTokens:f,completionTokens:y,totalTokens:v,timestamp:Date.now(),approximate:!0}),o},Ia=async(s,a,t,n,i)=>{const l=t.map(d=>`${d.role}: ${d.content}`).join(`
`),f=(await fe.post(s.defaultEndpoint,{model:s.id,prompt:l,temperature:n,max_tokens:i},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data.generations?.[0]?.text||"",y=X(l),v=X(f),c=y+v;return ye({provider:s.provider,modelId:s.id,promptTokens:y,completionTokens:v,totalTokens:c,timestamp:Date.now(),approximate:!0}),f},Da=async(s,a,t,n)=>{const i=await fe.post(s.defaultEndpoint,{model:s.id,messages:a,temperature:t,num_predict:n},{headers:{"Content-Type":"application/json"}}),l=i.data.message?.content||i.data.response||"",o=X(a.map(v=>v.content).join(`
`)),f=X(l),y=o+f;return ye({provider:s.provider,modelId:s.id,promptTokens:o,completionTokens:f,totalTokens:y,timestamp:Date.now(),approximate:!0}),l},La=async(s,a,t,n,i)=>{const l=await fe.post(s.defaultEndpoint,{model:s.id,messages:t,temperature:n,max_tokens:i},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}),o=l.data.choices?.[0]?.message?.content||"",f=l.data.usage,y=f?.prompt_tokens??X(t.map(d=>d.content).join(`
`)),v=f?.completion_tokens??X(o),c=f?.total_tokens??y+v;return ye({provider:s.provider,modelId:s.id,promptTokens:y,completionTokens:v,totalTokens:c,timestamp:Date.now(),approximate:!f}),o},Ra=Object.freeze(Object.defineProperty({__proto__:null,enhancePrompt:Ye},Symbol.toStringTag,{value:"Module"})),Ls=({userPrompt:s,onResult:a,onError:t,disabled:n=!1,className:i="",forceEnglishOutput:l=!1})=>{const[o,f]=m.useState(!1),y=async()=>{if(!s.trim()){H.addToast({type:"warning",title:"‚ö†Ô∏è Prompt Required",message:"Please enter a prompt to test",duration:3e3});return}f(!0);try{const v=localStorage.getItem("prompter-current-model")||"openai-gpt35",c=localStorage.getItem("prompter-model-configs");let d="";if(c)try{d=JSON.parse(c)[v]?.apiKey||""}catch{}if(!d)throw new Error("API key not found. Please set your API key in Settings.");const p=await Ye({userPrompt:s,apiKey:d,modelId:v,language:l?"en":(j=>{try{return/\p{Script=Arabic}/u.test(j)?"fa":/\p{Script=Latin}/u.test(j)?"en":navigator.language?.slice(0,2)||"en"}catch{return"en"}})(s)});a(p),H.addToast({type:"success",title:"‚úÖ API Call Successful",message:"Your personal API key worked perfectly!",duration:3e3})}catch(v){const c=v.message||"Error making API call";t(c),H.addToast({type:"error",title:"‚ùå API Call Failed",message:c,duration:5e3})}finally{f(!1)}};return e.jsxs("div",{className:`api-test-button ${i}`,children:[e.jsx("button",{className:`test-button ${o?"loading":""}`,onClick:y,disabled:n||o,children:o?e.jsx("span",{className:"loading-spinner",children:"‚è≥"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"icon",children:"üîë"}),e.jsx("span",{className:"text",children:"Test Personal API Key"})]})}),e.jsxs("div",{className:"api-info",children:[e.jsx("p",{children:"üîë Using your personal API key"}),e.jsx("small",{children:"No usage limits - you pay for your own API calls"})]})]})},Oa=()=>{const{addToast:s}=ee(),a=ae(),t=xe(),[n,i]=m.useState({id:"default",organizationName:"My Organization",logo:"",primaryColor:"#3b82f6",secondaryColor:"#1e40af",accentColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937",fontFamily:"Inter, sans-serif",borderRadius:"rounded",theme:"light",headerSettings:{showLogo:!0,showOrgName:!0,showNavigation:!0,headerColor:"#ffffff",headerTextColor:"#1f2937"},footerSettings:{showFooter:!0,footerText:"¬© 2024 My Organization. All rights reserved.",footerColor:"#f8fafc",showPoweredBy:!1},features:{customDomain:!1,removeWatermark:!1,customEmail:!1,whiteLabel:!1,apiAccess:!1},customDomains:[]}),[l,o]=m.useState("colors"),[f,y]=m.useState("desktop"),[v,c]=m.useState(!1),d=[{name:"Professional Blue",primary:"#3b82f6",secondary:"#1e40af",accent:"#10b981",background:"#ffffff",text:"#1f2937"},{name:"Corporate Purple",primary:"#8b5cf6",secondary:"#7c3aed",accent:"#f59e0b",background:"#ffffff",text:"#1f2937"},{name:"Modern Green",primary:"#10b981",secondary:"#059669",accent:"#3b82f6",background:"#ffffff",text:"#1f2937"},{name:"Dark Mode",primary:"#60a5fa",secondary:"#3b82f6",accent:"#34d399",background:"#1f2937",text:"#ffffff"},{name:"Warm Orange",primary:"#f97316",secondary:"#ea580c",accent:"#8b5cf6",background:"#ffffff",text:"#1f2937"}],w=[{name:"Inter",value:"Inter, sans-serif"},{name:"Roboto",value:"Roboto, sans-serif"},{name:"Open Sans",value:"Open Sans, sans-serif"},{name:"Poppins",value:"Poppins, sans-serif"},{name:"Lato",value:"Lato, sans-serif"},{name:"Montserrat",value:"Montserrat, sans-serif"},{name:"Source Sans Pro",value:"Source Sans Pro, sans-serif"},{name:"Arial",value:"Arial, sans-serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Times New Roman",value:"Times New Roman, serif"}],p=(g,O)=>{i(F=>({...F,[g]:O}))},j=(g,O,F)=>{i(S=>({...S,[g]:{...S[g],[O]:F}}))},x=g=>{i(O=>({...O,primaryColor:g.primary,secondaryColor:g.secondary,accentColor:g.accent,backgroundColor:g.background,textColor:g.text})),s(`Applied "${g.name}" theme`,"success")},u=()=>{const g=JSON.stringify(n,null,2),O=new Blob([g],{type:"application/json"}),F=URL.createObjectURL(O),S=document.createElement("a");S.href=F,S.download=`branding-config-${n.organizationName.toLowerCase().replace(/\s+/g,"-")}.json`,S.click(),s("Configuration exported successfully!","success")},T=g=>{const O=g.target.files?.[0];if(O){const F=new FileReader;F.onload=S=>{try{const b=JSON.parse(S.target?.result);i(b),s("Configuration imported successfully!","success")}catch{s("Invalid configuration file","error")}},F.readAsText(O)}},E=()=>`
:root {
  --primary-color: ${n.primaryColor};
  --secondary-color: ${n.secondaryColor};
  --accent-color: ${n.accentColor};
  --background-color: ${n.backgroundColor};
  --text-color: ${n.textColor};
  --font-family: ${n.fontFamily};
  --border-radius: ${n.borderRadius==="sharp"?"0px":n.borderRadius==="rounded"?"8px":"16px"};
  --header-color: ${n.headerSettings.headerColor};
  --header-text-color: ${n.headerSettings.headerTextColor};
  --footer-color: ${n.footerSettings.footerColor};
}

body {
  font-family: var(--font-family);
  background-color: var(--background-color);
  color: var(--text-color);
}

.btn-primary {
  background: var(--primary-color);
  border-radius: var(--border-radius);
}

.btn-secondary {
  background: var(--secondary-color);
  border-radius: var(--border-radius);
}

.btn-accent {
  background: var(--accent-color);
  border-radius: var(--border-radius);
}

${n.customCss||""}
    `.trim(),M=()=>{navigator.clipboard.writeText(E()),s("CSS copied to clipboard!","success")},U=async()=>{if((n.features.customDomain||n.features.removeWatermark||n.features.customEmail||n.features.whiteLabel||n.features.apiAccess)&&!t){s("Advanced branding features require Premium subscription","warning"),setTimeout(()=>{a("/premium")},1500);return}c(!0);try{await new Promise(O=>setTimeout(O,1e3)),s("Configuration saved successfully!","success")}catch{s("Failed to save configuration","error")}finally{c(!1)}},D=()=>{switch(l){case"colors":return e.jsxs("div",{className:"tab-content",children:[e.jsx("h3",{children:"üé® Colors & Theme"}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Quick Themes"}),e.jsx("div",{className:"theme-grid",children:d.map(g=>e.jsxs("div",{className:"theme-card",onClick:()=>x(g),children:[e.jsxs("div",{className:"theme-preview",children:[e.jsx("div",{className:"color-block primary",style:{backgroundColor:g.primary}}),e.jsx("div",{className:"color-block secondary",style:{backgroundColor:g.secondary}}),e.jsx("div",{className:"color-block accent",style:{backgroundColor:g.accent}})]}),e.jsx("span",{className:"theme-name",children:g.name})]},g.name))})]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Custom Colors"}),e.jsxs("div",{className:"color-inputs",children:[e.jsxs("div",{className:"color-input-group",children:[e.jsx("label",{children:"Primary Color"}),e.jsxs("div",{className:"color-input-wrapper",children:[e.jsx("input",{type:"color",value:n.primaryColor,onChange:g=>p("primaryColor",g.target.value)}),e.jsx("input",{type:"text",value:n.primaryColor,onChange:g=>p("primaryColor",g.target.value),className:"color-text-input"})]})]}),e.jsxs("div",{className:"color-input-group",children:[e.jsx("label",{children:"Secondary Color"}),e.jsxs("div",{className:"color-input-wrapper",children:[e.jsx("input",{type:"color",value:n.secondaryColor,onChange:g=>p("secondaryColor",g.target.value)}),e.jsx("input",{type:"text",value:n.secondaryColor,onChange:g=>p("secondaryColor",g.target.value),className:"color-text-input"})]})]}),e.jsxs("div",{className:"color-input-group",children:[e.jsx("label",{children:"Accent Color"}),e.jsxs("div",{className:"color-input-wrapper",children:[e.jsx("input",{type:"color",value:n.accentColor,onChange:g=>p("accentColor",g.target.value)}),e.jsx("input",{type:"text",value:n.accentColor,onChange:g=>p("accentColor",g.target.value),className:"color-text-input"})]})]}),e.jsxs("div",{className:"color-input-group",children:[e.jsx("label",{children:"Background Color"}),e.jsxs("div",{className:"color-input-wrapper",children:[e.jsx("input",{type:"color",value:n.backgroundColor,onChange:g=>p("backgroundColor",g.target.value)}),e.jsx("input",{type:"text",value:n.backgroundColor,onChange:g=>p("backgroundColor",g.target.value),className:"color-text-input"})]})]}),e.jsxs("div",{className:"color-input-group",children:[e.jsx("label",{children:"Text Color"}),e.jsxs("div",{className:"color-input-wrapper",children:[e.jsx("input",{type:"color",value:n.textColor,onChange:g=>p("textColor",g.target.value)}),e.jsx("input",{type:"text",value:n.textColor,onChange:g=>p("textColor",g.target.value),className:"color-text-input"})]})]})]})]})]});case"layout":return e.jsxs("div",{className:"tab-content",children:[e.jsx("h3",{children:"üìê Layout & Typography"}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Typography"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Font Family"}),e.jsx("select",{value:n.fontFamily,onChange:g=>p("fontFamily",g.target.value),children:w.map(g=>e.jsx("option",{value:g.value,children:g.name},g.value))})]})]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Border Radius"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"borderRadius",value:"sharp",checked:n.borderRadius==="sharp",onChange:g=>p("borderRadius",g.target.value)}),e.jsx("span",{className:"radio-label",children:"Sharp (0px)"}),e.jsx("div",{className:"radius-preview sharp"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"borderRadius",value:"rounded",checked:n.borderRadius==="rounded",onChange:g=>p("borderRadius",g.target.value)}),e.jsx("span",{className:"radio-label",children:"Rounded (8px)"}),e.jsx("div",{className:"radius-preview rounded"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"borderRadius",value:"extra-rounded",checked:n.borderRadius==="extra-rounded",onChange:g=>p("borderRadius",g.target.value)}),e.jsx("span",{className:"radio-label",children:"Extra Rounded (16px)"}),e.jsx("div",{className:"radius-preview extra-rounded"})]})]})]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Theme Mode"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"theme",value:"light",checked:n.theme==="light",onChange:g=>p("theme",g.target.value)}),e.jsx("span",{className:"radio-label",children:"‚òÄÔ∏è Light"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"theme",value:"dark",checked:n.theme==="dark",onChange:g=>p("theme",g.target.value)}),e.jsx("span",{className:"radio-label",children:"üåô Dark"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"theme",value:"auto",checked:n.theme==="auto",onChange:g=>p("theme",g.target.value)}),e.jsx("span",{className:"radio-label",children:"üîÑ Auto"})]})]})]})]});case"branding":return e.jsxs("div",{className:"tab-content",children:[e.jsx("h3",{children:"üè¢ Organization Branding"}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Basic Information"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Organization Name"}),e.jsx("input",{type:"text",value:n.organizationName,onChange:g=>p("organizationName",g.target.value),placeholder:"Enter your organization name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Logo URL"}),e.jsx("input",{type:"url",value:n.logo,onChange:g=>p("logo",g.target.value),placeholder:"https://example.com/logo.png"}),n.logo&&e.jsx("div",{className:"logo-preview",children:e.jsx("img",{src:n.logo,alt:"Logo Preview"})})]})]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Header Settings"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:n.headerSettings.showLogo,onChange:g=>j("headerSettings","showLogo",g.target.checked)}),"Show Logo in Header"]}),e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:n.headerSettings.showOrgName,onChange:g=>j("headerSettings","showOrgName",g.target.checked)}),"Show Organization Name"]}),e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:n.headerSettings.showNavigation,onChange:g=>j("headerSettings","showNavigation",g.target.checked)}),"Show Navigation Menu"]})]}),e.jsxs("div",{className:"color-inputs",children:[e.jsxs("div",{className:"color-input-group",children:[e.jsx("label",{children:"Header Background"}),e.jsxs("div",{className:"color-input-wrapper",children:[e.jsx("input",{type:"color",value:n.headerSettings.headerColor,onChange:g=>j("headerSettings","headerColor",g.target.value)}),e.jsx("input",{type:"text",value:n.headerSettings.headerColor,onChange:g=>j("headerSettings","headerColor",g.target.value),className:"color-text-input"})]})]}),e.jsxs("div",{className:"color-input-group",children:[e.jsx("label",{children:"Header Text Color"}),e.jsxs("div",{className:"color-input-wrapper",children:[e.jsx("input",{type:"color",value:n.headerSettings.headerTextColor,onChange:g=>j("headerSettings","headerTextColor",g.target.value)}),e.jsx("input",{type:"text",value:n.headerSettings.headerTextColor,onChange:g=>j("headerSettings","headerTextColor",g.target.value),className:"color-text-input"})]})]})]})]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Footer Settings"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:n.footerSettings.showFooter,onChange:g=>j("footerSettings","showFooter",g.target.checked)}),"Show Footer"]}),e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:n.footerSettings.showPoweredBy,onChange:g=>j("footerSettings","showPoweredBy",g.target.checked)}),'Show "Powered by Prompter"']})]}),n.footerSettings.showFooter&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Footer Text"}),e.jsx("input",{type:"text",value:n.footerSettings.footerText,onChange:g=>j("footerSettings","footerText",g.target.value),placeholder:"¬© 2024 Your Organization. All rights reserved."})]}),e.jsxs("div",{className:"color-input-group",children:[e.jsx("label",{children:"Footer Background"}),e.jsxs("div",{className:"color-input-wrapper",children:[e.jsx("input",{type:"color",value:n.footerSettings.footerColor,onChange:g=>j("footerSettings","footerColor",g.target.value)}),e.jsx("input",{type:"text",value:n.footerSettings.footerColor,onChange:g=>j("footerSettings","footerColor",g.target.value),className:"color-text-input"})]})]})]})]})]});case"features":return e.jsxs("div",{className:"tab-content",children:[e.jsx("h3",{children:"‚ö° Enterprise Features"}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"White-label Features"}),e.jsxs("div",{className:"feature-grid",children:[e.jsxs("div",{className:"feature-card",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-icon",children:"üåê"}),e.jsx("h5",{children:"Custom Domain"}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:n.features.customDomain,onChange:g=>j("features","customDomain",g.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("p",{children:"Use your own domain name for the application"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-icon",children:"üè∑Ô∏è"}),e.jsx("h5",{children:"Remove Watermark"}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:n.features.removeWatermark,onChange:g=>j("features","removeWatermark",g.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("p",{children:"Remove all Prompter branding and watermarks"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-icon",children:"üìß"}),e.jsx("h5",{children:"Custom Email Domain"}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:n.features.customEmail,onChange:g=>j("features","customEmail",g.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("p",{children:"Send emails from your own domain"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-icon",children:"üîó"}),e.jsx("h5",{children:"API Access"}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:n.features.apiAccess,onChange:g=>j("features","apiAccess",g.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("p",{children:"Full API access for integrations"})]}),e.jsxs("div",{className:"feature-card",children:[e.jsxs("div",{className:"feature-header",children:[e.jsx("span",{className:"feature-icon",children:"üé®"}),e.jsx("h5",{children:"Complete White-label"}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:n.features.whiteLabel,onChange:g=>j("features","whiteLabel",g.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("p",{children:"Complete rebranding as your own product"})]})]})]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Custom CSS"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Additional CSS (Advanced)"}),e.jsx("textarea",{value:n.customCss||"",onChange:g=>p("customCss",g.target.value),placeholder:`/* Add your custom CSS here */
.custom-class {
  color: #example;
}`,rows:10,className:"css-editor"})]}),e.jsx("div",{className:"css-actions",children:e.jsx("button",{onClick:M,className:"copy-css-btn",children:"üìã Copy Generated CSS"})})]})]});case"domains":return e.jsxs("div",{className:"tab-content",children:[e.jsx("h3",{children:"üåê Custom Domains"}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Domain Management"}),e.jsxs("div",{className:"domain-input",children:[e.jsx("input",{type:"text",placeholder:"yourdomain.com",onKeyPress:g=>{if(g.key==="Enter"){const O=g.target.value;O&&!n.customDomains.includes(O)&&(i(F=>({...F,customDomains:[...F.customDomains,O]})),g.target.value="")}}}),e.jsx("span",{className:"domain-hint",children:"Press Enter to add domain"})]}),e.jsx("div",{className:"domains-list",children:n.customDomains.map((g,O)=>e.jsxs("div",{className:"domain-item",children:[e.jsx("span",{className:"domain-name",children:g}),e.jsxs("div",{className:"domain-status",children:[e.jsx("span",{className:"status-badge pending",children:"Pending"}),e.jsx("button",{onClick:()=>{i(F=>({...F,customDomains:F.customDomains.filter((S,b)=>b!==O)}))},className:"remove-domain",children:"‚úï"})]})]},O))}),n.customDomains.length===0&&e.jsxs("div",{className:"no-domains",children:[e.jsx("span",{className:"no-domains-icon",children:"üåê"}),e.jsx("p",{children:"No custom domains configured"}),e.jsx("p",{className:"hint",children:"Add your first domain above"})]})]})]});case"preview":return e.jsxs("div",{className:"tab-content",children:[e.jsx("h3",{children:"üëÅÔ∏è Live Preview"}),e.jsx("div",{className:"preview-controls",children:e.jsxs("div",{className:"device-selector",children:[e.jsx("button",{className:f==="desktop"?"active":"",onClick:()=>y("desktop"),children:"üíª Desktop"}),e.jsx("button",{className:f==="tablet"?"active":"",onClick:()=>y("tablet"),children:"üì± Tablet"}),e.jsx("button",{className:f==="mobile"?"active":"",onClick:()=>y("mobile"),children:"üì± Mobile"})]})}),e.jsx("div",{className:`preview-container ${f}`,children:e.jsxs("div",{className:"preview-frame",style:{backgroundColor:n.backgroundColor,color:n.textColor,fontFamily:n.fontFamily},children:[e.jsxs("div",{className:"preview-header",style:{backgroundColor:n.headerSettings.headerColor,color:n.headerSettings.headerTextColor,display:n.headerSettings.showNavigation?"flex":"none"},children:[n.headerSettings.showLogo&&n.logo&&e.jsx("img",{src:n.logo,alt:"Logo",className:"preview-logo"}),n.headerSettings.showOrgName&&e.jsx("h2",{className:"preview-org-name",children:n.organizationName}),e.jsxs("nav",{className:"preview-nav",children:[e.jsx("a",{href:"#",style:{color:n.headerSettings.headerTextColor},children:"Home"}),e.jsx("a",{href:"#",style:{color:n.headerSettings.headerTextColor},children:"Templates"}),e.jsx("a",{href:"#",style:{color:n.headerSettings.headerTextColor},children:"Architect"})]})]}),e.jsxs("div",{className:"preview-content",children:[e.jsxs("h1",{style:{color:n.textColor},children:["Welcome to ",n.organizationName]}),e.jsx("p",{style:{color:n.textColor},children:"This is how your customized application will look."}),e.jsxs("div",{className:"preview-buttons",children:[e.jsx("button",{className:"preview-btn primary",style:{backgroundColor:n.primaryColor,borderRadius:n.borderRadius==="sharp"?"0px":n.borderRadius==="rounded"?"8px":"16px"},children:"Primary Button"}),e.jsx("button",{className:"preview-btn secondary",style:{backgroundColor:n.secondaryColor,borderRadius:n.borderRadius==="sharp"?"0px":n.borderRadius==="rounded"?"8px":"16px"},children:"Secondary Button"}),e.jsx("button",{className:"preview-btn accent",style:{backgroundColor:n.accentColor,borderRadius:n.borderRadius==="sharp"?"0px":n.borderRadius==="rounded"?"8px":"16px"},children:"Accent Button"})]}),e.jsxs("div",{className:"preview-card",style:{borderRadius:n.borderRadius==="sharp"?"0px":n.borderRadius==="rounded"?"8px":"16px"},children:[e.jsx("h3",{style:{color:n.textColor},children:"Sample Card"}),e.jsx("p",{style:{color:n.textColor},children:"This shows how cards and components will appear with your branding."})]})]}),n.footerSettings.showFooter&&e.jsxs("div",{className:"preview-footer",style:{backgroundColor:n.footerSettings.footerColor},children:[e.jsx("p",{children:n.footerSettings.footerText}),n.footerSettings.showPoweredBy&&e.jsx("p",{className:"powered-by",children:"Powered by Prompter"})]})]})})]});default:return null}};return e.jsxs("div",{className:"branding-customizer",children:[e.jsxs("div",{className:"customizer-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("h2",{children:"üé® White-label Branding"}),e.jsx("p",{children:"Customize the appearance and branding for your organization"}),!t&&e.jsx("div",{className:"premium-badge",children:e.jsx("span",{children:"‚≠ê Premium Feature"})})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("input",{type:"file",accept:".json",onChange:T,style:{display:"none"},id:"import-config"}),e.jsx("button",{onClick:()=>document.getElementById("import-config")?.click(),className:"secondary-btn",children:"üì§ Import"}),e.jsx("button",{onClick:u,className:"secondary-btn",children:"üì• Export"}),e.jsx("button",{onClick:U,className:"primary-btn",disabled:v,children:v?"üíæ Saving...":"üíæ Save Configuration"})]})]}),e.jsxs("div",{className:"customizer-content",children:[e.jsxs("div",{className:"tabs-navigation",children:[e.jsx("button",{className:l==="colors"?"active":"",onClick:()=>o("colors"),children:"üé® Colors"}),e.jsx("button",{className:l==="layout"?"active":"",onClick:()=>o("layout"),children:"üìê Layout"}),e.jsx("button",{className:l==="branding"?"active":"",onClick:()=>o("branding"),children:"üè¢ Branding"}),e.jsx("button",{className:l==="features"?"active":"",onClick:()=>o("features"),children:"‚ö° Features"}),e.jsx("button",{className:l==="domains"?"active":"",onClick:()=>o("domains"),children:"üåê Domains"}),e.jsx("button",{className:l==="preview"?"active":"",onClick:()=>o("preview"),children:"üëÅÔ∏è Preview"})]}),e.jsx("div",{className:"tab-container",children:e.jsx(D,{})})]})]})},Ma=[{value:"text",label:"Text Input",icon:"üìù"},{value:"textarea",label:"Multi-line Text",icon:"üìÑ"},{value:"select",label:"Dropdown",icon:"üìã"},{value:"multiselect",label:"Multi-select",icon:"‚òëÔ∏è"},{value:"file",label:"File Upload",icon:"üìé"},{value:"number",label:"Number",icon:"üî¢"},{value:"date",label:"Date",icon:"üìÖ"},{value:"checkbox",label:"Checkbox",icon:"‚úÖ"},{value:"radio",label:"Radio Button",icon:"üîò"}],Fa=[{value:"beginner",label:"Beginner",color:"#10B981"},{value:"intermediate",label:"Intermediate",color:"#F59E0B"},{value:"advanced",label:"Advanced",color:"#EF4444"},{value:"expert",label:"Expert",color:"#8B5CF6"}],$a=[{value:"business",label:"Business",icon:"üíº"},{value:"creative",label:"Creative",icon:"üé®"},{value:"technical",label:"Technical",icon:"üíª"},{value:"educational",label:"Educational",icon:"üéì"},{value:"custom",label:"Custom",icon:"‚öôÔ∏è"}],Ua=({onSave:s,onCancel:a,editingRole:t})=>{const{addToast:n}=ee(),i=ae(),l=xe(),[o,f]=m.useState(t||{displayName:"",icon:"ü§ñ",description:"",tasks:[],category:"custom",isCustom:!0}),[y,v]=m.useState({displayName:"",fields:[],difficulty:"beginner",description:""}),[c,d]=m.useState({displayName:"",type:"text",required:!0,placeholder:""}),[w,p]=m.useState(!1),[j,x]=m.useState(!1),[u,T]=m.useState(null),[E,M]=m.useState(null),U=(h,C)=>{f(B=>({...B,[h]:C}))},D=(h,C)=>{v(B=>({...B,[h]:C}))},g=(h,C)=>{d(B=>({...B,[h]:C}))},O=()=>{if(!c.displayName){n("Please enter field name","error");return}const h={id:Date.now().toString(),key:c.displayName.toLowerCase().replace(/\s+/g,"_"),displayName:c.displayName,type:c.type||"text",required:c.required||!1,placeholder:c.placeholder||"",options:c.options,validation:c.validation};if(E!==null){const C=[...y.fields||[]];C[E]=h,v(B=>({...B,fields:C})),M(null)}else v(C=>({...C,fields:[...C.fields||[],h]}));d({displayName:"",type:"text",required:!0,placeholder:""}),x(!1)},F=h=>{const C=y.fields?.[h];C&&(d(C),M(h),x(!0))},S=h=>{v(C=>({...C,fields:C.fields?.filter((B,Q)=>Q!==h)||[]}))},b=()=>{if((y.difficulty==="advanced"||y.difficulty==="expert")&&!l){n("Advanced and Expert tasks require Premium subscription","warning"),setTimeout(()=>{i("/premium")},1500);return}if(!y.displayName||!y.fields?.length){n("Please enter task name and at least one field","error");return}const h={id:Date.now().toString(),key:y.displayName.toLowerCase().replace(/\s+/g,"_"),nameKey:`custom.${y.displayName.toLowerCase().replace(/\s+/g,"_")}`,displayName:y.displayName,fields:y.fields,difficulty:y.difficulty||"beginner",description:y.description||""};if(u!==null){const C=[...o.tasks||[]];C[u]=h,f(B=>({...B,tasks:C})),T(null)}else f(C=>({...C,tasks:[...C.tasks||[],h]}));v({displayName:"",fields:[],difficulty:"beginner",description:""}),p(!1)},N=h=>{const C=o.tasks?.[h];C&&(v(C),T(h),p(!0))},r=h=>{f(C=>({...C,tasks:C.tasks?.filter((B,Q)=>Q!==h)||[]}))},A=()=>{if(o.tasks?.some(B=>B.difficulty==="advanced"||B.difficulty==="expert")&&!l){n("Saving roles with Advanced/Expert tasks requires Premium subscription","warning"),setTimeout(()=>{i("/premium")},1500);return}if(!o.displayName||!o.description||!o.tasks?.length){n("Please fill all required fields and add at least one task","error");return}const C={id:t?.id||Date.now().toString(),nameKey:`custom.${o.displayName.toLowerCase().replace(/\s+/g,"_")}`,displayName:o.displayName,icon:o.icon||"ü§ñ",description:o.description,tasks:o.tasks,category:o.category||"custom",isCustom:!0,createdAt:t?.createdAt||Date.now(),updatedAt:Date.now()};s(C),n(t?"Role updated successfully!":"Role created successfully!","success")};return e.jsxs("div",{className:"custom-role-builder",children:[e.jsxs("div",{className:"builder-header",children:[e.jsxs("h3",{children:["üõ†Ô∏è ",t?"Edit Custom Role":"Create Custom Role"]}),!l&&e.jsx("div",{className:"premium-badge",children:e.jsx("span",{children:"‚≠ê Premium Feature"})}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{onClick:a,className:"cancel-button",children:"Cancel"}),e.jsx("button",{onClick:A,className:"save-button",children:t?"Update Role":"Create Role"})]})]}),e.jsxs("div",{className:"builder-content",children:[e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"üìã Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role Name *"}),e.jsx("input",{type:"text",value:o.displayName||"",onChange:h=>U("displayName",h.target.value),placeholder:"e.g., Social Media Manager"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Icon"}),e.jsxs("div",{className:"icon-selector",children:[e.jsx("input",{type:"text",value:o.icon||"",onChange:h=>U("icon",h.target.value),placeholder:"ü§ñ",className:"icon-input"}),e.jsx("div",{className:"icon-suggestions",children:["ü§ñ","üë®‚Äçüíº","üë©‚Äçüíª","üé®","üìä","‚úçÔ∏è","üèóÔ∏è","üî¨","üë®‚Äçüè´","üíº"].map(h=>e.jsx("button",{onClick:()=>U("icon",h),className:"icon-suggestion",children:h},h))})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("select",{value:o.category||"custom",onChange:h=>U("category",h.target.value),children:$a.map(h=>e.jsxs("option",{value:h.value,children:[h.icon," ",h.label]},h.value))})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description *"}),e.jsx("textarea",{value:o.description||"",onChange:h=>U("description",h.target.value),placeholder:"Describe what this role does and its expertise areas...",rows:3})]})]}),e.jsxs("div",{className:"section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("h4",{children:["‚ö° Tasks (",o.tasks?.length||0,")"]}),e.jsx("button",{onClick:()=>p(!0),className:"add-button",children:"‚ûï Add Task"})]}),e.jsx("div",{className:"tasks-list",children:o.tasks?.map((h,C)=>e.jsxs("div",{className:"task-item",children:[e.jsxs("div",{className:"task-info",children:[e.jsx("span",{className:"task-name",children:h.displayName}),e.jsx("span",{className:`difficulty-badge difficulty-${h.difficulty}`,children:h.difficulty}),e.jsxs("span",{className:"field-count",children:[h.fields.length," fields"]})]}),e.jsxs("div",{className:"task-actions",children:[e.jsx("button",{onClick:()=>N(C),className:"edit-button",children:"‚úèÔ∏è"}),e.jsx("button",{onClick:()=>r(C),className:"delete-button",children:"üóëÔ∏è"})]})]},h.id))})]})]}),w&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h4",{children:["üîß ",u!==null?"Edit Task":"Create Task"]}),e.jsx("button",{onClick:()=>p(!1),className:"close-button",children:"‚úï"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Task Name *"}),e.jsx("input",{type:"text",value:y.displayName||"",onChange:h=>D("displayName",h.target.value),placeholder:"e.g., Create Social Media Campaign"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:y.description||"",onChange:h=>D("description",h.target.value),placeholder:"Describe what this task accomplishes...",rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Difficulty Level"}),e.jsx("select",{value:y.difficulty||"beginner",onChange:h=>D("difficulty",h.target.value),children:Fa.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))})]}),e.jsxs("div",{className:"fields-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("h5",{children:["üìù Fields (",y.fields?.length||0,")"]}),e.jsx("button",{onClick:()=>x(!0),className:"add-button",children:"‚ûï Add Field"})]}),e.jsx("div",{className:"fields-list",children:y.fields?.map((h,C)=>e.jsxs("div",{className:"field-item",children:[e.jsxs("div",{className:"field-info",children:[e.jsx("span",{className:"field-name",children:h.displayName}),e.jsx("span",{className:"field-type",children:h.type}),h.required&&e.jsx("span",{className:"required-badge",children:"Required"})]}),e.jsxs("div",{className:"field-actions",children:[e.jsx("button",{onClick:()=>F(C),className:"edit-button",children:"‚úèÔ∏è"}),e.jsx("button",{onClick:()=>S(C),className:"delete-button",children:"üóëÔ∏è"})]})]},h.id))})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>p(!1),className:"cancel-button",children:"Cancel"}),e.jsx("button",{onClick:b,className:"save-button",children:u!==null?"Update Task":"Add Task"})]})]})}),j&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h4",{children:["üéõÔ∏è ",E!==null?"Edit Field":"Create Field"]}),e.jsx("button",{onClick:()=>x(!1),className:"close-button",children:"‚úï"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Field Name *"}),e.jsx("input",{type:"text",value:c.displayName||"",onChange:h=>g("displayName",h.target.value),placeholder:"e.g., Target Audience"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Field Type"}),e.jsx("select",{value:c.type||"text",onChange:h=>g("type",h.target.value),children:Ma.map(h=>e.jsxs("option",{value:h.value,children:[h.icon," ",h.label]},h.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Placeholder"}),e.jsx("input",{type:"text",value:c.placeholder||"",onChange:h=>g("placeholder",h.target.value),placeholder:"Placeholder text for this field..."})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:c.required||!1,onChange:h=>g("required",h.target.checked)}),"Required Field"]})}),(c.type==="select"||c.type==="multiselect"||c.type==="radio")&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Options (one per line)"}),e.jsx("textarea",{value:c.options?.join(`
`)||"",onChange:h=>g("options",h.target.value.split(`
`).filter(Boolean)),placeholder:`Option 1
Option 2
Option 3`,rows:4})]}),(c.type==="text"||c.type==="textarea")&&e.jsxs("div",{className:"validation-section",children:[e.jsx("h6",{children:"Validation Rules"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Min Length"}),e.jsx("input",{type:"number",value:c.validation?.minLength||"",onChange:h=>g("validation",{...c.validation,minLength:parseInt(h.target.value)||void 0})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max Length"}),e.jsx("input",{type:"number",value:c.validation?.maxLength||"",onChange:h=>g("validation",{...c.validation,maxLength:parseInt(h.target.value)||void 0})})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>x(!1),className:"cancel-button",children:"Cancel"}),e.jsx("button",{onClick:O,className:"save-button",children:E!==null?"Update Field":"Add Field"})]})]})})]})},Ba=()=>{const{addToast:s}=ee(),a=ae(),[t,n]=m.useState([]),[i,l]=m.useState([]),[o,f]=m.useState(null),[y,v]=m.useState(""),[c,d]=m.useState("all"),[w,p]=m.useState("all"),[j,x]=m.useState("popular"),[u,T]=m.useState(!1),[E,M]=m.useState(!1),U=()=>{M(!E)},D=[{id:"1",title:"Social Media Content Creator",description:"Create engaging social media posts for various platforms with customizable tone and style",author:"Sarah Johnson",authorAvatar:"üë©‚Äçüíº",category:"marketing",tags:["social media","content","marketing","engagement"],difficulty:"beginner",rating:4.8,reviews:156,downloads:2340,likes:890,createdAt:Date.now()-864e5*30,updatedAt:Date.now()-864e5*5,promptContent:"Create a social media post for {platform} about {topic} with {tone} tone...",fields:[{id:"1",key:"platform",displayName:"Platform",type:"select",required:!0,placeholder:"Select platform",options:["Instagram","Twitter","LinkedIn","Facebook"]},{id:"2",key:"topic",displayName:"Topic",type:"text",required:!0,placeholder:"What is your post about?"},{id:"3",key:"tone",displayName:"Tone",type:"select",required:!0,placeholder:"Select tone",options:["Professional","Casual","Funny","Inspirational"]}],price:0,isPremium:!1,isVerified:!0},{id:"2",title:"Technical Documentation Generator",description:"Generate comprehensive technical documentation for APIs, libraries, and software projects",author:"Ahmad Al-Rashid",authorAvatar:"üë®‚Äçüíª",category:"development",tags:["documentation","technical","API","software"],difficulty:"advanced",rating:4.9,reviews:89,downloads:1560,likes:445,createdAt:Date.now()-864e5*15,updatedAt:Date.now()-864e5*2,promptContent:"Create technical documentation for {project_type} named {project_name}...",fields:[{id:"1",key:"project_type",displayName:"Project Type",type:"select",required:!0,placeholder:"Select type",options:["API","Library","Framework","Tool"]},{id:"2",key:"project_name",displayName:"Project Name",type:"text",required:!0,placeholder:"Enter project name"},{id:"3",key:"features",displayName:"Key Features",type:"textarea",required:!0,placeholder:"List the main features..."}],price:5,isPremium:!0,isVerified:!0},{id:"3",title:"Email Marketing Campaign",description:"Design compelling email marketing campaigns with A/B testing suggestions",author:"Maria Rodriguez",authorAvatar:"üë©‚Äçüé®",category:"marketing",tags:["email","marketing","campaigns","conversion"],difficulty:"intermediate",rating:4.6,reviews:203,downloads:3450,likes:1200,createdAt:Date.now()-864e5*45,updatedAt:Date.now()-864e5*10,promptContent:"Create an email marketing campaign for {campaign_goal} targeting {audience}...",fields:[{id:"1",key:"campaign_goal",displayName:"Campaign Goal",type:"select",required:!0,placeholder:"Select goal",options:["Lead Generation","Sales","Retention","Awareness"]},{id:"2",key:"audience",displayName:"Target Audience",type:"text",required:!0,placeholder:"Describe your target audience"},{id:"3",key:"budget",displayName:"Budget Range",type:"select",required:!1,placeholder:"Select budget",options:["$0-500","$500-2000","$2000-5000","$5000+"]}],price:0,isPremium:!1,isVerified:!1}],g=[{value:"all",label:"All Categories",icon:"üåê"},{value:"marketing",label:"Marketing",icon:"üìà"},{value:"development",label:"Development",icon:"üíª"},{value:"business",label:"Business",icon:"üíº"},{value:"creative",label:"Creative",icon:"üé®"},{value:"education",label:"Education",icon:"üéì"},{value:"health",label:"Health",icon:"üè•"},{value:"finance",label:"Finance",icon:"üí∞"}],O=[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner",color:"#10B981"},{value:"intermediate",label:"Intermediate",color:"#F59E0B"},{value:"advanced",label:"Advanced",color:"#EF4444"},{value:"expert",label:"Expert",color:"#8B5CF6"}];m.useEffect(()=>{n(D),l(D)},[]),m.useEffect(()=>{const r=t.filter(A=>{const h=A.title.toLowerCase().includes(y.toLowerCase())||A.description.toLowerCase().includes(y.toLowerCase())||A.tags.some(Q=>Q.toLowerCase().includes(y.toLowerCase())),C=c==="all"||A.category===c,B=w==="all"||A.difficulty===w;return h&&C&&B});r.sort((A,h)=>{switch(j){case"rating":return h.rating-A.rating;case"newest":return h.createdAt-A.createdAt;case"downloads":return h.downloads-A.downloads;case"popular":default:return h.downloads+h.likes-(A.downloads+A.likes)}}),l(r)},[t,y,c,w,j]);const F=r=>{if(r.isPremium&&r.price>0&&!xe()){s("This template requires Premium subscription","warning"),setTimeout(()=>{a("/premium")},1500);return}s(`"${r.title}" has been downloaded successfully!`,"success"),n(A=>A.map(h=>h.id===r.id?{...h,downloads:h.downloads+1}:h))},S=r=>{n(A=>A.map(h=>h.id===r?{...h,likes:h.likes+1}:h))},b=r=>Array.from({length:5},(A,h)=>e.jsx("span",{className:`star ${h<Math.floor(r)?"filled":""}`,children:"‚≠ê"},h)),N=({template:r})=>e.jsxs("div",{className:"template-card",onClick:()=>f(r),children:[e.jsxs("div",{className:"template-header",children:[e.jsxs("div",{className:"template-meta",children:[e.jsxs("span",{className:"author",children:[e.jsx("span",{className:"author-avatar",children:r.authorAvatar}),r.author]}),r.isVerified&&e.jsx("span",{className:"verified-badge",children:"‚úÖ"}),r.isPremium&&e.jsx("span",{className:"premium-badge",children:"‚ú®"})]}),e.jsx("div",{className:"template-actions",children:e.jsxs("button",{onClick:A=>{A.stopPropagation(),S(r.id)},className:"like-button",children:["‚ù§Ô∏è ",r.likes]})})]}),e.jsxs("div",{className:"template-content",children:[e.jsx("h3",{className:"template-title",children:r.title}),e.jsx("p",{className:"template-description",children:r.description}),e.jsxs("div",{className:"template-tags",children:[r.tags.slice(0,3).map(A=>e.jsxs("span",{className:"tag",children:["#",A]},A)),r.tags.length>3&&e.jsxs("span",{className:"tag-more",children:["+",r.tags.length-3]})]})]}),e.jsxs("div",{className:"template-footer",children:[e.jsxs("div",{className:"template-stats",children:[e.jsxs("div",{className:"rating",children:[b(r.rating),e.jsx("span",{className:"rating-value",children:r.rating}),e.jsxs("span",{className:"reviews",children:["(",r.reviews,")"]})]}),e.jsxs("div",{className:"downloads",children:["üì• ",r.downloads.toLocaleString()]})]}),e.jsxs("div",{className:"template-info",children:[e.jsx("span",{className:`difficulty difficulty-${r.difficulty}`,children:r.difficulty}),e.jsx("span",{className:"price",children:r.price===0?"Free":`$${r.price}`})]})]})]});return e.jsxs("div",{className:"template-marketplace",children:[e.jsxs("div",{className:"marketplace-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("h2",{children:"üè™ Template Marketplace"}),e.jsx("p",{children:"Discover and share amazing prompt templates with the community"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{onClick:U,className:"upload-button",children:"üì§ Share Template"})})]}),e.jsxs("div",{className:"search-section",children:[e.jsxs("div",{className:"search-bar",children:[e.jsx("input",{type:"text",placeholder:"Search templates, tags, or authors...",value:y,onChange:r=>v(r.target.value),className:"search-input"}),e.jsx("button",{onClick:()=>T(!u),className:`filter-toggle ${u?"active":""}`,children:"üîç Filters"})]}),u&&e.jsxs("div",{className:"filters-panel",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Category"}),e.jsx("select",{value:c,onChange:r=>d(r.target.value),children:g.map(r=>e.jsxs("option",{value:r.value,children:[r.icon," ",r.label]},r.value))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Difficulty"}),e.jsx("select",{value:w,onChange:r=>p(r.target.value),children:O.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sort By"}),e.jsxs("select",{value:j,onChange:r=>x(r.target.value),children:[e.jsx("option",{value:"popular",children:"üî• Most Popular"}),e.jsx("option",{value:"rating",children:"‚≠ê Highest Rated"}),e.jsx("option",{value:"newest",children:"üÜï Newest"}),e.jsx("option",{value:"downloads",children:"üì• Most Downloaded"})]})]})]})]}),e.jsxs("div",{className:"results-section",children:[e.jsxs("div",{className:"results-header",children:[e.jsxs("span",{className:"results-count",children:[i.length," templates found"]}),e.jsxs("div",{className:"view-toggle",children:[e.jsx("button",{className:"view-btn active",children:"üìã Grid"}),e.jsx("button",{className:"view-btn",children:"üìù List"})]})]}),e.jsx("div",{className:"templates-grid",children:i.map(r=>e.jsx(N,{template:r},r.id))}),i.length===0&&e.jsxs("div",{className:"no-results",children:[e.jsx("div",{className:"no-results-icon",children:"üîç"}),e.jsx("h3",{children:"No templates found"}),e.jsx("p",{children:"Try adjusting your search terms or filters"})]})]}),o&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(null),children:e.jsxs("div",{className:"template-modal",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("div",{className:"template-info",children:[e.jsx("h3",{children:o.title}),e.jsxs("div",{className:"author-info",children:[e.jsx("span",{className:"author-avatar",children:o.authorAvatar}),e.jsx("span",{className:"author-name",children:o.author}),o.isVerified&&e.jsx("span",{className:"verified-badge",children:"‚úÖ"})]})]}),e.jsx("button",{onClick:()=>f(null),className:"close-button",children:"‚úï"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{className:"template-description",children:e.jsx("p",{children:o.description})}),e.jsxs("div",{className:"template-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"Category:"}),e.jsxs("span",{className:"category-badge",children:[g.find(r=>r.value===o.category)?.icon,g.find(r=>r.value===o.category)?.label]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"Difficulty:"}),e.jsx("span",{className:`difficulty difficulty-${o.difficulty}`,children:o.difficulty})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"Fields:"}),e.jsxs("span",{children:[o.fields.length," input fields"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"Rating:"}),e.jsxs("div",{className:"rating-detail",children:[b(o.rating),e.jsxs("span",{children:[o.rating,"/5 (",o.reviews," reviews)"]})]})]})]}),e.jsx("div",{className:"template-tags",children:o.tags.map(r=>e.jsxs("span",{className:"tag",children:["#",r]},r))}),e.jsxs("div",{className:"template-preview",children:[e.jsx("h4",{children:"Preview Fields:"}),e.jsx("div",{className:"fields-preview",children:o.fields.map(r=>e.jsxs("div",{className:"field-preview",children:[e.jsxs("label",{children:[r.displayName," ",r.required&&"*"]}),e.jsx("div",{className:"field-type",children:r.type})]},r.id))})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("div",{className:"price-info",children:o.price===0?e.jsx("span",{className:"free-badge",children:"Free"}):e.jsxs("span",{className:"price-badge",children:["$",o.price]})}),e.jsxs("div",{className:"modal-actions",children:[e.jsxs("button",{onClick:()=>S(o.id),className:"like-button-large",children:["‚ù§Ô∏è Like (",o.likes,")"]}),e.jsx("button",{onClick:()=>F(o),className:"download-button",children:o.price===0?"üì• Download":"üí≥ Purchase & Download"})]})]})]})})]})},Ne={developer:{nameKey:"roles.developer",icon:"üíª",description:"Software development, debugging, and system architecture",tasks:[{key:"basicCoding",nameKey:"tasks.basicCoding",fields:["language","task"],difficulty:"beginner"},{key:"codeReview",nameKey:"tasks.codeReview",fields:["codeSnippet","language","concerns"],difficulty:"intermediate"},{key:"debugging",nameKey:"tasks.debugging",fields:["error","code","context"],difficulty:"advanced"},{key:"systemDesign",nameKey:"tasks.systemDesign",fields:["requirements","constraints"],difficulty:"expert"},{key:"apiDesign",nameKey:"tasks.apiDesign",fields:["functionality","requirements"],difficulty:"advanced"},{key:"optimization",nameKey:"tasks.optimization",fields:["code","performance"],difficulty:"expert"}]},dataAnalyst:{nameKey:"roles.dataAnalyst",icon:"üìä",description:"Data analysis, visualization, and insights generation",tasks:[{key:"dataAnalysis",nameKey:"tasks.dataAnalysis",fields:["dataset","goals"],difficulty:"intermediate"},{key:"reportCreation",nameKey:"tasks.reportCreation",fields:["data","audience"],difficulty:"beginner"},{key:"predictiveModeling",nameKey:"tasks.predictiveModeling",fields:["dataset","target"],difficulty:"expert"},{key:"dashboardDesign",nameKey:"tasks.dashboardDesign",fields:["metrics","audience"],difficulty:"intermediate"}]},marketingSpecialist:{nameKey:"roles.marketingSpecialist",icon:"üì¢",description:"Digital marketing, campaigns, and brand strategy",tasks:[{key:"campaignStrategy",nameKey:"tasks.campaignStrategy",fields:["product","audience","budget"],difficulty:"intermediate"},{key:"contentCreation",nameKey:"tasks.contentCreation",fields:["topic","platform","tone"],difficulty:"beginner"},{key:"seoStrategy",nameKey:"tasks.seoStrategy",fields:["website","keywords"],difficulty:"intermediate"},{key:"socialMediaPlan",nameKey:"tasks.socialMediaPlan",fields:["brand","platforms"],difficulty:"beginner"}]},contentWriter:{nameKey:"roles.contentWriter",icon:"‚úçÔ∏è",description:"Creative and technical writing, copywriting",tasks:[{key:"articleWriting",nameKey:"tasks.articleWriting",fields:["topic","wordCount","audience"],difficulty:"beginner"},{key:"seoContent",nameKey:"tasks.seoContent",fields:["keywords","topic","length"],difficulty:"intermediate"},{key:"copywriting",nameKey:"tasks.copywriting",fields:["product","audience"],difficulty:"intermediate"},{key:"technicalWriting",nameKey:"tasks.technicalWriting",fields:["topic","audience"],difficulty:"advanced"}]},businessConsultant:{nameKey:"roles.businessConsultant",icon:"üíº",description:"Business strategy, consulting, and analysis",tasks:[{key:"businessBasics",nameKey:"tasks.businessBasics",fields:["topic","audience"],difficulty:"beginner"},{key:"strategicPlanning",nameKey:"tasks.strategicPlanning",fields:["business","goals","timeline"],difficulty:"expert"},{key:"marketAnalysis",nameKey:"tasks.marketAnalysis",fields:["market","competitors"],difficulty:"advanced"},{key:"businessModel",nameKey:"tasks.businessModel",fields:["idea","market"],difficulty:"expert"},{key:"processOptimization",nameKey:"tasks.processOptimization",fields:["process","issues"],difficulty:"advanced"}]},teacher:{nameKey:"roles.teacher",icon:"üéì",description:"Education, curriculum design, and assessment",tasks:[{key:"lessonPlanning",nameKey:"tasks.lessonPlanning",fields:["subject","grade","objectives"],difficulty:"beginner"},{key:"assessmentDesign",nameKey:"tasks.assessmentDesign",fields:["subject","assessmentType"],difficulty:"intermediate"},{key:"curriculumDevelopment",nameKey:"tasks.curriculumDevelopment",fields:["subject","duration"],difficulty:"advanced"},{key:"studentEngagement",nameKey:"tasks.studentEngagement",fields:["subject","age"],difficulty:"intermediate"}]},designer:{nameKey:"roles.designer",icon:"üé®",description:"UI/UX design, branding, and visual communication",tasks:[{key:"designBasics",nameKey:"tasks.designBasics",fields:["project","style"],difficulty:"beginner"},{key:"uiDesign",nameKey:"tasks.uiDesign",fields:["project","requirements","style"],difficulty:"intermediate"},{key:"brandDesign",nameKey:"tasks.brandDesign",fields:["company","values","audience"],difficulty:"advanced"},{key:"userResearch",nameKey:"tasks.userResearch",fields:["product","users"],difficulty:"intermediate"},{key:"prototyping",nameKey:"tasks.prototyping",fields:["concept","features"],difficulty:"advanced"}]},projectManager:{nameKey:"roles.projectManager",icon:"üìã",description:"Project planning, team management, and delivery",tasks:[{key:"basicPlanning",nameKey:"tasks.basicPlanning",fields:["project","goals"],difficulty:"beginner"},{key:"projectPlanning",nameKey:"tasks.projectPlanning",fields:["project","timeline","resources"],difficulty:"intermediate"},{key:"riskAssessment",nameKey:"tasks.riskAssessment",fields:["project","risks"],difficulty:"advanced"},{key:"teamManagement",nameKey:"tasks.teamManagement",fields:["team","goals"],difficulty:"advanced"},{key:"stakeholderComm",nameKey:"tasks.stakeholderComm",fields:["stakeholders","updates"],difficulty:"intermediate"}]}},Rs=()=>{const s=n=>{const i=xe();return n==="beginner"?!0:i};return{checkAccess:s,closePaywall:()=>{},hasAccess:n=>s(n),isProSubscriber:xe()}},Ka={outputFormat:"detailed",tone:"professional",complexity:"intermediate",includeExamples:!0,includeBestPractices:!0,includeWarnings:!1,customInstructions:""},qa=()=>{const[s,a]=m.useState(null),[t,n]=m.useState(null),[i,l]=m.useState({}),[o,f]=m.useState(""),[y,v]=m.useState(!1),[c,d]=m.useState(!1),[w,p]=m.useState(Ka),[j,x]=m.useState([]),[u,T]=m.useState([]),[E,M]=m.useState(""),[U,D]=m.useState("all"),[g,O]=m.useState("build"),[F,S]=m.useState(0),[b,N]=m.useState(""),[r,A]=m.useState("all"),[h,C]=m.useState(""),[B,Q]=m.useState("all"),{t:J}=Je(),{addToast:Y}=ee(),{currentModel:ce,getApiKey:je,availableModels:se}=Ve(),{checkAccess:ie,closePaywall:I}=Rs(),k={isOpen:!1,feature:null,blockedLevel:null};m.useEffect(()=>{try{const $=localStorage.getItem("promptArchitectHistory");$&&x(JSON.parse($));const z=localStorage.getItem("promptArchitectTemplates");z&&T(JSON.parse(z));const q=localStorage.getItem("promptArchitectSettings");q&&p(JSON.parse(q))}catch{Y("Could not load saved data.","error")}},[]),m.useEffect(()=>{localStorage.setItem("promptArchitectHistory",JSON.stringify(j))},[j]),m.useEffect(()=>{localStorage.setItem("promptArchitectTemplates",JSON.stringify(u))},[u]),m.useEffect(()=>{localStorage.setItem("promptArchitectSettings",JSON.stringify(w))},[w]);const R=$=>{a($),n(null),l({}),f(""),S(0)},P=$=>{ie($.difficulty)&&(n($),l({}),f(""),S(0))},L=($,z)=>{l(q=>({...q,[$]:z}))},G=async()=>{if(!s||!t)return;if(t.fields.filter(de=>!i[de]?.trim()).length>0){Y(J("messages.fillRequired","Please fill all required fields"),"error");return}const q=je(ce),Ue=se.find(de=>de.id===ce);if(!Ue){Y("No AI model selected. Please configure a model in settings.","error");return}if(Ue.provider!=="Ollama"&&!q){Y(`Please set ${Ue.provider} API key in settings`,"error");return}v(!0);try{const de=J(Ne[s].nameKey,s),Be=J(t.nameKey,t.key),$s=`
          As an expert ${de}, I need to perform the following task: ${Be}.
          
          Details:
          ${Object.entries(i).map(([Ks,qs])=>`- ${Ks}: ${qs}`).join(`
`)}
  
          Advanced Settings:
          - Output Format: ${w.outputFormat}
          - Tone: ${w.tone}
          - Complexity: ${w.complexity}
          ${w.includeExamples?"- Include examples in the output.":""}
          ${w.includeBestPractices?"- Include best practices where applicable.":""}
          ${w.includeWarnings?"- Include warnings about potential pitfalls.":""}
          ${w.customInstructions?`Custom Instructions: ${w.customInstructions}`:""}
        `;if(!(!!q&&q.length>20&&!q.includes("your-api-key")))throw new Error("API key required. Please enter your personal API key in Settings.");const Ke=await Ye({userPrompt:$s,apiKey:q,modelId:ce,language:"en"});f(Ke);const Us={id:Date.now().toString(),timestamp:Date.now(),roleKey:s,taskKey:t.key,fieldValues:{...i},generatedPrompt:Ke,isFavorite:!1};x([Us,...j]);const Bs={title:`${de} - ${Be}`,domain:s,difficulty:w.complexity,description:`Generated by Manual Builder: ${de} performing ${Be}`,prompt:Ke,source:"manual-builder",roleKey:s,taskKey:t.key,fieldValues:{...i},advancedSettings:{...w}};localStorage.setItem("selectedTemplate",JSON.stringify(Bs)),Y("‚úÖ Prompt sent to AI Generator! Switch to AI Generator to use it.","success")}catch{v(!1),Y(J("messages.generateError","Error generating prompt"),"error")}},W=$=>{navigator.clipboard.writeText($),Y(J("messages.copied","Copied to clipboard!"),"success")},ne=()=>{if(!s||!t||!o)return;const $=prompt("Enter a name for this template:");if($){const z={id:Date.now().toString(),name:$,description:`${J(Ne[s].nameKey)} - ${J(t.nameKey)}`,roleKey:s,taskKey:t.key,fieldValues:{...i},category:"uncategorized"};T([...u,z]),Y(J("messages.templateSaved","Template saved successfully!"),"success")}},Z=$=>{a($.roleKey),n(Ne[$.roleKey].tasks.find(z=>z.key===$.taskKey)),l($.fieldValues),O("build"),Y(J("messages.templateLoaded","Template loaded."),"info")},be=$=>{S($);const z=j.map(q=>q.generatedPrompt===o?{...q,rating:$}:q);x(z)},$e=$=>{const z=j.map(q=>q.id===$?{...q,isFavorite:!q.isFavorite}:q);x(z)},oe=$=>{const z=j.filter(q=>q.id!==$);x(z),Y("History item deleted.","info")},ts=Object.entries(Ne).filter(([$,z])=>E===""||J(z.nameKey,$).toLowerCase().includes(E.toLowerCase())||J(z.description).toLowerCase().includes(E.toLowerCase())),Os=s?Ne[s]:null,Ms=j.filter($=>{const z=b===""||$.roleKey.toLowerCase().includes(b.toLowerCase())||$.taskKey.toLowerCase().includes(b.toLowerCase())||$.generatedPrompt.toLowerCase().includes(b.toLowerCase()),q=r==="all"||r==="favorites"&&$.isFavorite||r==="recent"&&Date.now()-$.timestamp<7*24*60*60*1e3;return z&&q}),Fs=u.filter($=>{const z=h===""||$.name.toLowerCase().includes(h.toLowerCase())||$.description.toLowerCase().includes(h.toLowerCase()),q=B==="all"||$.category===B;return z&&q});return{selectedRole:s,setSelectedRole:a,selectedTask:t,setSelectedTask:n,fieldValues:i,setFieldValues:l,generatedPrompt:o,setGeneratedPrompt:f,isGenerating:y,showAdvancedSettings:c,advancedSettings:w,promptHistory:j,setPromptHistory:x,templates:u,searchQuery:E,selectedDifficulty:U,activeTab:g,promptRating:F,handleRoleSelect:R,handleTaskSelect:P,handleFieldChange:L,generatePrompt:G,copyToClipboard:W,saveAsTemplate:ne,loadTemplate:Z,ratePrompt:be,toggleFavorite:$e,deleteHistoryItem:oe,filteredRoles:ts,currentRole:Os,paywallState:k,closePaywall:I,checkAccess:ie,setActiveTab:O,setShowAdvancedSettings:d,setSearchQuery:M,setSelectedDifficulty:D,setAdvancedSettings:p,filteredHistory:Ms,filteredTemplates:Fs,historySearchQuery:b,setHistorySearchQuery:N,historyFilter:r,setHistoryFilter:A,templateSearchQuery:h,setTemplateSearchQuery:C,templateCategoryFilter:B,setTemplateCategoryFilter:Q,setTemplates:T}},_a=()=>{const{activeTab:s,setActiveTab:a,selectedRole:t,setSelectedRole:n,selectedTask:i,setSelectedTask:l,fieldValues:o,setFieldValues:f,generatedPrompt:y,setGeneratedPrompt:v,isGenerating:c,showAdvancedSettings:d,advancedSettings:w,promptHistory:p,setPromptHistory:j,templates:x,handleRoleSelect:u,handleTaskSelect:T,handleFieldChange:E,generatePrompt:M,copyToClipboard:U,saveAsTemplate:D,loadTemplate:g,toggleFavorite:O,deleteHistoryItem:F,filteredRoles:S,currentRole:b,filteredHistory:N,filteredTemplates:r,historySearchQuery:A,setHistorySearchQuery:h,historyFilter:C,setHistoryFilter:B,templateSearchQuery:Q,setTemplateSearchQuery:J,templateCategoryFilter:Y,setTemplateCategoryFilter:ce,setShowAdvancedSettings:je,setAdvancedSettings:se,setTemplates:ie}=qa(),I=()=>{if(!t||!i)return"";const P=t,L=i.key||"task";return`As an expert ${P}, I need to perform the following task: ${L}.
    
Details:
${Object.entries(o).map(([G,W])=>`- ${G}: ${W}`).join(`
`)}

Please provide a professional and comprehensive response.`},k=()=>!t||!b?[]:b.tasks||[],R=()=>{switch(s){case"build":return e.jsxs("div",{className:"build-tab-content",children:[e.jsxs("div",{className:"build-section",children:[e.jsx("h3",{children:"üèóÔ∏è Prompt Builder"}),e.jsx("p",{children:"Build professional prompts step by step with guided assistance."})]}),e.jsxs("div",{className:"builder-steps",children:[e.jsxs("div",{className:"step-card",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("span",{className:"step-number",children:"1"}),e.jsx("h4",{children:"Select Role & Task"})]}),e.jsxs("div",{className:"step-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Professional Role"}),e.jsxs("select",{value:t||"",onChange:P=>u(P.target.value),className:"build-select",children:[e.jsx("option",{value:"",children:"Choose a role..."}),S.map(([P,L])=>e.jsxs("option",{value:P,children:[L.icon," ",L.nameKey]},P))]})]}),t&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Task Type"}),e.jsxs("select",{value:i?.key||"",onChange:P=>{const L=P.target.value,G=k().find(W=>W.key===L);G&&T(G)},className:"build-select",children:[e.jsx("option",{value:"",children:"Choose a task..."}),k().map(P=>e.jsx("option",{value:P.key,children:P.nameKey},P.key))]})]})]})]}),e.jsxs("div",{className:"step-card",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("span",{className:"step-number",children:"2"}),e.jsx("h4",{children:"Configure Details"})]}),e.jsx("div",{className:"step-content",children:t&&i?e.jsx("div",{className:"field-inputs",children:i.fields&&i.fields.map(P=>e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:P.replace("_"," ").toUpperCase()}),e.jsx("input",{type:"text",value:o[P]||"",onChange:L=>E(P,L.target.value),placeholder:`Enter ${P.replace("_"," ")}`,className:"build-input"})]},P))}):e.jsx("p",{className:"placeholder-text",children:"Select role and task to configure details"})})]}),e.jsxs("div",{className:"step-card",children:[e.jsxs("div",{className:"step-header",children:[e.jsx("span",{className:"step-number",children:"3"}),e.jsx("h4",{children:"Generate & Test"})]}),e.jsx("div",{className:"step-content",children:t&&i&&e.jsxs("div",{className:"generation-section",children:[e.jsx("div",{className:"advanced-settings-toggle",children:e.jsxs("button",{className:"advanced-settings-btn",onClick:()=>je(!d),children:["‚öôÔ∏è ",d?"Hide":"Show"," Advanced Settings"]})}),d&&e.jsxs("div",{className:"advanced-settings-panel",children:[e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{children:"Output Format"}),e.jsxs("select",{value:w.outputFormat,onChange:P=>se(L=>({...L,outputFormat:P.target.value})),className:"build-select",children:[e.jsx("option",{value:"detailed",children:"Detailed"}),e.jsx("option",{value:"concise",children:"Concise"}),e.jsx("option",{value:"bullet-points",children:"Bullet Points"}),e.jsx("option",{value:"step-by-step",children:"Step by Step"})]})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{children:"Tone"}),e.jsxs("select",{value:w.tone,onChange:P=>se(L=>({...L,tone:P.target.value})),className:"build-select",children:[e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"casual",children:"Casual"}),e.jsx("option",{value:"friendly",children:"Friendly"}),e.jsx("option",{value:"formal",children:"Formal"})]})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{children:"Complexity"}),e.jsxs("select",{value:w.complexity,onChange:P=>se(L=>({...L,complexity:P.target.value})),className:"build-select",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"}),e.jsx("option",{value:"expert",children:"Expert"})]})]})]}),e.jsxs("div",{className:"setting-checkboxes",children:[e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:w.includeExamples,onChange:P=>se(L=>({...L,includeExamples:P.target.checked}))}),"Include Examples"]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:w.includeBestPractices,onChange:P=>se(L=>({...L,includeBestPractices:P.target.checked}))}),"Include Best Practices"]}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:w.includeWarnings,onChange:P=>se(L=>({...L,includeWarnings:P.target.checked}))}),"Include Warnings"]})]}),e.jsxs("div",{className:"setting-group",children:[e.jsx("label",{children:"Custom Instructions"}),e.jsx("textarea",{value:w.customInstructions,onChange:P=>se(L=>({...L,customInstructions:P.target.value})),placeholder:"Add any custom instructions...",className:"build-textarea",rows:3})]})]}),e.jsxs("div",{className:"main-action-buttons",children:[e.jsx("button",{className:"generate-btn primary",onClick:M,disabled:!t||!i||c,children:c?"üîÑ Generating...":"üöÄ Generate Prompt"}),e.jsx("button",{className:"clear-btn secondary",onClick:()=>{n(null),l(null),f({}),v("")},children:"üóëÔ∏è Clear Form"})]}),y&&e.jsxs("div",{className:"generated-prompt-section",children:[e.jsxs("div",{className:"prompt-header",children:[e.jsx("h5",{children:"‚ú® Generated Prompt"}),e.jsxs("div",{className:"prompt-actions",children:[e.jsx("button",{className:"copy-btn secondary",onClick:()=>U(y),children:"üìã Copy"}),e.jsx("button",{className:"save-template-btn secondary",onClick:D,children:"üíæ Save as Template"})]})]}),e.jsx("div",{className:"generated-prompt-content",children:y})]}),e.jsxs("div",{className:"prompt-preview",children:[e.jsx("h5",{children:"üìù Prompt Preview"}),e.jsx("div",{className:"prompt-content",children:I()||"Your prompt preview will appear here..."}),e.jsxs("div",{className:"send-to-generator",children:[e.jsx("button",{className:"send-to-generator-btn",onClick:()=>{const P={title:`${t} - ${i.nameKey}`,domain:t,difficulty:w.complexity,description:`Generated by Manual Builder: ${t} performing ${i.nameKey}`,prompt:I(),source:"manual-builder",roleKey:t,taskKey:i.key,fieldValues:{...o},advancedSettings:{...w}};localStorage.setItem("selectedTemplate",JSON.stringify(P)),alert("‚úÖ Prompt sent to AI Generator! Switch to AI Generator to use it.")},disabled:!t||!i,children:"üöÄ Send to AI Generator"}),e.jsx("p",{className:"send-hint",children:"This will send your prompt to the AI Generator for further enhancement"})]})]}),e.jsx("div",{className:"api-test-section",children:e.jsx(Ls,{userPrompt:I(),onResult:P=>{},onError:P=>{},disabled:c})})]})})]})]})]});case"history":return e.jsxs("div",{className:"history-tab-content",children:[e.jsxs("div",{className:"history-header",children:[e.jsx("h3",{children:"üìã Prompt History"}),e.jsx("p",{children:"Review and manage your previously generated prompts."}),e.jsxs("div",{className:"history-controls",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"üîç Search prompts...",className:"history-search",value:A,onChange:P=>h(P.target.value)})}),e.jsxs("div",{className:"filter-buttons",children:[e.jsx("button",{className:`filter-btn ${C==="all"?"active":""}`,onClick:()=>B("all"),children:"All"}),e.jsx("button",{className:`filter-btn ${C==="favorites"?"active":""}`,onClick:()=>B("favorites"),children:"Favorites"}),e.jsx("button",{className:`filter-btn ${C==="recent"?"active":""}`,onClick:()=>B("recent"),children:"Recent"})]}),e.jsxs("div",{className:"history-actions",children:[e.jsx("button",{className:"export-btn secondary",onClick:()=>{const P=JSON.stringify(p,null,2),L=new Blob([P],{type:"application/json"}),G=URL.createObjectURL(L),W=document.createElement("a");W.href=G,W.download="prompt-history.json",W.click()},disabled:p.length===0,children:"üì§ Export History"}),e.jsx("button",{className:"clear-all-btn danger",onClick:()=>{confirm("Are you sure you want to clear all history? This action cannot be undone.")&&j([])},disabled:p.length===0,children:"üóëÔ∏è Clear All"})]})]})]}),e.jsx("div",{className:"history-list",children:N&&N.length>0?N.map((P,L)=>e.jsxs("div",{className:"history-item",children:[e.jsxs("div",{className:"history-item-header",children:[e.jsxs("div",{className:"item-info",children:[e.jsx("span",{className:"role-badge",children:P.roleKey}),e.jsx("span",{className:"task-badge",children:P.taskKey}),e.jsx("span",{className:"timestamp",children:new Date(P.timestamp).toLocaleDateString()})]}),e.jsxs("div",{className:"item-actions",children:[e.jsx("button",{className:"action-btn",onClick:()=>O(P.id),title:P.isFavorite?"Remove from favorites":"Add to favorites",children:P.isFavorite?"‚≠ê":"‚òÜ"}),e.jsx("button",{className:"action-btn",onClick:()=>U(P.generatedPrompt),title:"Copy to clipboard",children:"üìã"}),e.jsx("button",{className:"action-btn",onClick:()=>F(P.id),title:"Delete",children:"üóëÔ∏è"})]})]}),e.jsxs("div",{className:"prompt-preview",children:[P.generatedPrompt?.substring(0,200),"..."]})]},P.id||L)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"üìù"}),e.jsx("h4",{children:"No prompts found"}),e.jsx("p",{children:A||C!=="all"?"Try adjusting your search or filters":"Start building prompts to see them here!"})]})})]});case"templates":return e.jsxs("div",{className:"templates-tab-content",children:[e.jsxs("div",{className:"templates-header",children:[e.jsx("h3",{children:"üìù Template Library"}),e.jsx("p",{children:"Pre-built templates for common prompt patterns."}),e.jsxs("div",{className:"templates-controls",children:[e.jsxs("div",{className:"search-filter-row",children:[e.jsx("input",{type:"text",placeholder:"üîç Search templates...",className:"template-search",value:Q,onChange:P=>J(P.target.value)}),e.jsxs("select",{className:"category-filter",value:Y,onChange:P=>ce(P.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"business",children:"üíº Business"}),e.jsx("option",{value:"creative",children:"üé® Creative"}),e.jsx("option",{value:"technical",children:"üíª Technical"}),e.jsx("option",{value:"educational",children:"üéì Educational"})]})]}),e.jsx("button",{className:"create-template-btn",onClick:()=>{t&&i&&Object.keys(o).length>0?D():alert("Please complete a prompt first to save as template")},children:"‚ûï Create Template"}),e.jsx("button",{className:"export-templates-btn secondary",onClick:()=>{const P=JSON.stringify(x,null,2),L=new Blob([P],{type:"application/json"}),G=URL.createObjectURL(L),W=document.createElement("a");W.href=G,W.download="prompt-templates.json",W.click()},disabled:x.length===0,children:"üì§ Export All"})]})]}),e.jsx("div",{className:"templates-grid",children:r&&r.length>0?r.map((P,L)=>e.jsxs("div",{className:"template-card",children:[e.jsxs("div",{className:"template-header",children:[e.jsx("h4",{children:P.name||"Template"}),e.jsx("span",{className:"difficulty-badge beginner",children:"beginner"})]}),e.jsx("p",{className:"template-description",children:P.description||"No description available"}),e.jsxs("div",{className:"template-meta",children:[e.jsx("span",{className:"category-tag",children:P.category||"General"}),e.jsxs("span",{className:"usage-count",children:["Used ",Math.floor(Math.random()*100)," times"]})]}),e.jsxs("div",{className:"template-actions",children:[e.jsx("button",{className:"template-btn primary",onClick:()=>g(P),children:"Use Template"}),e.jsx("button",{className:"template-btn secondary",onClick:()=>U(P.description),children:"Preview"}),e.jsx("button",{className:"template-btn danger",onClick:()=>{if(confirm("Are you sure you want to delete this template?")){const G=x.filter(W=>W.id!==P.id);ie(G)}},children:"üóëÔ∏è Delete"})]})]},P.id||L)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"üìÑ"}),e.jsx("h4",{children:"No templates found"}),e.jsx("p",{children:Q||Y!=="all"?"Try adjusting your search or filters":"Create your first template to get started!"})]})})]});case"analytics":return e.jsxs("div",{className:"analytics-tab-content",children:[e.jsxs("div",{className:"analytics-header",children:[e.jsx("h3",{children:"üìä Analytics Dashboard"}),e.jsx("p",{children:"Track your prompt performance and usage statistics."}),e.jsxs("div",{className:"analytics-actions",children:[e.jsx("button",{className:"refresh-analytics-btn secondary",onClick:()=>{window.location.reload()},children:"üîÑ Refresh"}),e.jsx("button",{className:"export-report-btn secondary",onClick:()=>{const P={totalPrompts:p?.length||0,averageRating:p?.length>0?(p.reduce((Z,be)=>Z+(be.rating||0),0)/p.filter(Z=>Z.rating).length).toFixed(1):"0.0",successRate:p?.length>0?"87%":"0%",apiCalls:p?.length||0,generatedAt:new Date().toISOString()},L=JSON.stringify(P,null,2),G=new Blob([L],{type:"application/json"}),W=URL.createObjectURL(G),ne=document.createElement("a");ne.href=W,ne.download="analytics-report.json",ne.click()},disabled:p.length===0,children:"üìä Export Report"})]})]}),e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"üìù"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h4",{children:"Total Prompts"}),e.jsx("span",{className:"stat-number",children:p?.length||0}),e.jsx("span",{className:"stat-change",children:p?.length>0?"+12% this week":"No data yet"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"‚≠ê"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h4",{children:"Avg. Rating"}),e.jsx("span",{className:"stat-number",children:p?.length>0?(p.reduce((P,L)=>P+(L.rating||0),0)/p.filter(P=>P.rating).length).toFixed(1):"0.0"}),e.jsx("span",{className:"stat-change",children:p?.length>0?"+0.3 this week":"No ratings yet"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"üéØ"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h4",{children:"Success Rate"}),e.jsx("span",{className:"stat-number",children:p?.length>0?"87%":"0%"}),e.jsx("span",{className:"stat-change",children:p?.length>0?"+5% this week":"No data yet"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"‚ö°"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h4",{children:"API Calls"}),e.jsx("span",{className:"stat-number",children:p?.length||0}),e.jsx("span",{className:"stat-change",children:p?.length>0?"+18% this week":"No calls yet"})]})]})]}),e.jsxs("div",{className:"analytics-sections",children:[e.jsxs("div",{className:"chart-section",children:[e.jsx("h4",{children:"üìà Usage Trends"}),e.jsx("div",{className:"chart-placeholder",children:p?.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"chart-bar",style:{height:"60%"}}),e.jsx("div",{className:"chart-bar",style:{height:"80%"}}),e.jsx("div",{className:"chart-bar",style:{height:"45%"}}),e.jsx("div",{className:"chart-bar",style:{height:"90%"}}),e.jsx("div",{className:"chart-bar",style:{height:"70%"}}),e.jsx("div",{className:"chart-bar",style:{height:"85%"}}),e.jsx("div",{className:"chart-bar",style:{height:"95%"}})]}):e.jsxs("div",{className:"no-data-message",children:[e.jsx("p",{children:"No usage data available yet"}),e.jsx("p",{children:"Start creating prompts to see trends"})]})})]}),e.jsxs("div",{className:"popular-section",children:[e.jsx("h4",{children:"üî• Popular Categories"}),e.jsx("div",{className:"popular-list",children:p?.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"popular-item",children:[e.jsx("span",{className:"category",children:"üíº Business"}),e.jsx("span",{className:"percentage",children:"32%"})]}),e.jsxs("div",{className:"popular-item",children:[e.jsx("span",{className:"category",children:"üé® Creative"}),e.jsx("span",{className:"percentage",children:"28%"})]}),e.jsxs("div",{className:"popular-item",children:[e.jsx("span",{className:"category",children:"üíª Technical"}),e.jsx("span",{className:"percentage",children:"25%"})]}),e.jsxs("div",{className:"popular-item",children:[e.jsx("span",{className:"category",children:"üéì Educational"}),e.jsx("span",{className:"percentage",children:"15%"})]})]}):e.jsxs("div",{className:"no-data-message",children:[e.jsx("p",{children:"No category data available yet"}),e.jsx("p",{children:"Create prompts to see popular categories"})]})})]})]})]});case"custom-roles":return e.jsx(Ua,{onSave:()=>{},onCancel:()=>a("build")});case"marketplace":return e.jsx(Ba,{});case"branding":return e.jsx(Oa,{});default:return e.jsx("div",{className:"build-tab-content",children:e.jsxs("div",{className:"build-section",children:[e.jsx("h3",{children:"üèóÔ∏è Prompt Builder"}),e.jsx("p",{children:"Build professional prompts step by step with guided assistance."})]})})}};return e.jsxs("div",{className:"prompt-architect-redesigned",children:[e.jsxs("div",{className:"page-header-redesigned",children:[e.jsx("h2",{children:"Prompt Architect"}),e.jsx("p",{children:"Design, test, and manage sophisticated AI prompts with professional tools and templates."})]}),e.jsx("nav",{className:"tab-navigation-redesigned",children:[{id:"build",label:"Build",icon:"üèóÔ∏è"},{id:"history",label:"History",icon:"üìã"},{id:"templates",label:"Templates",icon:"üìù"},{id:"analytics",label:"Analytics",icon:"üìä"},{id:"custom-roles",label:"Custom Roles",icon:"üë•"},{id:"marketplace",label:"Marketplace",icon:"üè™"},{id:"branding",label:"Branding",icon:"üé®"}].map(P=>e.jsxs("button",{className:`tab-button-redesigned ${s===P.id?"active":""}`,onClick:()=>a(P.id),children:[e.jsx("span",{className:"tab-icon-redesigned",children:P.icon}),e.jsx("span",{className:"tab-label",children:P.label})]},P.id))}),e.jsx("div",{className:"architect-container-redesigned",children:R()})]})},za="modulepreload",Ga=function(s){return"/"+s},hs={},te=function(a,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),f=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(t.map(y=>{if(y=Ga(y),y in hs)return;hs[y]=!0;const v=y.endsWith(".css"),c=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${c}`))return;const d=document.createElement("link");if(d.rel=v?"stylesheet":za,v||(d.as="script"),d.crossOrigin="",d.href=y,f&&d.setAttribute("nonce",f),document.head.appendChild(d),v)return new Promise((w,p)=>{d.addEventListener("load",w),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(o){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=o,window.dispatchEvent(f),!f.defaultPrevented)throw o}return i.then(o=>{for(const f of o||[])f.status==="rejected"&&l(f.reason);return a().catch(l)})},Wa=({className:s=""})=>{const[a,t]=m.useState(ms()),[n,i]=m.useState(ps(5));return m.useEffect(()=>{const l=()=>{t(ms()),i(ps(5))};return l(),window.addEventListener("focus",l),()=>window.removeEventListener("focus",l)},[]),e.jsxs("div",{className:`token-usage-counter ${s}`,style:{background:"#0f172a",color:"#e2e8f0",borderRadius:12,padding:12,border:"1px solid #1f2937"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx("span",{style:{fontSize:18},children:"ü™ô"}),e.jsx("strong",{children:"Token usage (this month)"})]}),e.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[e.jsxs("div",{children:["Prompt: ",e.jsx("strong",{children:a.prompt.toLocaleString()})]}),e.jsxs("div",{children:["Completion: ",e.jsx("strong",{children:a.completion.toLocaleString()})]}),e.jsxs("div",{children:["Total: ",e.jsx("strong",{children:a.total.toLocaleString()})]})]}),n.length>0&&e.jsxs("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:["Recent: ",n.map((l,o)=>e.jsx("span",{title:`${new Date(l.timestamp).toLocaleString()} ‚Ä¢ ${l.provider} ‚Ä¢ ${l.modelId}${l.approximate?" (approx)":""}`,style:{marginRight:8},children:l.totalTokens},o))]})]})},we={developer:{nameKey:"professions.developer",name:"Software Developer",icon:"üíª",templates:["Write clean code for [feature] in [programming language]","Design software architecture for [application type]","Create API documentation for [service] endpoints","Implement database schema for [business domain]","Write unit tests for [functionality] in [language]","Optimize performance for [application component]"],guidelines:{tone:"Technical and precise",focus:"Code quality, performance, and maintainability",examples:"Include code examples, best practices, and design patterns",constraints:"Consider scalability, security, and platform limitations",terminology:"Use programming and software development terminology"}},marketer:{nameKey:"professions.marketer",name:"Digital Marketer",icon:"üìà",templates:["Create marketing campaign for [product/service] targeting [audience]","Develop social media strategy for [brand] on [platform]","Design email marketing sequence for [conversion goal]","Plan content marketing strategy for [industry]","Create PPC campaign structure for [business type]","Develop influencer marketing plan for [product category]"],guidelines:{tone:"Persuasive and engaging",focus:"Customer engagement, conversion rates, and brand awareness",examples:"Include campaign examples, metrics, and ROI considerations",constraints:"Consider budget, platform policies, and target audience",terminology:"Use marketing and digital advertising terminology"}},healthcare:{nameKey:"professions.healthcare",name:"Healthcare Professional",icon:"üè•",templates:["Create patient education materials for [medical condition]","Design treatment plan for [health condition]","Write medical documentation for [procedure]","Develop health promotion campaign for [target population]","Create clinical guidelines for [medical specialty]","Design patient care protocol for [healthcare setting]"],guidelines:{tone:"Professional and compassionate",focus:"Patient safety, evidence-based practice, and healthcare outcomes",examples:"Include medical protocols, safety guidelines, and patient education",constraints:"Consider medical ethics, regulatory compliance, and patient privacy",terminology:"Use medical and healthcare terminology"}},legal:{nameKey:"professions.legal",name:"Legal Professional",icon:"‚öñÔ∏è",templates:["Draft legal document for [contract type]","Create legal analysis for [case type]","Write compliance policy for [industry]","Develop legal strategy for [legal matter]","Create terms of service for [business type]","Draft privacy policy for [application/service]"],guidelines:{tone:"Formal and authoritative",focus:"Legal accuracy, compliance, and risk mitigation",examples:"Include legal precedents, regulatory requirements, and case law",constraints:"Consider jurisdiction, legal requirements, and potential liabilities",terminology:"Use legal and regulatory terminology"}},finance:{nameKey:"professions.finance",name:"Financial Advisor",icon:"üí∞",templates:["Create investment strategy for [client profile]","Develop financial plan for [life goal]","Analyze financial statements for [business type]","Create budgeting framework for [income level]","Design retirement planning strategy for [age group]","Develop risk management plan for [investment type]"],guidelines:{tone:"Professional and trustworthy",focus:"Financial security, risk management, and long-term planning",examples:"Include financial calculations, market analysis, and investment options",constraints:"Consider regulatory compliance, risk tolerance, and market conditions",terminology:"Use financial and investment terminology"}},sales:{nameKey:"professions.sales",name:"Sales Professional",icon:"üéØ",templates:["Create sales pitch for [product/service] targeting [prospect type]","Develop objection handling strategy for [common objection]","Design sales funnel for [business type]","Create follow-up sequence for [lead type]","Develop negotiation strategy for [deal size]","Create customer retention plan for [industry]"],guidelines:{tone:"Persuasive and relationship-focused",focus:"Customer needs, value proposition, and relationship building",examples:"Include sales techniques, objection handling, and closing strategies",constraints:"Consider customer preferences, competition, and sales cycle",terminology:"Use sales and customer relationship terminology"}},hr:{nameKey:"professions.hr",name:"HR Professional",icon:"üë•",templates:["Create job description for [position] in [industry]","Design employee onboarding program for [company size]","Develop performance review system for [department]","Create workplace policy for [policy type]","Design training program for [skill development]","Develop employee engagement strategy for [workplace type]"],guidelines:{tone:"Professional and people-focused",focus:"Employee development, workplace culture, and organizational effectiveness",examples:"Include HR best practices, compliance requirements, and employee development",constraints:"Consider labor laws, company culture, and organizational goals",terminology:"Use HR and organizational development terminology"}},content:{nameKey:"professions.content",name:"Content Creator",icon:"üì±",templates:["Create viral social media content for [platform] about [topic]","Design content calendar for [brand] across [platforms]","Develop storytelling strategy for [brand story]","Create video script for [content type] targeting [audience]","Design interactive content for [engagement goal]","Develop content repurposing strategy for [original content]"],guidelines:{tone:"Creative and engaging",focus:"Audience engagement, brand storytelling, and content virality",examples:"Include content formats, platform-specific strategies, and engagement metrics",constraints:"Consider platform algorithms, audience preferences, and brand guidelines",terminology:"Use content creation and social media terminology"}},seo:{nameKey:"professions.seo",name:"SEO Specialist",icon:"üîç",templates:["Optimize website content for keyword [keyword] in [industry]","Create SEO strategy for [website type] targeting [audience]","Develop link building strategy for [business type]","Design technical SEO audit for [website]","Create local SEO plan for [business location]","Develop content optimization strategy for [content type]"],guidelines:{tone:"Technical and strategic",focus:"Search visibility, organic traffic, and ranking improvements",examples:"Include SEO techniques, keyword research, and technical optimization",constraints:"Consider search engine guidelines, competition, and website authority",terminology:"Use SEO and digital marketing terminology"}},teacher:{nameKey:"professions.teacher",name:"Teacher/Educator",icon:"üéì",templates:["Design curriculum for teaching [subject] to [age/level] students","Create practical exercises for [subject] with [easy/medium/hard] difficulty","Provide engaging methods to teach [concept] to [age] children","Prepare comprehensive assessment plan for [subject]","Design group activities for teaching [concept]","Provide motivation strategies for [age] students"],guidelines:{tone:"Educational and encouraging",focus:"Learning outcomes, student engagement, and comprehension",examples:"Include age-appropriate activities and assessment methods",constraints:"Consider learning styles and educational standards",terminology:"Use educational and pedagogical terms"}},writer:{nameKey:"professions.writer",name:"Writer/Copywriter",icon:"‚úçÔ∏è",templates:["Write [word count] word article about [topic] for [audience]","Create SEO content for keyword [keyword] as [article/guide] type","Write creative content for [content type] with [humor/serious/narrative] style","Create engaging Instagram post about [topic] with relevant hashtags","Write [duration] minute YouTube video script about [topic]","Create blog content to increase traffic in [topic] area"],guidelines:{tone:"Adaptable to content type and audience",focus:"Engagement, readability, and message clarity",examples:"Include writing style examples and content structure",constraints:"Consider word count, platform requirements, and SEO",terminology:"Use writing and content creation terminology"}},designer:{nameKey:"professions.designer",name:"Graphic/UI/UX Designer",icon:"üé®",templates:["Provide design ideas for [project type] with [modern/classic/minimal] style","Suggest color palette for [brand type] with [desired feeling]","Design better user experience for [app type]","Provide logo design guide for [business type]","Create banner design ideas for [product/service]","Explain responsive design principles for [website type]"],guidelines:{tone:"Creative and visual-focused",focus:"User experience, visual appeal, and brand consistency",examples:"Include design principles and visual references",constraints:"Consider accessibility, platform limitations, and brand guidelines",terminology:"Use design and UX terminology"}},business:{nameKey:"professions.business",name:"Business Consultant",icon:"üíº",templates:["Prepare business plan for [idea] in [region] market","Provide growth strategy for [business type] in [timeframe]","Conduct competitive analysis for [industry] focusing on [specific aspect]","Suggest revenue model for [business type]","Create pricing strategy for [product/service] in [target] market","Develop marketing and sales plan for [startup/company]"],guidelines:{tone:"Professional and analytical",focus:"Profitability, market analysis, and strategic planning",examples:"Include market research, financial projections, and case studies",constraints:"Consider market conditions, competition, and regulatory requirements",terminology:"Use business and financial terminology"}},analyst:{nameKey:"professions.analyst",name:"Data Analyst",icon:"üìä",templates:["Analyze [data type] data to discover [analysis goal]","Create analytical report on [topic] focusing on [key metrics]","Predict [topic] trends based on [data sources]","Design analytical dashboard for [business] with appropriate KPIs","Analyze customer behavior based on [available data]","Build prediction model for [business goal] using [algorithm type]"],guidelines:{tone:"Analytical and data-driven",focus:"Data accuracy, statistical significance, and actionable insights",examples:"Include data visualization suggestions and statistical methods",constraints:"Consider data quality, sample size, and statistical validity",terminology:"Use data science and analytics terminology"}},researcher:{nameKey:"professions.researcher",name:"Research Specialist",icon:"üî¨",templates:["Conduct literature review on [research topic]","Design research methodology for [study type]","Analyze research data using [statistical method]","Write research proposal for [academic/industry] project","Create research presentation for [audience type]","Develop research questions for [field] study"],guidelines:{tone:"Academic and methodical",focus:"Research validity, methodology, and evidence-based conclusions",examples:"Include research methods, citation formats, and statistical analysis",constraints:"Consider research ethics, sample size, and methodology limitations",terminology:"Use academic and research terminology"}},custom:{nameKey:"professions.custom",name:"Custom/General",icon:"üéØ",templates:["Write a custom prompt for [your specific need]","Create a general-purpose prompt for [topic]","Design a flexible prompt for [any domain]","Build a universal prompt template for [purpose]","Develop a cross-domain prompt for [objective]","Craft a versatile prompt for [any application]"],guidelines:{tone:"Adaptable and flexible",focus:"Universal applicability and broad scope",examples:"Include versatile examples that work across domains",constraints:"Consider general best practices and universal principles",terminology:"Use clear, accessible language suitable for any field"}}},Ha=s=>{const a=we[s];if(!a?.guidelines)return"Apply general professional standards and best practices with imperative commands.";const{tone:t,focus:n,examples:i,constraints:l,terminology:o}=a.guidelines;return`
‚Ä¢ Tone: ${t}
‚Ä¢ Focus Areas: ${n}
‚Ä¢ Examples: ${i}
‚Ä¢ Constraints: ${l}
‚Ä¢ Terminology: ${o}
‚Ä¢ Commands: Use imperative action verbs appropriate for this domain
  `.trim()},gs={beginner:{name:"Beginner",icon:"üå±",description:"Simple and understandable"},intermediate:{name:"Intermediate",icon:"üåø",description:"Balanced and comprehensive"},advanced:{name:"Advanced",icon:"üå≥",description:"Specialized and in-depth"},expert:{name:"Expert",icon:"üöÄ",description:"Highly specialized and complex"}},xs={paragraph:{name:"Paragraph",icon:"üìù",description:"Response in plain text format"},list:{name:"List",icon:"üìã",description:"Response in bullet point format"},stepByStep:{name:"Step-by-step",icon:"üë£",description:"Step-by-step guide"},table:{name:"Table",icon:"üìä",description:"Response in organized table format"},code:{name:"Code",icon:"üíª",description:"Response including programming code"},creative:{name:"Creative",icon:"üé®",description:"Creative and innovative response"}},Va=()=>{const[s,a]=m.useState(""),[t,n]=m.useState(""),[i,l]=m.useState(()=>{try{return localStorage.getItem("force-english-output")==="true"}catch{return!1}}),[o,f]=m.useState(!1),[y,v]=m.useState("custom"),[c,d]=m.useState("intermediate"),[w,p]=m.useState("paragraph"),[j,x]=m.useState(null),[u,T]=m.useState(""),[E,M]=m.useState(null),[U,D]=m.useState(!1),[g,O]=m.useState(null),[F,S]=m.useState(!1),[b,N]=m.useState("simple"),{addToast:r}=ee(),A=I=>{const k={score:0,issues:[],suggestions:[],isGood:!1};return I.length<10?(k.issues.push("Prompt is too short"),k.suggestions.push("Add more details"),k.score-=30):I.length<50?(k.issues.push("Prompt is short"),k.suggestions.push("Add more explanations"),k.score-=15):I.length>500?(k.issues.push("Prompt is too long"),k.suggestions.push("Make it more concise"),k.score-=10):k.score+=20,["write","create","analyze","design","develop","build","make","show","explain","generate"].some(Z=>I.toLowerCase().includes(Z))?k.score+=15:(k.issues.push("No clear command"),k.suggestions.push('Use action words like "write", "create", "analyze"'),k.score-=20),["for","in","with","that","this","about","regarding","concerning"].some(Z=>I.toLowerCase().includes(Z))?k.score+=10:(k.issues.push("No clear context"),k.suggestions.push("Specify the context and purpose"),k.score-=15),["code","program","website","app","report","analysis","design","content"].some(Z=>I.toLowerCase().includes(Z))?k.score+=10:(k.issues.push("No specific details"),k.suggestions.push("Specify the expected output type"),k.score-=10),k.isGood=k.score>=60,k},h=I=>{const k={primaryGoal:"",secondaryGoals:[],targetAudience:"",expectedOutput:"",domain:"",complexity:"",suggestions:[]},R=I.toLowerCase();return R.includes("code")||R.includes("program")||R.includes("software")?(k.primaryGoal="Software Development",k.domain="developer",k.expectedOutput="Programming Code"):R.includes("analyze")||R.includes("report")||R.includes("data")?(k.primaryGoal="Data Analysis",k.domain="analyst",k.expectedOutput="Analytical Report"):R.includes("design")||R.includes("ui")||R.includes("ux")?(k.primaryGoal="UI/UX Design",k.domain="designer",k.expectedOutput="Design & Wireframes"):R.includes("content")||R.includes("write")||R.includes("article")?(k.primaryGoal="Content Creation",k.domain="writer",k.expectedOutput="Content & Text"):R.includes("marketing")||R.includes("advertising")||R.includes("sales")?(k.primaryGoal="Marketing & Advertising",k.domain="marketer",k.expectedOutput="Marketing Strategy"):R.includes("education")||R.includes("teaching")||R.includes("learning")?(k.primaryGoal="Education & Teaching",k.domain="teacher",k.expectedOutput="Educational Content"):R.includes("business")||R.includes("strategy")||R.includes("plan")?(k.primaryGoal="Business Management",k.domain="business",k.expectedOutput="Business Plan"):R.includes("research")||R.includes("study")||R.includes("investigation")?(k.primaryGoal="Research & Investigation",k.domain="researcher",k.expectedOutput="Research Report"):(k.primaryGoal="General",k.domain="custom",k.expectedOutput="General Response"),R.includes("beginner")||R.includes("newbie")||R.includes("learning")?(k.targetAudience="Beginners",k.complexity="beginner"):R.includes("expert")||R.includes("professional")||R.includes("advanced")?(k.targetAudience="Experts",k.complexity="expert"):R.includes("intermediate")||R.includes("medium")?(k.targetAudience="Intermediate Users",k.complexity="intermediate"):(k.targetAudience="General",k.complexity="intermediate"),k.domain==="developer"?(k.suggestions.push("Specify the programming language"),k.suggestions.push("Define project type (web, mobile, desktop)")):k.domain==="analyst"?(k.suggestions.push("Specify the type of data to analyze"),k.suggestions.push("Define analysis purpose (pattern discovery, prediction, reporting)")):k.domain==="designer"&&(k.suggestions.push("Specify design type (UI, UX, graphic)"),k.suggestions.push("Define target platform (web, mobile, desktop)")),k};m.useEffect(()=>{const I=localStorage.getItem("selectedTemplate");if(I)try{const k=JSON.parse(I);x(k),a(k.prompt||""),r("Template loaded successfully!","success"),localStorage.removeItem("selectedTemplate")}catch{r("Error loading template","error"),localStorage.removeItem("selectedTemplate")}},[r]),m.useEffect(()=>{if(b==="advanced"&&s.trim().length>0){const I=A(s),k=h(s);M(I),O(k),!I.isGood&&I.issues.length>0?D(!0):D(!1),k.primaryGoal!=="General"?S(!0):S(!1)}else M(null),O(null),D(!1),S(!1)},[s,b]);const C=async()=>{if(!s.trim()){r("Please enter a prompt","error");return}if(b==="advanced"){const I=A(s);if(!I.isGood&&!window.confirm(`‚ö†Ô∏è Your prompt has low quality (Score: ${I.score}/100).

Issues:
${I.issues.map(R=>`‚Ä¢ ${R}`).join(`
`)}

Suggestions:
${I.suggestions.map(R=>`‚Ä¢ ${R}`).join(`
`)}

Do you want to continue without improving the prompt?`)){r("Please improve the prompt first.","info");return}}f(!0);try{const I=we[y],k=gs[c],R=xs[w];let P="";y==="custom"?P=`
CUSTOM MODE ENHANCEMENT

ORIGINAL PROMPT:
${s}

ENHANCEMENT CONTEXT:
- Complexity Level: ${k?.name} (${k?.description})
- Output Format: ${R?.name} (${R?.description})
- Professional Template: ${u?"Applied":"None"}

ENHANCED PROMPT:
Please enhance the above prompt to be more specific, actionable, and effective. Focus on:
1. Making it more imperative and command-based
2. Adding specific details and context
3. Ensuring clear output requirements
4. Optimizing for ${k?.name} level understanding
5. Structuring for ${R?.name} format

${u?`PROFESSIONAL TEMPLATE CONTEXT:
${u}

`:""}
Please provide an enhanced version that follows these guidelines.`:P=`
PROFESSIONAL ENHANCEMENT

ORIGINAL PROMPT:
${s}

PROFESSIONAL CONTEXT:
- Domain: ${I?.name}
- Guidelines: ${I?.guidelines?.tone||"Professional tone"}

DOMAIN-SPECIFIC GUIDELINES:
${Ha(y)}

COMMAND ENHANCEMENT REQUIREMENTS:
- Transform into imperative commands
- Use action verbs: Write, Create, Analyze, Design, Develop, Build, Explain
- Ensure clear, direct instructions
- Add specific context and constraints

OUTPUT REQUIREMENTS:
- Format: ${R?.name}
- Structure: ${R?.description}

COMMAND STRUCTURE:
1. START with a clear command
2. PROVIDE specific context and background
3. SPECIFY exact requirements and constraints
4. DEFINE expected output format and structure
5. INCLUDE domain-specific terminology and best practices

IMPERATIVE REQUIREMENTS:
- Use "Create", "Generate", "Analyze", "Design", "Develop", "Build", "Write", "Explain"
- Avoid passive language
- Be specific and actionable
- Include measurable outcomes

${u?`PROFESSIONAL TEMPLATE:
${u}

`:""}
Please enhance the original prompt following these professional guidelines and command structure.`;const{enhancePrompt:L}=await te(async()=>{const{enhancePrompt:oe}=await Promise.resolve().then(()=>Ra);return{enhancePrompt:oe}},void 0),G=localStorage.getItem("prompter-model-configs"),W=localStorage.getItem("prompter-current-model")||"openai-gpt35";let ne="";if(G)try{ne=JSON.parse(G)[W]?.apiKey||""}catch{}const be=(oe=>{try{return/\p{Script=Arabic}/u.test(oe)?"fa":/\p{Script=Latin}/u.test(oe)?"en":navigator.language?.slice(0,2)||"en"}catch{return"en"}})(s),$e=await L({userPrompt:P,apiKey:ne,modelId:W,language:i?"en":be,domain:y,complexity:c,outputFormat:w});n($e),r("Prompt enhanced successfully!","success")}catch{r("Enhancement failed","error")}finally{f(!1)}},B=async()=>{if(!t){r("No enhanced prompt to copy","error");return}try{await navigator.clipboard.writeText(t),r("Enhanced prompt copied to clipboard!","success")}catch{Q()}},Q=()=>{const I=document.createElement("textarea");I.value=t,I.style.position="fixed",I.style.left="-999999px",I.style.top="-999999px",document.body.appendChild(I),I.focus(),I.select();try{document.execCommand("copy"),r("Enhanced prompt copied to clipboard!","success")}catch{r("Failed to copy to clipboard.","error")}finally{document.body.removeChild(I)}},J=()=>{if(!t){r("No enhanced prompt to save","error");return}try{const I=JSON.parse(localStorage.getItem("saved-enhanced-prompts")||"[]"),k={id:Date.now(),original:s,enhanced:t,timestamp:new Date().toISOString(),profession:y,complexity:c,outputType:w};I.unshift(k),localStorage.setItem("saved-enhanced-prompts",JSON.stringify(I)),r("Enhanced prompt saved successfully!","success")}catch{r("Failed to save prompt","error")}},Y=()=>{if(!t){r("No enhanced prompt to add to library","error");return}try{const I=JSON.parse(localStorage.getItem("prompt-library")||"[]"),k={id:Date.now().toString(),title:`Enhanced: ${s.substring(0,50)}${s.length>50?"...":""}`,content:t,category:y==="custom"?"general":y,tags:["enhanced","ai-generated",y,c,w],isFavorite:!1,createdAt:new Date,updatedAt:new Date,usageCount:0,description:`Enhanced prompt from AI Generator - Original: ${s.substring(0,100)}${s.length>100?"...":""}`,author:"AI Enhanced",difficulty:c==="simple"?"beginner":c==="moderate"?"intermediate":c==="complex"?"advanced":"expert",complexity:c,timeRequired:"quick"};I.unshift(k),localStorage.setItem("prompt-library",JSON.stringify(I)),r("‚úÖ Enhanced prompt added to My Prompts library!","success")}catch{r("Failed to add prompt to library","error")}},ce=()=>{if(!t){r("No enhanced prompt to save","error");return}try{const I=JSON.parse(localStorage.getItem("prompt-library")||"[]"),k={id:Date.now().toString(),title:`Quick Save: ${new Date().toLocaleDateString()}`,content:t,category:"general",tags:["quick-save","enhanced"],isFavorite:!1,createdAt:new Date,updatedAt:new Date,usageCount:0,description:"Quick saved enhanced prompt",author:"You",difficulty:"beginner",complexity:"simple",timeRequired:"quick"};I.unshift(k),localStorage.setItem("prompt-library",JSON.stringify(I)),r("‚ö° Prompt quick saved to library!","success")}catch{r("Failed to quick save prompt","error")}},je=()=>{a(""),n(""),x(null),T(""),v("custom"),d("intermediate"),p("paragraph"),r("Form has been reset to Custom mode.","info")},se=I=>{T(I),a(I),r(y==="custom"?"Custom template selected. You can modify it as needed.":"Professional template selected. You can modify it as needed.","info")},ie=(I,k,R,P)=>e.jsxs("div",{className:"enhancer-card",children:[e.jsx("h3",{children:I}),e.jsx("div",{className:"form-group-redesigned",children:e.jsx("select",{className:"select-redesigned",value:R,onChange:L=>P(L.target.value),children:Object.entries(k).map(([L,G])=>e.jsx("option",{value:L,children:G.name},L))})}),I==="Select Profession"&&we[R]&&e.jsxs("div",{className:"professional-templates",children:[e.jsx("h4",{children:"Professional Templates"}),e.jsx("div",{className:"template-grid",children:we[R].templates.map((L,G)=>e.jsxs("button",{className:`template-btn ${u===L?"selected":""}`,onClick:()=>se(L),title:L,"data-template":L,children:[e.jsx("span",{className:"template-text",children:L.length>50?L.substring(0,50)+"...":L}),u===L&&e.jsx("span",{className:"template-check",children:"‚úì"})]},G))}),R==="custom"&&e.jsx("div",{className:"custom-domain-info",children:e.jsxs("div",{className:"custom-info-text",children:[e.jsx("strong",{children:"Custom Mode:"})," This mode is for general prompts that don't fit specific professional categories. You can still select complexity level and output format for better results."]})})]})]});return e.jsxs("div",{className:"prompt-enhancer-redesigned",children:[e.jsxs("div",{className:"page-header-redesigned",children:[e.jsx("h2",{children:"Prompt Enhancer"}),e.jsx("p",{children:"Transform your simple ideas into powerful, precise, and professional prompts."})]}),e.jsxs("div",{className:"enhancer-content",children:[j&&e.jsxs("div",{className:"template-info-card",children:[e.jsxs("div",{className:"template-info-header",children:[e.jsx("h4",{children:"üìã Loaded Template"}),e.jsx("button",{className:"clear-template-btn",onClick:()=>{x(null),a("")},children:"Clear"})]}),e.jsxs("div",{className:"template-info-content",children:[e.jsxs("div",{className:"template-meta",children:[e.jsx("div",{className:"template-title",children:j.title}),e.jsx("div",{className:"template-domain",children:j.domain}),e.jsx("div",{className:"template-difficulty",children:j.difficulty})]}),e.jsx("div",{className:"template-description",children:j.description})]})]}),e.jsxs("div",{className:"enhancer-card",children:[e.jsx("h3",{children:"Enter Your Prompt"}),e.jsx("div",{className:"input-mode-selector",children:e.jsxs("div",{className:"mode-buttons",children:[e.jsxs("button",{className:`mode-btn ${b==="simple"?"active":""}`,onClick:()=>N("simple"),children:[e.jsx("span",{className:"mode-icon",children:"‚úèÔ∏è"}),e.jsx("span",{className:"mode-title",children:"Simple Input"}),e.jsx("span",{className:"mode-desc",children:"Quick and easy prompt entry"})]}),e.jsxs("button",{className:`mode-btn ${b==="advanced"?"active":""}`,onClick:()=>N("advanced"),children:[e.jsx("span",{className:"mode-icon",children:"üîç"}),e.jsx("span",{className:"mode-title",children:"Smart Analysis"}),e.jsx("span",{className:"mode-desc",children:"AI-powered quality & goal analysis"})]})]})}),e.jsx("div",{className:"form-group-redesigned",children:e.jsx("textarea",{value:s,onChange:I=>a(I.target.value),placeholder:b==="simple"?"Enter your prompt here... (Simple mode - direct enhancement)":"Enter your prompt here... (Smart mode - AI will analyze and suggest improvements)",rows:6,className:"prompt-textarea"})}),b==="advanced"&&U&&E&&e.jsxs("div",{className:"quality-analysis",children:[e.jsxs("div",{className:"quality-header",children:[e.jsx("span",{className:"quality-icon",children:"üîç"}),e.jsx("span",{className:"quality-title",children:"Prompt Quality Analysis"}),e.jsxs("span",{className:"quality-score",children:["Score: ",E.score,"/100"]})]}),E.issues.length>0&&e.jsxs("div",{className:"quality-issues",children:[e.jsx("h4",{children:"Identified Issues:"}),e.jsx("ul",{children:E.issues.map((I,k)=>e.jsxs("li",{children:["‚ö†Ô∏è ",I]},k))})]}),E.suggestions.length>0&&e.jsxs("div",{className:"quality-suggestions",children:[e.jsx("h4",{children:"Improvement Suggestions:"}),e.jsx("ul",{children:E.suggestions.map((I,k)=>e.jsxs("li",{children:["üí° ",I]},k))})]}),e.jsx("button",{className:"quality-close-btn",onClick:()=>D(!1),children:"Close"})]}),b==="advanced"&&F&&g&&e.jsxs("div",{className:"goal-analysis",children:[e.jsxs("div",{className:"goal-header",children:[e.jsx("span",{className:"goal-icon",children:"üéØ"}),e.jsx("span",{className:"goal-title",children:"User Goal Analysis"}),e.jsx("span",{className:"goal-domain",children:g.primaryGoal})]}),e.jsxs("div",{className:"goal-details",children:[e.jsxs("div",{className:"goal-item",children:[e.jsx("strong",{children:"Primary Goal:"})," ",g.primaryGoal]}),e.jsxs("div",{className:"goal-item",children:[e.jsx("strong",{children:"Target Audience:"})," ",g.targetAudience]}),e.jsxs("div",{className:"goal-item",children:[e.jsx("strong",{children:"Expected Output:"})," ",g.expectedOutput]}),e.jsxs("div",{className:"goal-item",children:[e.jsx("strong",{children:"Complexity Level:"})," ",g.complexity]})]}),g.suggestions.length>0&&e.jsxs("div",{className:"goal-suggestions",children:[e.jsx("h4",{children:"Improvement Suggestions:"}),e.jsx("ul",{children:g.suggestions.map((I,k)=>e.jsxs("li",{children:["üí° ",I]},k))})]}),e.jsx("button",{className:"goal-close-btn",onClick:()=>S(!1),children:"Close"})]})]}),ie("Select Profession",we,y,v),ie("Select Complexity",gs,c,d),ie("Select Output Format",xs,w,p),e.jsxs("div",{className:"enhanced-prompt-display",children:[e.jsx("h3",{children:"Enhanced Prompt"}),e.jsx("div",{style:{marginBottom:8},children:e.jsx(Wa,{})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{id:"force-english-output",type:"checkbox",checked:i,onChange:I=>{const k=I.target.checked;l(k);try{localStorage.setItem("force-english-output",String(k))}catch{}}}),e.jsx("label",{htmlFor:"force-english-output",children:"Force output in English"})]}),o?e.jsx("p",{children:"‚è≥ Enhancing your prompt..."}):e.jsx("p",{children:t||"Your enhanced prompt will appear here."})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{type:"button",onClick:C,disabled:o||!s.trim(),className:"enhance-btn",children:o?"‚è≥ Enhancing...":"‚ú® Enhance Prompt"}),e.jsx("button",{type:"button",onClick:je,className:"reset-btn",children:"üîÑ Reset"}),e.jsx("button",{type:"button",onClick:B,disabled:!t,className:"copy-btn",children:"üìã Copy Result"}),e.jsx("button",{type:"button",onClick:J,disabled:!t,className:"save-btn",children:"üíæ Save Result"}),e.jsx("button",{type:"button",onClick:Y,disabled:!t,className:"add-to-library-btn",children:"üìö Add to My Prompts"}),e.jsx("button",{type:"button",onClick:ce,disabled:!t,className:"quick-save-btn",children:"‚ö° Quick Save"})]}),e.jsxs("div",{className:"enhancer-card",children:[e.jsx("h3",{children:"Actions"}),e.jsx("div",{className:"enhancer-actions",children:e.jsx(Ls,{userPrompt:s,onResult:I=>n(I),onError:I=>r(I,"error"),disabled:o||!s,forceEnglishOutput:i})})]})]})]})},Ja=()=>{const[s,a]=m.useState([]),[t,n]=m.useState(""),[i,l]=m.useState("all"),[o,f]=m.useState([]),[y,v]=m.useState("all"),[c,d]=m.useState("newest");m.useEffect(()=>{w()},[]);const w=()=>{try{const u=localStorage.getItem("prompt-library");if(u){const T=JSON.parse(u);a(T.map(E=>({...E,createdAt:new Date(E.createdAt),updatedAt:new Date(E.updatedAt),usageCount:E.usageCount||0})))}}catch{}},p=u=>{try{localStorage.setItem("prompt-library",JSON.stringify(u)),a(u)}catch{}},j=m.useMemo(()=>{const u=s.flatMap(T=>T.tags);return[...new Set(u)].sort()},[s]),x=m.useMemo(()=>s.filter(u=>{const T=t===""||u.title.toLowerCase().includes(t.toLowerCase())||u.content.toLowerCase().includes(t.toLowerCase())||u.description?.toLowerCase().includes(t.toLowerCase())||u.tags.some(D=>D.toLowerCase().includes(t.toLowerCase())),E=i==="all"||u.category===i,M=o.length===0||o.every(D=>u.tags.includes(D)),U=y==="all"||u.difficulty===y;return T&&E&&M&&U}).sort((u,T)=>{switch(c){case"newest":return new Date(T.updatedAt).getTime()-new Date(u.updatedAt).getTime();case"oldest":return new Date(u.createdAt).getTime()-new Date(T.createdAt).getTime();case"alphabetical":return u.title.localeCompare(T.title);case"usage":return(T.usageCount||0)-(u.usageCount||0);case"rating":return(T.rating||0)-(u.rating||0);case"difficulty":const E={beginner:1,intermediate:2,advanced:3,expert:4};return(E[u.difficulty||"beginner"]||1)-(E[T.difficulty||"beginner"]||1);default:return 0}}),[s,t,i,o,y,c]);return{prompts:s,setPrompts:p,searchTerm:t,setSearchTerm:n,selectedCategory:i,setSelectedCategory:l,selectedTags:o,setSelectedTags:f,selectedDifficulty:y,setSelectedDifficulty:v,sortBy:c,setSortBy:d,allTags:j,filteredPrompts:x}},Ya=()=>{const{prompts:s,setPrompts:a,searchTerm:t,setSearchTerm:n,filteredPrompts:i,selectedCategory:l,setSelectedCategory:o,selectedDifficulty:f,setSelectedDifficulty:y,sortBy:v,setSortBy:c}=Ja(),[d,w]=m.useState(!1),[p,j]=m.useState(null),[x,u]=m.useState({title:"",content:"",category:"general",tags:"",isFavorite:!1,description:"",author:"",difficulty:"beginner",complexity:"simple",timeRequired:"quick"}),{t:T}=Je(),{addToast:E}=ee(),{checkAccess:M}=Rs(),U=ae(),D=r=>{if(r.preventDefault(),!x.title.trim()||!x.content.trim()){E(T("messages.titleContentRequired","Title and content are required"),"error");return}if(!M(x.difficulty)){E("Creating advanced prompts requires Premium subscription","warning"),setTimeout(()=>{U("/premium")},1500);return}const A=new Date,h=x.tags.split(",").map(C=>C.trim()).filter(C=>C);if(p){const C=s.map(B=>B.id===p.id?{...B,...x,tags:h,updatedAt:A}:B);a(C),E(T("messages.promptSaved","Prompt updated successfully!"),"success")}else{const C={id:Date.now().toString(),...x,tags:h,createdAt:A,updatedAt:A,usageCount:0};a([...s,C]),E(T("messages.promptSaved","Prompt saved successfully!"),"success")}g(),w(!1),j(null)},g=()=>{u({title:"",content:"",category:"general",tags:"",isFavorite:!1,description:"",author:"",difficulty:"beginner",complexity:"simple",timeRequired:"quick"}),j(null),w(!1)},O=r=>{j(r),u({title:r.title,content:r.content,category:r.category,tags:r.tags.join(", "),isFavorite:r.isFavorite,description:r.description||"",author:r.author||"",difficulty:r.difficulty||"beginner",complexity:r.complexity||"simple",timeRequired:r.timeRequired||"quick"}),w(!0)},F=r=>{if(confirm(T("messages.deleteConfirm","Are you sure you want to delete this prompt?"))){const A=s.filter(h=>h.id!==r);a(A),E(T("messages.promptDeleted","Prompt deleted successfully!"),"success")}},S=r=>{navigator.clipboard.writeText(r.content);const A=s.map(h=>h.id===r.id?{...h,usageCount:h.usageCount+1}:h);a(A),E(T("messages.promptCopied","Prompt copied to clipboard!"),"success")},b=r=>{try{const A={title:r.title,domain:r.category,difficulty:r.difficulty||"intermediate",description:r.description||`Personal prompt: ${r.title}`,prompt:r.content,source:"prompt-library",tags:r.tags,author:r.author||"You",usageCount:r.usageCount,createdAt:r.createdAt,isFavorite:r.isFavorite};localStorage.setItem("selectedTemplate",JSON.stringify(A)),E("‚úÖ Prompt sent to AI Generator! Switch to AI Generator to use it.","success");const h=s.map(C=>C.id===r.id?{...C,usageCount:C.usageCount+1}:C);a(h)}catch{E("Failed to send prompt to AI Generator","error")}},N=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"library-controls-redesigned",children:[e.jsxs("div",{className:"search-container",children:[e.jsx(kt,{className:"search-icon"}),e.jsx("input",{type:"text",placeholder:"Search your prompts...",className:"search-input-redesigned",value:t,onChange:r=>n(r.target.value)})]}),e.jsxs("div",{className:"filter-controls",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Category:"}),e.jsxs("select",{value:l,onChange:r=>o(r.target.value),className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"business",children:"Business"}),e.jsx("option",{value:"creative",children:"Creative"}),e.jsx("option",{value:"technical",children:"Technical"}),e.jsx("option",{value:"educational",children:"Educational"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Difficulty:"}),e.jsxs("select",{value:f,onChange:r=>y(r.target.value),className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"}),e.jsx("option",{value:"expert",children:"Expert"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sort by:"}),e.jsxs("select",{value:v,onChange:r=>c(r.target.value),className:"filter-select",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"alphabetical",children:"Alphabetical"}),e.jsx("option",{value:"usage",children:"Most Used"}),e.jsx("option",{value:"rating",children:"Highest Rated"}),e.jsx("option",{value:"difficulty",children:"Difficulty Level"})]})]})]}),e.jsxs("button",{className:"btn-primary-redesigned",onClick:()=>w(!0),children:[e.jsx(os,{className:"btn-icon"}),"Add New Prompt"]})]}),e.jsx("div",{className:"prompts-grid-redesigned",children:i.length>0?i.map(r=>e.jsxs("div",{className:"prompt-card-redesigned",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:r.title}),r.isFavorite&&e.jsx("span",{className:"favorite-badge",children:"‚≠ê"})]}),e.jsx("p",{className:"card-description",children:r.description||"No description available"}),e.jsxs("div",{className:"card-meta",children:[e.jsxs("span",{className:"meta-item",children:[e.jsx("span",{className:"meta-label",children:"Category:"}),e.jsx("span",{className:"meta-value",children:r.category})]}),e.jsxs("span",{className:"meta-item",children:[e.jsx("span",{className:"meta-label",children:"Difficulty:"}),e.jsx("span",{className:"meta-value",children:r.difficulty})]}),r.complexity&&e.jsxs("span",{className:"meta-item",children:[e.jsx("span",{className:"meta-label",children:"Complexity:"}),e.jsx("span",{className:"meta-value",children:r.complexity})]}),r.timeRequired&&e.jsxs("span",{className:"meta-item",children:[e.jsx("span",{className:"meta-label",children:"Time:"}),e.jsx("span",{className:"meta-value",children:r.timeRequired})]}),r.author&&e.jsxs("span",{className:"meta-item",children:[e.jsx("span",{className:"meta-label",children:"Author:"}),e.jsx("span",{className:"meta-value",children:r.author})]})]}),e.jsxs("div",{className:"card-tags",children:[r.tags.slice(0,3).map((A,h)=>e.jsxs("span",{className:"tag",children:[e.jsx(wt,{className:"tag-icon"}),A]},h)),r.tags.length>3&&e.jsxs("span",{className:"tag-more",children:["+",r.tags.length-3]})]}),e.jsxs("div",{className:"card-footer",children:[e.jsxs("span",{className:"usage-count",children:["Used ",r.usageCount," times"]}),e.jsxs("div",{className:"prompt-card-actions",children:[e.jsx("button",{className:"action-btn-redesigned",onClick:()=>S(r),title:"Copy to clipboard",children:e.jsx(ht,{})}),e.jsx("button",{className:"action-btn-redesigned",onClick:()=>O(r),title:"Edit prompt",children:e.jsx(Ns,{})}),e.jsx("button",{className:"action-btn-redesigned send-to-generator",onClick:()=>b(r),title:"Send to AI Generator",children:"üöÄ"}),e.jsx("button",{className:"action-btn-redesigned delete",onClick:()=>F(r.id),title:"Delete prompt",children:e.jsx(Ss,{})})]})]})]},r.id)):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"üìù"}),e.jsx("h3",{children:"No prompts found"}),e.jsx("p",{children:"Start by creating your first prompt or adjust your search."}),e.jsxs("button",{className:"btn-primary-redesigned",onClick:()=>w(!0),children:[e.jsx(os,{className:"btn-icon"}),"Create First Prompt"]})]})})]});return e.jsxs("div",{className:"prompt-library-redesigned",children:[e.jsxs("div",{className:"page-header-redesigned",children:[e.jsx("h2",{children:"My Prompts"}),e.jsx("p",{children:"Your personal collection of powerful and reusable prompts."})]}),N(),d&&e.jsx("div",{className:"modal-overlay",onClick:g,children:e.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:p?"Edit Prompt":"Add New Prompt"}),e.jsx("button",{className:"modal-close",onClick:g,children:e.jsx(Le,{})})]}),e.jsxs("form",{onSubmit:D,className:"modal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"title",children:"Title *"}),e.jsx("input",{id:"title",type:"text",placeholder:"Enter prompt title...",value:x.title,onChange:r=>u({...x,title:r.target.value}),className:"form-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("input",{id:"description",type:"text",placeholder:"Brief description of the prompt...",value:x.description,onChange:r=>u({...x,description:r.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"content",children:"Content *"}),e.jsx("textarea",{id:"content",placeholder:"Enter your prompt content here...",value:x.content,onChange:r=>u({...x,content:r.target.value}),className:"form-textarea",rows:6,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"tags",children:"Tags"}),e.jsx("input",{id:"tags",type:"text",placeholder:"Enter tags separated by commas...",value:x.tags,onChange:r=>u({...x,tags:r.target.value}),className:"form-input"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"category",children:"Category"}),e.jsxs("select",{id:"category",value:x.category,onChange:r=>u({...x,category:r.target.value}),className:"form-select",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"business",children:"Business"}),e.jsx("option",{value:"creative",children:"Creative"}),e.jsx("option",{value:"technical",children:"Technical"}),e.jsx("option",{value:"educational",children:"Educational"}),e.jsx("option",{value:"developer",children:"Software Developer"}),e.jsx("option",{value:"marketer",children:"Digital Marketer"}),e.jsx("option",{value:"healthcare",children:"Healthcare Professional"}),e.jsx("option",{value:"legal",children:"Legal Professional"}),e.jsx("option",{value:"finance",children:"Financial Advisor"}),e.jsx("option",{value:"sales",children:"Sales Professional"}),e.jsx("option",{value:"hr",children:"HR Professional"}),e.jsx("option",{value:"content",children:"Content Creator"}),e.jsx("option",{value:"seo",children:"SEO Specialist"}),e.jsx("option",{value:"designer",children:"Graphic/UI/UX Designer"}),e.jsx("option",{value:"analyst",children:"Data Analyst"}),e.jsx("option",{value:"researcher",children:"Research Specialist"}),e.jsx("option",{value:"teacher",children:"Teacher/Educator"}),e.jsx("option",{value:"writer",children:"Writer/Copywriter"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"difficulty",children:"Difficulty"}),e.jsxs("select",{id:"difficulty",value:x.difficulty,onChange:r=>u({...x,difficulty:r.target.value}),className:"form-select",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"}),e.jsx("option",{value:"expert",children:"Expert"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"complexity",children:"Complexity"}),e.jsxs("select",{id:"complexity",value:x.complexity,onChange:r=>u({...x,complexity:r.target.value}),className:"form-select",children:[e.jsx("option",{value:"simple",children:"Simple"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"complex",children:"Complex"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"timeRequired",children:"Time Required"}),e.jsxs("select",{id:"timeRequired",value:x.timeRequired,onChange:r=>u({...x,timeRequired:r.target.value}),className:"form-select",children:[e.jsx("option",{value:"quick",children:"Quick (5-15 min)"}),e.jsx("option",{value:"medium",children:"Medium (15-30 min)"}),e.jsx("option",{value:"long",children:"Long (30-60 min)"}),e.jsx("option",{value:"extensive",children:"Extensive (1+ hours)"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"author",children:"Author (Optional)"}),e.jsx("input",{id:"author",type:"text",placeholder:"Your name or organization...",value:x.author,onChange:r=>u({...x,author:r.target.value}),className:"form-input"})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:x.isFavorite,onChange:r=>u({...x,isFavorite:r.target.checked}),className:"form-checkbox"}),e.jsx("span",{className:"checkbox-text",children:"Mark as favorite"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:g,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn-primary",children:[e.jsx(ws,{className:"btn-icon"}),p?"Update Prompt":"Save Prompt"]}),!p&&x.title.trim()&&x.content.trim()&&e.jsx("button",{type:"button",className:"btn-send-to-generator",onClick:()=>{const r={title:x.title,domain:x.category,difficulty:x.difficulty,description:x.description||`Personal prompt: ${x.title}`,prompt:x.content,source:"prompt-library-form",tags:x.tags.split(",").map(A=>A.trim()).filter(A=>A),author:x.author||"You",complexity:x.complexity,timeRequired:x.timeRequired};localStorage.setItem("selectedTemplate",JSON.stringify(r)),E("‚úÖ Prompt sent to AI Generator! Switch to AI Generator to use it.","success")},children:"üöÄ Send to AI Generator"})]})]})]})})]})},Qa=({onClose:s})=>{const{availableModels:a,currentModel:t,setCurrentModel:n,modelConfigs:i,updateModelConfig:l,setApiKey:o,getApiKey:f,validateApiKey:y}=Ve(),[v,c]=m.useState("models"),[d,w]=m.useState(null),[p,j]=m.useState(""),[x,u]=m.useState({}),[T,E]=m.useState({});m.useEffect(()=>{if(d){const S=i[d]||{};j(S.apiKey||""),u(S)}},[d,i]);const M=S=>{n(S)},U=S=>{w(S),E(b=>({...b,[S]:null}))},D=async S=>{const b=a.find(N=>N.id===S);if(!b){H.addToast({type:"error",title:"‚ùå Model Not Found",message:"Selected model not found",duration:5e3});return}if(!p.trim()){H.addToast({type:"warning",title:`‚ö†Ô∏è ${b.provider} API Key Required`,message:`Please enter your ${b.provider} API key for ${b.name}`,duration:5e3});return}if(p.includes("your-api-key")||p.includes("sk-your-api-key-here")||p.includes("placeholder")){H.addToast({type:"error",title:`‚ùå Placeholder ${b.provider} API Key`,message:`Please replace the placeholder with your actual ${b.provider} API key`,duration:5e3});return}E(N=>({...N,[S]:"validating"}));try{const N=await y(S,p);E(r=>({...r,[S]:N?"valid":"invalid"})),N?(o(S,p),l(S,x),w(null),j(""),u({}),H.addToast({type:"success",title:`‚úÖ API Key Saved - ${b.provider}`,message:"API key has been saved successfully",duration:3e3})):H.addToast({type:"error",title:`‚ùå Invalid API Key - ${b.provider}`,message:"Please check your API key and try again",duration:5e3})}catch{E(r=>({...r,[S]:"invalid"})),H.addToast({type:"error",title:`‚ùå Validation Error - ${b.provider}`,message:"Error validating API key. Please try again.",duration:5e3})}},g=()=>{w(null),j(""),u({}),E({})},O=S=>{const b=t===S.id,N=d===S.id,r=!!f(S.id),A=T[S.id];return e.jsxs("div",{className:`model-card ${b?"active":""} ${r?"configured":""}`,children:[e.jsxs("div",{className:"model-header",children:[e.jsx("div",{className:"model-icon",children:S.icon}),e.jsxs("div",{className:"model-info",children:[e.jsx("h3",{children:S.name}),e.jsx("div",{className:"model-provider",children:S.provider}),e.jsx("div",{className:"model-description",children:S.description})]}),e.jsxs("div",{className:"model-status",children:[r&&e.jsx("span",{className:"status-badge configured",children:"‚úÖ Configured"}),b&&e.jsx("span",{className:"status-badge active",children:"üéØ Active"})]})]}),e.jsxs("div",{className:"model-specs",children:[e.jsxs("div",{className:"spec-item",children:[e.jsx("span",{children:"Max Tokens:"}),e.jsx("span",{children:S.maxTokens.toLocaleString()})]}),e.jsxs("div",{className:"spec-item",children:[e.jsx("span",{children:"Streaming:"}),e.jsx("span",{children:S.supportsStreaming?"‚úÖ":"‚ùå"})]}),e.jsxs("div",{className:"spec-item",children:[e.jsx("span",{children:"Pricing (1K tokens):"}),e.jsxs("span",{children:["$",S.pricing.input,"/$",S.pricing.output]})]})]}),N?e.jsxs("div",{className:"model-config-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"API Key:"}),e.jsxs("div",{className:"api-key-input",children:[e.jsx("input",{type:"password",value:p,onChange:h=>j(h.target.value),placeholder:`Enter your ${S.provider} API key`,className:A==="invalid"?"invalid":A==="valid"?"valid":""}),A==="validating"&&e.jsx("div",{className:"spinner",children:"‚è≥"}),A==="valid"&&e.jsx("div",{className:"validation-icon valid",children:"‚úÖ"}),A==="invalid"&&e.jsx("div",{className:"validation-icon invalid",children:"‚ùå"})]}),A==="invalid"&&e.jsx("div",{className:"error-message",children:"Invalid API key format"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Custom Endpoint (Optional):"}),e.jsx("input",{type:"url",value:x.endpoint||S.defaultEndpoint,onChange:h=>u(C=>({...C,endpoint:h.target.value})),placeholder:S.defaultEndpoint})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max Tokens:"}),e.jsx("input",{type:"number",value:x.maxTokens||4096,onChange:h=>u(C=>({...C,maxTokens:parseInt(h.target.value)})),min:"1",max:S.maxTokens})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Temperature:"}),e.jsx("input",{type:"number",value:x.temperature||.7,onChange:h=>u(C=>({...C,temperature:parseFloat(h.target.value)})),min:"0",max:"2",step:"0.1"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"save-btn",onClick:()=>D(S.id),disabled:A==="validating",children:"üíæ Save Config"}),e.jsx("button",{className:"cancel-btn",onClick:g,children:"‚ùå Cancel"})]})]}):e.jsxs("div",{className:"model-actions",children:[e.jsx("button",{className:`select-btn ${b?"active":""}`,onClick:()=>M(S.id),disabled:!r&&S.provider!=="Ollama",children:b?"üéØ Selected":"üîÑ Select"}),e.jsx("button",{className:"configure-btn",onClick:()=>U(S.id),children:"‚öôÔ∏è Configure"})]})]},S.id)},F=a.filter(S=>!!f(S.id)||S.provider==="Ollama");return e.jsx("div",{className:"api-key-manager-overlay",children:e.jsxs("div",{className:"api-key-manager",children:[e.jsxs("div",{className:"manager-header",children:[e.jsx("h2",{children:"üîë AI Model Manager"}),e.jsx("button",{className:"close-btn",onClick:s,children:"‚úï"})]}),e.jsxs("div",{className:"manager-tabs",children:[e.jsxs("button",{className:`tab-btn ${v==="models"?"active":""}`,onClick:()=>c("models"),children:["ü§ñ Models (",a.length,")"]}),e.jsxs("button",{className:`tab-btn ${v==="settings"?"active":""}`,onClick:()=>c("settings"),children:["‚öôÔ∏è Settings (",F.length," enabled)"]})]}),e.jsxs("div",{className:"manager-content",children:[v==="models"&&e.jsxs("div",{className:"models-tab",children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("h3",{children:"Available AI Models"}),e.jsx("p",{children:"Configure API keys for different AI providers to enhance your prompting experience."})]}),e.jsx("div",{className:"models-grid",children:a.map(O)})]}),v==="settings"&&e.jsxs("div",{className:"settings-tab",children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("h3",{children:"Current Settings"}),e.jsx("p",{children:"Overview of your configured models and current selection."})]}),e.jsxs("div",{className:"current-model-display",children:[e.jsx("h4",{children:"üéØ Active Model"}),(()=>{const S=a.find(b=>b.id===t);return S?e.jsxs("div",{className:"active-model-card",children:[e.jsxs("div",{className:"model-info",children:[e.jsx("span",{className:"model-icon",children:S.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"model-name",children:S.name}),e.jsx("div",{className:"model-provider",children:S.provider})]})]}),e.jsx("div",{className:"model-status",children:f(t)?"‚úÖ Ready":"‚ö†Ô∏è No API Key"})]}):e.jsx("div",{children:"No model selected"})})()]}),e.jsxs("div",{className:"enabled-models-list",children:[e.jsxs("h4",{children:["üìù Configured Models (",F.length,")"]}),F.length>0?e.jsx("div",{className:"models-summary",children:F.map(S=>e.jsxs("div",{className:"model-summary-item",children:[e.jsx("span",{className:"model-icon",children:S.icon}),e.jsx("span",{className:"model-name",children:S.name}),e.jsxs("span",{className:"model-provider",children:["(",S.provider,")"]}),S.id===t&&e.jsx("span",{className:"active-indicator",children:"üéØ"})]},S.id))}):e.jsx("div",{className:"no-models-message",children:e.jsx("p",{children:"No models configured yet. Switch to the Models tab to set up API keys."})})]})]})]})]})})},Xa=()=>{const{currentLanguage:s,availableLanguages:a}=Je(),[t,n]=m.useState("tokens"),[i,l]=m.useState(!1),o=[{id:"tokens",label:"Token Usage",icon:"üéØ"},{id:"apikeys",label:"API Keys",icon:"üîë"},{id:"language",label:"Language",icon:"üåê"},{id:"about",label:"About",icon:"‚ÑπÔ∏è"}];return e.jsxs("div",{className:"settings-page-redesigned",children:[e.jsx("div",{className:"settings-sidebar-redesigned",children:e.jsx("nav",{className:"settings-nav-redesigned",children:o.map(f=>e.jsxs("button",{className:`nav-item-redesigned ${t===f.id?"active":""}`,onClick:()=>n(f.id),children:[e.jsx("span",{className:"nav-icon",children:f.icon}),e.jsx("span",{className:"nav-label",children:f.label})]},f.id))})}),e.jsxs("div",{className:"settings-content-redesigned",children:[t==="tokens"&&e.jsxs("div",{className:"settings-section-redesigned",children:[e.jsx("h2",{children:"Token Usage Management"}),e.jsx("p",{children:"Monitor your token usage and manage your monthly free API allocation."}),e.jsxs("div",{className:"token-sections",children:[e.jsx("div",{className:"token-balance-section",children:e.jsx("p",{children:"Token details and history will be displayed here."})}),e.jsx("div",{className:"token-management-section",children:e.jsx("p",{children:"Free API management options will be available here."})})]})]}),t==="apikeys"&&e.jsxs("div",{className:"settings-section-redesigned",children:[e.jsx("h2",{children:"API Keys Management"}),e.jsx("p",{children:"Manage your API keys for different services."}),e.jsx("button",{className:"btn-primary-redesigned",onClick:()=>l(!0),children:"Manage API Keys"})]}),t==="language"&&e.jsxs("div",{className:"settings-section-redesigned",children:[e.jsx("h2",{children:"Language Settings"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current Language:"})," ",s]}),e.jsxs("p",{children:["Available languages: ",a.map(f=>f.name).join(", ")]})]}),t==="about"&&e.jsxs("div",{className:"settings-section-redesigned",children:[e.jsx("h2",{children:"About Prompter Fresh"}),e.jsx("p",{children:"Version: 2.0.0"}),e.jsx("p",{children:"A powerful tool for prompt engineering."})]})]}),i&&e.jsx(Qa,{onClose:()=>l(!1)})]})};let Pe=null;const Qe=async()=>{if(Pe)return Pe;try{const s=await te(()=>import("./business-0gFZiRhM.js"),[]).catch(()=>({businessTemplates:null})),a=await te(()=>import("./technology-D10LKqXr.js"),[]).catch(()=>({technologyTemplates:null})),t=await te(()=>import("./marketing-WFQu6EAb.js"),[]).catch(()=>({marketingTemplates:null})),n=await te(()=>import("./finance-mfuJJSkG.js"),[]).catch(()=>({financeTemplates:null})),i=await te(()=>import("./legal-BMbFZT6p.js"),[]).catch(()=>({legalTemplates:null})),l=await te(()=>import("./healthcare-DK0crdNH.js"),[]).catch(()=>({healthcareTemplates:null})),o=await te(()=>import("./education-DZdC2ii-.js"),[]).catch(()=>({educationTemplates:null})),f=await te(()=>import("./engineering-edss7SbS.js"),[]).catch(()=>({engineeringTemplates:null})),y=await te(()=>import("./science-BFyqGHpK.js"),[]).catch(()=>({scienceTemplates:null})),v=await te(()=>import("./creative-BKsZD0fF.js"),[]).catch(()=>({creativeTemplates:null}));return Pe=[s.businessTemplates,a.technologyTemplates,t.marketingTemplates,n.financeTemplates,i.legalTemplates,l.healthcareTemplates,o.educationTemplates,f.engineeringTemplates,y.scienceTemplates,v.creativeTemplates].filter(Boolean),Pe}catch{return[]}},ge=[],Za=async()=>{ge.length===0&&ge.push(...await Qe())},Ae={business:{name:"Business & Strategy",color:"#3B82F6",icon:"üíº",description:"Business planning, strategy, operations"},technology:{name:"Technology & Development",color:"#10B981",icon:"üíª",description:"Programming, AI, software development"},marketing:{name:"Marketing & Sales",color:"#F59E0B",icon:"üìà",description:"Digital marketing, sales, branding"},finance:{name:"Finance & Investment",color:"#059669",icon:"üí∞",description:"Financial analysis, investment, accounting"},legal:{name:"Legal & Compliance",color:"#7C3AED",icon:"‚öñÔ∏è",description:"Legal documents, compliance, contracts"},healthcare:{name:"Healthcare & Medical",color:"#DC2626",icon:"üè•",description:"Medical research, healthcare, wellness"},education:{name:"Education & Training",color:"#2563EB",icon:"üéì",description:"Learning, curriculum, teaching"},engineering:{name:"Engineering & Technical",color:"#9333EA",icon:"‚öôÔ∏è",description:"Engineering design, technical documentation"},science:{name:"Science & Research",color:"#0891B2",icon:"üî¨",description:"Scientific research, analysis, documentation"},creative:{name:"Creative & Content",color:"#EC4899",icon:"üé®",description:"Creative writing, content creation, design"}},en=async()=>(await Za(),ge.flatMap(s=>s.subcategories.flatMap(a=>a.templates))),Xe=s=>{const a=localStorage.getItem(`template-ratings-${s}`);return a?JSON.parse(a):[]},sn=s=>{const t=[...Xe(s.templateId),s];localStorage.setItem(`template-ratings-${s.templateId}`,JSON.stringify(t)),tn(s.templateId)},tn=s=>{const a=Xe(s);if(a.length===0)return;const t=a.reduce((i,l)=>i+l.rating,0)/a.length,n=Ze();n[s]={rating:Math.round(t*10)/10,count:a.length},localStorage.setItem("template-average-ratings",JSON.stringify(n))},Ze=()=>{const s=localStorage.getItem("template-average-ratings");return s?JSON.parse(s):{}},es=()=>{const s=localStorage.getItem("template-history");return s?JSON.parse(s):[]},Te=s=>{const a=es(),n=[s,...a.filter(i=>!(i.templateId===s.templateId&&i.action===s.action))].slice(0,50);localStorage.setItem("template-history",JSON.stringify(n))},Se=()=>{const s=localStorage.getItem("custom-templates");return s?JSON.parse(s):[]},an=s=>{const a=Se(),t={...s,id:Me(),isCustom:!0,createdAt:new Date().toISOString()},n=[...a,t];return localStorage.setItem("custom-templates",JSON.stringify(n)),t},nn=(s,a,t)=>{const n=on(),i={id:Me(),templateId:s,shareCode:n,createdAt:new Date().toISOString(),accessCount:0,maxAccess:a};{const o=new Date;o.setHours(o.getHours()+t),i.expiresAt=o.toISOString()}const l=rn();return l.push(i),localStorage.setItem("shared-templates",JSON.stringify(l)),i},rn=()=>{const s=localStorage.getItem("shared-templates");return s?JSON.parse(s):[]},Me=()=>"template_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),on=()=>Math.random().toString(36).substr(2,8).toUpperCase(),ln=async()=>{const s=await en(),a=Se(),t=Ze();return[...s,...a].map(i=>({...i,rating:t[i.id]?.rating,ratingCount:t[i.id]?.count}))},ss=()=>ge.length===0?(Qe().then(s=>{ge.push(...s)}),[]):ge.flatMap(s=>s.subcategories.flatMap(a=>a.templates)),cn=s=>{const a=ss(),t=Se();return[...a,...t].find(i=>i.id===s)},dn=(s=10)=>{const t=es().filter(o=>o.action==="use"||o.action==="copy").slice(0,s).map(o=>o.templateId),n=ss(),i=Se(),l=[...n,...i];return t.map(o=>l.find(f=>f.id===o)).filter(Boolean)},un=()=>{const s=ss(),a=Se(),t=Ze();return[...s,...a].map(i=>({...i,rating:t[i.id]?.rating,ratingCount:t[i.id]?.count}))};Qe().then(s=>{ge.push(...s)}).catch(s=>{});const mn=({onClose:s,onTemplateCreated:a})=>{const[t,n]=m.useState({title:"",description:"",content:"",category:"Custom",difficulty:"beginner",domain:"business",tags:"",useCase:"",estimatedOutputLength:"",skillLevel:{technical:"low",complexity:"simple",timeRequired:"quick"}}),[i,l]=m.useState({}),[o,f]=m.useState(!1),y=()=>{const d={};return t.title.trim()?t.title.length<5?d.title="Title must be at least 5 characters":t.title.length>100&&(d.title="Title must be less than 100 characters"):d.title="Title is required",t.description.trim()?t.description.length<20?d.description="Description must be at least 20 characters":t.description.length>500&&(d.description="Description must be less than 500 characters"):d.description="Description is required",t.content.trim()?t.content.length<50?d.content="Template content must be at least 50 characters":t.content.length>5e3&&(d.content="Template content must be less than 5000 characters"):d.content="Template content is required",t.useCase.trim()?t.useCase.length<10&&(d.useCase="Use case must be at least 10 characters"):d.useCase="Use case is required",l(d),Object.keys(d).length===0},v=d=>{if(d.preventDefault(),!y())return;const w={...t,tags:t.tags.split(",").map(j=>j.trim()).filter(Boolean),isCustom:!0,createdAt:new Date().toISOString(),createdBy:"User"},p=an(w);a(p),s()},c=(d,w)=>{if(d.includes(".")){const[p,j]=d.split(".");n(x=>({...x,[p]:{...x[p],[j]:w}}))}else n(p=>({...p,[d]:w}));i[d]&&l(p=>({...p,[d]:""}))};return e.jsxs("div",{className:"custom-template-modal",children:[e.jsx("div",{className:"modal-backdrop",onClick:s}),e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:o?"üëÅÔ∏è Preview Template":"üõ†Ô∏è Create Custom Template"}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{type:"button",className:"preview-btn",onClick:()=>f(!o),disabled:!t.title||!t.content,children:o?"‚úèÔ∏è Edit":"üëÅÔ∏è Preview"}),e.jsx("button",{className:"close-btn",onClick:s,children:"‚úï"})]})]}),o?e.jsxs("div",{className:"template-preview",children:[e.jsxs("div",{className:"preview-section",children:[e.jsxs("h4",{children:["üìã ",t.title]}),e.jsx("p",{className:"preview-description",children:t.description}),e.jsxs("div",{className:"preview-meta",children:[e.jsxs("span",{className:"preview-domain",children:[Ae[t.domain]?.icon," ",Ae[t.domain]?.name]}),e.jsxs("span",{className:"preview-difficulty",children:[t.difficulty==="beginner"&&"üü¢",t.difficulty==="intermediate"&&"üü°",t.difficulty==="advanced"&&"üî¥",t.difficulty==="expert"&&"üü£",t.difficulty]})]}),e.jsxs("div",{className:"preview-content",children:[e.jsx("h5",{children:"Template Content:"}),e.jsx("div",{className:"content-box",children:t.content})]}),t.useCase&&e.jsxs("div",{className:"preview-usecase",children:[e.jsx("h5",{children:"Use Case:"}),e.jsx("p",{children:t.useCase})]}),t.tags&&e.jsxs("div",{className:"preview-tags",children:[e.jsx("h5",{children:"Tags:"}),e.jsx("div",{className:"tags-list",children:t.tags.split(",").map((d,w)=>e.jsx("span",{className:"tag",children:d.trim()},w))})]})]}),e.jsxs("div",{className:"preview-actions",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"cancel-btn",children:"‚Üê Back to Edit"}),e.jsx("button",{type:"button",onClick:v,className:"create-btn",children:"üöÄ Create Template"})]})]}):e.jsxs("form",{onSubmit:v,className:"template-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Template Title * ",e.jsxs("span",{className:"char-count",children:["(",t.title.length,"/100)"]})]}),e.jsx("input",{type:"text",value:t.title,onChange:d=>c("title",d.target.value),placeholder:"Enter a descriptive title",className:i.title?"error":"",maxLength:100}),i.title&&e.jsx("span",{className:"error-text",children:i.title})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Domain *"}),e.jsx("select",{value:t.domain,onChange:d=>c("domain",d.target.value),children:Object.entries(Ae).map(([d,w])=>e.jsxs("option",{value:d,children:[w.icon," ",w.name]},d))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Difficulty Level *"}),e.jsxs("select",{value:t.difficulty,onChange:d=>c("difficulty",d.target.value),children:[e.jsx("option",{value:"beginner",children:"üü¢ Beginner"}),e.jsx("option",{value:"intermediate",children:"üü° Intermediate"}),e.jsx("option",{value:"advanced",children:"üî¥ Advanced"}),e.jsx("option",{value:"expert",children:"üü£ Expert"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsxs("label",{children:["Description * ",e.jsxs("span",{className:"char-count",children:["(",t.description.length,"/500)"]})]}),e.jsx("textarea",{value:t.description,onChange:d=>c("description",d.target.value),placeholder:"Briefly describe what this template does",rows:3,className:i.description?"error":"",maxLength:500}),i.description&&e.jsx("span",{className:"error-text",children:i.description})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Use Case *"}),e.jsx("input",{type:"text",value:t.useCase,onChange:d=>c("useCase",d.target.value),placeholder:"When would someone use this template?",className:i.useCase?"error":""}),i.useCase&&e.jsx("span",{className:"error-text",children:i.useCase})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsxs("label",{children:["Template Content * ",e.jsxs("span",{className:"char-count",children:["(",t.content.length,"/5000)"]})]}),e.jsx("textarea",{value:t.content,onChange:d=>c("content",d.target.value),placeholder:"Enter your prompt template here. Use [PLACEHOLDER] for variables that users should replace.",rows:8,className:i.content?"error":"",maxLength:5e3}),i.content&&e.jsx("span",{className:"error-text",children:i.content}),e.jsxs("div",{className:"content-help",children:["üí° Tip: Use [PLACEHOLDER] or ","{VARIABLE}"," for parts users should customize"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",value:t.tags,onChange:d=>c("tags",d.target.value),placeholder:"ai, business, strategy"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expected Output Length"}),e.jsx("input",{type:"text",value:t.estimatedOutputLength,onChange:d=>c("estimatedOutputLength",d.target.value),placeholder:"e.g., 200-500 words"})]}),e.jsxs("div",{className:"skill-levels",children:[e.jsx("h4",{children:"Skill Requirements"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Technical Level"}),e.jsxs("select",{value:t.skillLevel.technical,onChange:d=>c("skillLevel.technical",d.target.value),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"expert",children:"Expert"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Complexity"}),e.jsxs("select",{value:t.skillLevel.complexity,onChange:d=>c("skillLevel.complexity",d.target.value),children:[e.jsx("option",{value:"simple",children:"Simple"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"complex",children:"Complex"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Time Required"}),e.jsxs("select",{value:t.skillLevel.timeRequired,onChange:d=>c("skillLevel.timeRequired",d.target.value),children:[e.jsx("option",{value:"quick",children:"Quick (5-15 min)"}),e.jsx("option",{value:"medium",children:"Medium (15-30 min)"}),e.jsx("option",{value:"long",children:"Long (30-60 min)"}),e.jsx("option",{value:"extensive",children:"Extensive (1+ hour)"})]})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:s,className:"cancel-btn",children:"Cancel"}),e.jsx("button",{type:"submit",className:"create-btn",children:"üöÄ Create Template"})]})]})]})]})},pn=({size:s="medium",message:a="Loading..."})=>e.jsxs("div",{className:`loading-spinner ${s}`,children:[e.jsx("div",{className:"spinner"}),a&&e.jsx("p",{className:"loading-message",children:a})]}),hn=({onTemplateSelect:s,onClose:a})=>{const[t,n]=m.useState([]),[i,l]=m.useState([]),[o,f]=m.useState("all");m.useEffect(()=>{y()},[]);const y=()=>{const u=es(),T=dn(10);n(u),l(T)},v=t.filter(u=>o==="all"||u.action===o),c=u=>({view:"üëÅÔ∏è",copy:"üìÑ",use:"üìã",save:"üîñ",unsave:"üóëÔ∏è"})[u]||"üìù",d=u=>({view:"Viewed",copy:"Copied",use:"Used",save:"Saved",unsave:"Unsaved"})[u]||u,w=u=>({view:"#6b7280",copy:"#3b82f6",use:"#10b981",save:"#f59e0b",unsave:"#ef4444"})[u]||"#6b7280",p=u=>{const T=new Date(u),M=Math.floor((new Date().getTime()-T.getTime())/1e3);return M<60?"Just now":M<3600?`${Math.floor(M/60)}m ago`:M<86400?`${Math.floor(M/3600)}h ago`:M<604800?`${Math.floor(M/86400)}d ago`:T.toLocaleDateString()},j=u=>cn(u),x=()=>{confirm("Are you sure you want to clear your template history?")&&(localStorage.removeItem("template-history"),n([]),l([]))};return e.jsxs("div",{className:"template-history",children:[e.jsxs("div",{className:"history-header",children:[e.jsx("h3",{children:"üìö Template History"}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"clear-history-btn",onClick:x,children:"üóëÔ∏è Clear History"}),a&&e.jsx("button",{className:"close-btn",onClick:a,children:"‚úï"})]})]}),i.length>0&&e.jsxs("div",{className:"recent-templates-section",children:[e.jsx("h4",{children:"üî• Recently Used Templates"}),e.jsx("div",{className:"recent-templates-grid",children:i.map((u,T)=>e.jsxs("div",{className:"recent-template-card",onClick:()=>s&&s(u),children:[e.jsxs("div",{className:"recent-template-header",children:[e.jsx("span",{className:"template-domain-badge",style:{backgroundColor:`var(--domain-${u.domain})`},children:u.domain}),e.jsx("span",{className:"template-difficulty",children:u.difficulty})]}),e.jsx("h5",{className:"recent-template-title",children:u.title}),e.jsxs("p",{className:"recent-template-description",children:[u.description.substring(0,80),"..."]})]},`recent-${u.id}-${T}`))})]}),e.jsxs("div",{className:"history-filters",children:[e.jsx("h4",{children:"üìã Activity History"}),e.jsx("div",{className:"filter-buttons",children:["all","view","copy","use","save"].map(u=>e.jsxs("button",{className:`filter-btn ${o===u?"active":""}`,onClick:()=>f(u),children:[c(u)," ",u==="all"?"All":d(u)]},u))})]}),e.jsx("div",{className:"history-timeline",children:v.length===0?e.jsxs("div",{className:"empty-history",children:[e.jsxs("p",{children:["No ",o==="all"?"":o," history found."]}),e.jsx("p",{className:"empty-subtitle",children:"Start using templates to see your activity here!"})]}):e.jsx("div",{className:"history-list",children:v.map((u,T)=>{const E=j(u.templateId);return E?e.jsxs("div",{className:"history-item",onClick:()=>s&&s(E),children:[e.jsx("div",{className:"history-icon",style:{color:w(u.action)},children:c(u.action)}),e.jsxs("div",{className:"history-content",children:[e.jsxs("div",{className:"history-main",children:[e.jsx("span",{className:"history-action",style:{color:w(u.action)},children:d(u.action)}),e.jsx("strong",{className:"template-name",children:E.title})]}),e.jsxs("div",{className:"history-meta",children:[e.jsx("span",{className:"template-category",children:E.domain}),e.jsx("span",{className:"history-time",children:p(u.usedAt)})]}),E.description&&e.jsxs("p",{className:"template-preview",children:[E.description.substring(0,100),"..."]})]}),e.jsx("div",{className:"template-quick-info",children:e.jsx("span",{className:`difficulty-badge difficulty-${E.difficulty}`,children:E.difficulty})})]},`${u.templateId}-${u.action}-${u.usedAt}-${T}`):null})})}),t.length>0&&e.jsxs("div",{className:"history-stats",children:[e.jsx("h4",{children:"üìä Your Stats"}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-number",children:t.length}),e.jsx("span",{className:"stat-label",children:"Total Actions"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-number",children:i.length}),e.jsx("span",{className:"stat-label",children:"Templates Used"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-number",children:t.filter(u=>u.action==="copy").length}),e.jsx("span",{className:"stat-label",children:"Templates Copied"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-number",children:t.filter(u=>u.action==="save").length}),e.jsx("span",{className:"stat-label",children:"Templates Saved"})]})]})]})]})},gn=({templateId:s,currentRating:a,ratingCount:t,showForm:n=!1,onRatingAdded:i,onClose:l})=>{const[o,f]=m.useState(0),[y,v]=m.useState(0),[c,d]=m.useState(""),[w,p]=m.useState(n),[j,x]=m.useState([]),[u,T]=m.useState(!1);m.useEffect(()=>{const D=Xe(s);x(D)},[s]);const E=async()=>{if(o===0)return;T(!0);const D={templateId:s,rating:o,comment:c.trim()||void 0,createdAt:new Date().toISOString()};try{await new Promise(g=>setTimeout(g,500)),sn(D),x(g=>[...g,D]),f(0),d(""),p(!1),i&&i()}catch{}finally{T(!1)}},M=(D,g=!1,O="medium")=>{const F=`stars-${O}`;return e.jsx("div",{className:`star-rating ${F} ${g?"interactive":""}`,children:[1,2,3,4,5].map(S=>e.jsx("button",{className:`star ${S<=(g?y||o:D)?"filled":""}`,onClick:()=>g&&f(S),onMouseEnter:()=>g&&v(S),onMouseLeave:()=>g&&v(0),disabled:!g||u,children:"‚≠ê"},S))})},U=D=>D>=4.5?"Excellent":D>=3.5?"Very Good":D>=2.5?"Good":D>=1.5?"Fair":"Poor";return e.jsxs("div",{className:"template-rating-container",children:[l&&e.jsxs("div",{className:"rating-header",children:[e.jsx("h3",{children:"‚≠ê Rate Template"}),e.jsx("button",{className:"close-btn",onClick:l,children:"‚úï"})]}),a&&e.jsxs("div",{className:"current-rating",children:[M(a,!1,"small"),e.jsxs("span",{className:"rating-info",children:[e.jsx("strong",{children:a})," (",U(a),")",t&&e.jsxs("span",{className:"rating-count",children:[" ‚Ä¢ ",t," reviews"]})]})]}),!w&&e.jsx("button",{className:"add-rating-btn",onClick:()=>p(!0),children:"‚≠ê Rate this template"}),w&&e.jsxs("div",{className:"rating-form",children:[e.jsx("h4",{children:"Rate this template"}),e.jsxs("div",{className:"rating-input",children:[e.jsx("label",{children:"Your Rating:"}),M(o,!0,"large"),e.jsx("span",{className:"rating-label",children:o>0&&U(o)})]}),e.jsxs("div",{className:"comment-input",children:[e.jsx("label",{htmlFor:"rating-comment",children:"Comment (optional):"}),e.jsx("textarea",{id:"rating-comment",value:c,onChange:D=>d(D.target.value),placeholder:"Share your thoughts about this template...",rows:3,maxLength:500}),e.jsxs("span",{className:"char-count",children:[c.length,"/500"]})]}),e.jsxs("div",{className:"rating-actions",children:[e.jsx("button",{className:"cancel-rating-btn",onClick:()=>{p(!1),f(0),d("")},disabled:u,children:"Cancel"}),e.jsx("button",{className:"submit-rating-btn",onClick:E,disabled:o===0||u,children:u?"Submitting...":"Submit Rating"})]})]}),j.length>0&&e.jsxs("div",{className:"existing-ratings",children:[e.jsxs("h5",{children:["Recent Reviews (",j.length,")"]}),e.jsx("div",{className:"ratings-list",children:j.slice(-3).reverse().map((D,g)=>e.jsxs("div",{className:"rating-item",children:[e.jsxs("div",{className:"rating-header",children:[M(D.rating,!1,"small"),e.jsx("span",{className:"rating-date",children:new Date(D.createdAt).toLocaleDateString()})]}),D.comment&&e.jsx("p",{className:"rating-comment",children:D.comment})]},g))})]})]})},xn=()=>{const s=Ce(),a=ae();if(s.isPremium)return null;const t=()=>{a("/premium")};return e.jsx("div",{className:"upgrade-banner",children:e.jsxs("div",{className:"upgrade-content",children:[e.jsx("div",{className:"upgrade-icon",children:"‚≠ê"}),e.jsxs("div",{className:"upgrade-text",children:[e.jsx("div",{className:"upgrade-title",children:"Pro Plan Premium"}),e.jsx("div",{className:"upgrade-description",children:"Upgrade to unlock unlimited templates and premium features."})]}),e.jsx("button",{className:"upgrade-button",onClick:t,children:"Upgrade Now"})]})})},fn=({className:s=""})=>{const a=Ce(),t=ma();return a.isPremium?null:e.jsx("div",{className:`template-usage-counter ${s}`,children:e.jsxs("div",{className:"usage-content",children:[e.jsx("div",{className:"usage-icon",children:"üìä"}),e.jsxs("div",{className:"usage-text",children:[e.jsx("div",{className:"usage-title",children:"Free Templates"}),e.jsxs("div",{className:"usage-progress",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${(a.maxFreeUsage-t)/a.maxFreeUsage*100}%`}})}),e.jsxs("div",{className:"usage-stats",children:[e.jsx("span",{className:"used",children:a.monthlyUsage}),e.jsx("span",{className:"separator",children:"/"}),e.jsx("span",{className:"total",children:a.maxFreeUsage}),e.jsx("span",{className:"remaining",children:t>0?` (${t} left)`:" (Upgrade needed)"})]})]})]})]})})};function yn(){const[s,a]=m.useState([]),[t,n]=m.useState(""),[i,l]=m.useState("all"),[o,f]=m.useState("all"),[y,v]=m.useState(!1),[c,d]=m.useState([]),[w,p]=m.useState(!0),[j,x]=m.useState(null),{addToast:u}=ee(),T=ae();m.useEffect(()=>{(async()=>{try{p(!0);let r=[];try{r=await ln()}catch{try{r=un()}catch{r=[]}}let A=[];try{const C=localStorage.getItem("custom-templates")||"[]";A=JSON.parse(C)}catch{A=[]}const h=A.map(C=>({...C,id:`custom-${C.id||Me()}`,domain:C.category,useCase:C.description,description:C.description,tags:["custom",C.category],content:C.content,title:C.title,isCustom:!0,estimatedOutputLength:"Medium",skillLevel:{technical:"low",complexity:"simple",timeRequired:"quick"},rating:5,ratingCount:1}));a([...r,...h])}catch{a([])}finally{p(!1)}})()},[]),m.useEffect(()=>{const N=localStorage.getItem("savedTemplates");N&&d(JSON.parse(N))},[]),m.useEffect(()=>{localStorage.setItem("savedTemplates",JSON.stringify(c))},[c]);const E=m.useMemo(()=>[{key:"all",name:"All Domains",icon:"üåü"},...Object.entries(Ae).map(([N,r])=>({key:N,name:r.name,icon:r.icon}))],[]),M=m.useMemo(()=>[{key:"all",name:"All Levels"},{key:"beginner",name:"Beginner",color:"#10B981"},{key:"intermediate",name:"Intermediate",color:"#F59E0B"},{key:"advanced",name:"Advanced",color:"#EF4444"},{key:"expert",name:"Expert",color:"#8B5CF6"}],[]),U=m.useMemo(()=>s.filter(N=>{const r=t.toLowerCase(),A=N.title.toLowerCase().includes(r)||N.description.toLowerCase().includes(r)||N.tags.some(Q=>Q.toLowerCase().includes(r))||N.useCase.toLowerCase().includes(r),h=i==="all"||N.domain===i,C=o==="all"||N.difficulty===o,B=!y||c.includes(N.id);return A&&h&&C&&B}),[s,t,i,o,y,c]),D=N=>{Te({templateId:N.id,usedAt:new Date().toISOString(),action:"use"}),localStorage.setItem("selectedTemplate",JSON.stringify({content:N.content,prompt:N.content,category:N.category,difficulty:N.difficulty,title:N.title,domain:N.domain})),u(`üéØ Template "${N.title}" ready! Navigate to Enhancer to use it.`,"success"),T("/enhancer")},g=async N=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(N.content);else{const r=document.createElement("textarea");r.value=N.content,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy")}catch{throw new Error("Copy not supported")}finally{document.body.removeChild(r)}}x(N.id),Te({templateId:N.id,usedAt:new Date().toISOString(),action:"copy"}),setTimeout(()=>x(null),2e3),u("üìÑ Template copied to clipboard!","success")}catch{u("‚ùå Failed to copy template. Please try selecting and copying manually.","error")}},O=N=>{const r=c.includes(N.id),A=r?c.filter(h=>h!==N.id):[...c,N.id];d(A),Te({templateId:N.id,usedAt:new Date().toISOString(),action:r?"unsave":"save"}),u(r?"üîñ Template unsaved.":"üîñ Template saved!","info")},F=N=>{try{const r=nn(N.id,void 0,24);let A;try{A=`${window.location.origin}/templates/shared/${r.shareCode}`}catch{A=`https://your-app-domain.com/templates/shared/${r.shareCode}`}navigator.clipboard.writeText(A).then(()=>{u("üîó Share link copied! Valid for 24 hours.","success")}).catch(()=>{alert(`Share URL: ${A}

Copy this link to share your template.`),u("üîó Share link created! Check the alert for the URL.","info")}),Te({templateId:N.id,usedAt:new Date().toISOString(),action:"view"})}catch{u("‚ùå Failed to create share link. Please try again.","error")}},S=m.useMemo(()=>{const N=s.length,r=U.length,A=c.length;return{total:N,showing:r,saved:A}},[s.length,U.length,c.length]);return{searchTerm:t,setSearchTerm:n,selectedDomain:i,setSelectedDomain:l,selectedDifficulty:o,setSelectedDifficulty:f,showSavedOnly:y,setShowSavedOnly:v,savedTemplates:c,templatesLoading:w,copiedTemplateId:j,domains:E,difficulties:M,filteredTemplates:U,templateStats:S,handleUseTemplate:D,handleCopyTemplate:g,handleSaveTemplate:O,handleShareTemplate:F,handleTemplateCreated:N=>{const r=Me(),A={...N,id:`custom-${r}`,domain:N.category,useCase:N.description,tags:["custom",N.category],isCustom:!0,estimatedOutputLength:"Medium",skillLevel:{technical:"low",complexity:"simple",timeRequired:"quick"},rating:5,ratingCount:1};if(s.find(C=>C.id===A.id)){u("‚ö†Ô∏è Template with similar ID already exists. Please try again.","warning");return}a(C=>[A,...C]),u("üéâ Custom template created successfully!","success")}}}const vn=({template:s,onUse:a,onCopy:t,onSave:n,onShare:i,onRate:l,onExport:o,isSaved:f,isCopied:y})=>e.jsxs("div",{className:"template-card-redesigned",children:[e.jsxs("div",{className:"template-header",children:[e.jsxs("div",{className:"template-meta",children:[e.jsx("span",{className:"domain-badge",children:s.domain}),e.jsx("span",{className:`difficulty-badge ${s.difficulty}`,children:s.difficulty}),s.isPremium&&e.jsx("span",{className:"premium-badge",children:"‚≠ê Premium"})]}),e.jsx("div",{className:"template-rating",children:s.rating&&s.rating>0?e.jsxs("div",{className:"rating-display",children:[e.jsxs("span",{className:"stars",children:["‚≠ê".repeat(Math.floor(s.rating)),"‚òÜ".repeat(5-Math.floor(s.rating))]}),e.jsxs("span",{className:"rating-text",children:["(",s.ratingCount||0,")"]})]}):e.jsxs("div",{className:"rating-display",children:[e.jsx("span",{className:"stars",children:"‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ"}),e.jsx("span",{className:"rating-text",children:"(0)"})]})})]}),e.jsxs("div",{className:"template-content",children:[e.jsx("h3",{children:s.title}),e.jsx("p",{children:s.description}),e.jsx("div",{className:"template-tags",children:s.tags.slice(0,3).map((v,c)=>e.jsxs("span",{className:"tag",children:["#",v]},c))})]}),e.jsxs("div",{className:"template-card-actions-redesigned",children:[e.jsx("div",{className:"primary-actions",children:e.jsx("button",{className:"btn-primary-redesigned",onClick:()=>a(s),children:"Use Template"})}),e.jsxs("div",{className:"secondary-actions",children:[e.jsx("button",{className:`action-btn ${y?"copied":""}`,onClick:()=>t(s),title:"Copy to clipboard",children:y?"‚úì":"üìÑ"}),e.jsx("button",{className:`action-btn ${f?"saved":""}`,onClick:()=>n(s),title:f?"Remove from saved":"Save template",children:f?"üîñ":"‚òÜ"}),e.jsx("button",{className:"action-btn",onClick:()=>i(s),title:"Share template",children:"üîó"}),e.jsx("button",{className:"action-btn",onClick:()=>l(s.id),title:"Rate template",children:"‚≠ê"}),e.jsx("button",{className:"action-btn",onClick:()=>o(s),title:"Export template",children:"üì§"})]})]})]}),jn=()=>{const{searchTerm:s,setSearchTerm:a,selectedDomain:t,setSelectedDomain:n,selectedDifficulty:i,setSelectedDifficulty:l,showSavedOnly:o,setShowSavedOnly:f,templatesLoading:y,domains:v,difficulties:c,filteredTemplates:d,templateStats:w,handleUseTemplate:p,handleCopyTemplate:j,handleSaveTemplate:x,handleShareTemplate:u,handleTemplateCreated:T,savedTemplates:E,copiedTemplateId:M}=yn(),[U,D]=m.useState(!1),[g,O]=m.useState(!1),[F,S]=m.useState(null),{addToast:b}=ee(),N=ae(),r=Ce(),A=h=>{if(!ua()){b("You've used all free templates this month. Upgrade to continue.","warning");return}r.isPremium||da(),p(h)};return y?e.jsx("div",{className:"gallery-loading",children:e.jsxs("div",{className:"loading-content",children:[e.jsx(pn,{}),e.jsx("p",{children:"Loading templates..."})]})}):e.jsxs("div",{className:"template-gallery-redesigned",children:[e.jsx(fn,{}),e.jsx(xn,{}),e.jsxs("header",{className:"gallery-header-redesigned",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("h1",{children:"Template Gallery"}),e.jsxs("p",{children:["Explore ",w.total,"+ templates to kickstart your work."]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:`header-btn ${r.canCreateCustom?"":"locked"}`,onClick:()=>{if(!r.canCreateCustom){b("Create custom templates with Premium subscription","warning"),setTimeout(()=>{N("/premium")},1500);return}D(!0)},title:r.canCreateCustom?"Create custom template":"Premium feature",children:[r.canCreateCustom?"‚ûï":"üîí"," Create Template"]}),e.jsxs("button",{className:`header-btn ${r.canAccessHistory?"":"locked"}`,onClick:()=>{if(!r.canAccessHistory){b("View template history with Premium subscription","warning"),setTimeout(()=>{N("/premium")},1500);return}O(!0)},title:r.canAccessHistory?"View template history":"Premium feature",children:[r.canAccessHistory?"üìö":"üîí"," History"]})]})]}),e.jsxs("div",{className:"filters-container-redesigned",children:[e.jsxs("div",{className:"search-section",children:[e.jsx("input",{type:"search",placeholder:"Search templates...",value:s,onChange:h=>a(h.target.value),className:"search-input-redesigned"}),r.canAdvancedSearch&&e.jsx("button",{className:"advanced-search-btn",onClick:()=>{b("Advanced search features are available for Premium users","info")},title:"Advanced search options",children:"üîç Advanced"})]}),e.jsxs("div",{className:"filter-group-redesigned",children:[e.jsx("select",{value:t,onChange:h=>n(h.target.value),children:v.map(h=>e.jsxs("option",{value:h.key,children:[h.icon," ",h.name]},h.key))}),e.jsx("select",{value:i,onChange:h=>l(h.target.value),children:c.map(h=>e.jsx("option",{value:h.key,children:h.name},h.key))}),e.jsxs("label",{className:"saved-filter",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:h=>f(h.target.checked)}),e.jsx("span",{children:"Saved Only"})]}),!r.canAdvancedSearch&&e.jsx("button",{className:"upgrade-search-btn",onClick:()=>{b("Advanced search with Premium subscription","warning"),setTimeout(()=>{N("/premium")},1500)},title:"Upgrade for advanced search",children:"üîí Advanced Search"})]})]}),e.jsx("div",{className:"templates-grid-redesigned",children:d.length>0?d.map(h=>e.jsx(vn,{template:h,onUse:A,onCopy:j,onSave:x,onShare:u,onRate:C=>{if(!r.canRate){b("Rate templates with Premium subscription","warning"),setTimeout(()=>{N("/premium")},1500);return}S(C)},onExport:C=>{if(!r.canExport){b("Export templates with Premium subscription","warning"),setTimeout(()=>{N("/premium")},1500);return}b(`${C.title} has been exported successfully`,"success")},isSaved:E.includes(h.id),isCopied:M===h.id},h.id)):e.jsxs("div",{className:"no-results",children:[e.jsx("div",{className:"empty-icon",children:"üîç"}),e.jsx("h3",{children:"No templates found"}),e.jsx("p",{children:"Try adjusting your search or filters."}),e.jsx("button",{className:"btn-primary-redesigned",onClick:()=>{a(""),n("all"),l("all"),f(!1)},children:"Clear Filters"})]})}),U&&e.jsx(mn,{onClose:()=>D(!1),onTemplateCreated:T}),g&&e.jsx(hn,{onClose:()=>O(!1)}),F&&e.jsx(gn,{templateId:F,onClose:()=>S(null)})]})},bn=()=>{const[s,a]=m.useState("profile"),[t,n]=m.useState(!1),[i,l]=m.useState(!1),[o,f]=m.useState({firstName:"John",lastName:"Doe",email:"john.doe@example.com",phone:"+1234567890",address:"New York, USA",bio:"AI enthusiast and content creator",avatar:"",dateJoined:"2024-01-15",lastLogin:"2024-12-10T14:30:00Z"}),[y,v]=m.useState({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:!1,loginNotifications:!0,sessionTimeout:30}),[c]=m.useState({plan:"free",status:"active",startDate:"2024-01-15",endDate:"2024-02-15",autoRenewal:!0,nextBilling:"2024-02-15",amount:0}),[d]=m.useState({tokensUsed:1250,tokensLimit:2e3,requestsUsed:45,requestsLimit:100,lastResetDate:"2024-01-01",nextResetDate:"2024-02-01",averageDaily:42,peakUsageDay:"2024-01-15",favoriteModels:["GPT-4","Claude-3","Gemini"],totalSaved:156}),w=m.useRef(null),{updateProfile:p,changePassword:j}=Et(),{addToast:x}=ee();m.useEffect(()=>{u()},[]);const u=async()=>{try{l(!0),await new Promise(b=>setTimeout(b,1e3))}catch{}finally{l(!1)}},T=async()=>{try{l(!0),await p({firstName:o.firstName,lastName:o.lastName,phone:o.phone,address:o.address,bio:o.bio})&&(x("Your profile has been updated successfully","success"),n(!1))}catch(b){x(b.message||"Failed to update profile","error")}finally{l(!1)}},E=async()=>{if(y.newPassword!==y.confirmPassword){x("New passwords do not match","error");return}if(y.newPassword.length<8){x("Password must be at least 8 characters long","error");return}try{l(!0),await j(y.currentPassword,y.newPassword)&&(x("Your password has been changed successfully","success"),v(N=>({...N,currentPassword:"",newPassword:"",confirmPassword:""})))}catch(b){x(b.message||"Failed to change password","error")}finally{l(!1)}},M=b=>{const N=b.target.files?.[0];if(N){if(N.size>2*1024*1024){x("Avatar image must be smaller than 2MB","error");return}const r=new FileReader;r.onload=A=>{const h=A.target?.result;f(C=>({...C,avatar:h})),x("Your profile picture has been updated","success")},r.readAsDataURL(N)}},U=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&window.confirm('This will permanently delete all your data. Type "DELETE" to confirm.'))try{l(!0),await new Promise(r=>setTimeout(r,2e3)),x("Your account has been deleted successfully","success"),window.location.href="/"}catch(r){x(r.message||"Failed to delete account","error")}finally{l(!1)}},D=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),g=b=>new Date(b).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),O=(b,N)=>Math.min(100,b/N*100),F=b=>{switch(b){case"pro":return"#7c3aed";case"ad-free":return"#059669";default:return"#6b7280"}},S=[{id:"profile",label:"Profile",icon:ke},{id:"security",label:"Security",icon:ls},{id:"subscription",label:"Subscription",icon:De},{id:"usage",label:"Usage",icon:dt}];return e.jsxs("div",{className:"user-profile-page",children:[e.jsxs("div",{className:"profile-header",children:[e.jsxs("div",{className:"profile-avatar-section",children:[e.jsxs("div",{className:"avatar-container",children:[o.avatar?e.jsx("img",{src:o.avatar,alt:"Profile",className:"avatar-image"}):e.jsx("div",{className:"avatar-placeholder",children:e.jsx(ke,{})}),e.jsx("button",{className:"avatar-upload-btn",onClick:()=>w.current?.click(),children:e.jsx(mt,{})}),e.jsx("input",{type:"file",ref:w,onChange:M,accept:"image/*",style:{display:"none"}})]}),e.jsxs("div",{className:"profile-info",children:[e.jsxs("h1",{children:[o.firstName," ",o.lastName]}),e.jsx("p",{className:"profile-email",children:o.email}),e.jsxs("p",{className:"join-date",children:["Member since ",D(o.dateJoined)]})]})]}),e.jsxs("div",{className:"profile-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx(ve,{className:"stat-icon"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("span",{className:"stat-value",children:d.tokensUsed.toLocaleString()}),e.jsx("span",{className:"stat-label",children:"Tokens Used"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx(cs,{className:"stat-icon"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("span",{className:"stat-value",children:d.requestsUsed}),e.jsx("span",{className:"stat-label",children:"Requests Made"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx(is,{className:"stat-icon"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("span",{className:"stat-value",children:d.totalSaved}),e.jsx("span",{className:"stat-label",children:"Prompts Saved"})]})]})]})]}),e.jsxs("div",{className:"profile-content",children:[e.jsx("div",{className:"profile-tabs",children:S.map(b=>e.jsxs("button",{className:`tab-button ${s===b.id?"active":""}`,onClick:()=>a(b.id),children:[e.jsx(b.icon,{}),e.jsx("span",{children:b.label})]},b.id))}),e.jsxs("div",{className:"tab-content",children:[s==="profile"&&e.jsxs("div",{className:"profile-tab",children:[e.jsxs("div",{className:"tab-header",children:[e.jsx("h2",{children:"Personal Information"}),e.jsxs("button",{className:`edit-button ${t?"cancel":""}`,onClick:()=>n(!t),children:[t?e.jsx(Le,{}):e.jsx(Ns,{}),t?"Cancel":"Edit"]})]}),e.jsxs("div",{className:"profile-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name"}),e.jsxs("div",{className:"input-group",children:[e.jsx(ke,{className:"input-icon"}),e.jsx("input",{type:"text",value:o.firstName,onChange:b=>f(N=>({...N,firstName:b.target.value})),disabled:!t,className:t?"editing":""})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name"}),e.jsxs("div",{className:"input-group",children:[e.jsx(ke,{className:"input-icon"}),e.jsx("input",{type:"text",value:o.lastName,onChange:b=>f(N=>({...N,lastName:b.target.value})),disabled:!t,className:t?"editing":""})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Address"}),e.jsxs("div",{className:"input-group",children:[e.jsx(vt,{className:"input-icon"}),e.jsx("input",{type:"email",value:o.email,disabled:!0,className:"readonly"})]}),e.jsx("small",{children:"Email cannot be changed"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsxs("div",{className:"input-group",children:[e.jsx(Nt,{className:"input-icon"}),e.jsx("input",{type:"tel",value:o.phone,onChange:b=>f(N=>({...N,phone:b.target.value})),disabled:!t,className:t?"editing":""})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsxs("div",{className:"input-group",children:[e.jsx(jt,{className:"input-icon"}),e.jsx("input",{type:"text",value:o.address,onChange:b=>f(N=>({...N,address:b.target.value})),disabled:!t,className:t?"editing":""})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bio"}),e.jsx("textarea",{value:o.bio,onChange:b=>f(N=>({...N,bio:b.target.value})),disabled:!t,className:t?"editing":"",rows:3,placeholder:"Tell us about yourself..."})]}),t&&e.jsx("div",{className:"form-actions",children:e.jsxs("button",{className:"save-button",onClick:T,disabled:i,children:[e.jsx(ws,{}),i?"Saving...":"Save Changes"]})})]}),e.jsxs("div",{className:"profile-activity",children:[e.jsx("h3",{children:"Account Activity"}),e.jsxs("div",{className:"activity-stats",children:[e.jsxs("div",{className:"activity-item",children:[e.jsx("span",{className:"activity-label",children:"Last Login:"}),e.jsx("span",{className:"activity-value",children:g(o.lastLogin)})]}),e.jsxs("div",{className:"activity-item",children:[e.jsx("span",{className:"activity-label",children:"Account Created:"}),e.jsx("span",{className:"activity-value",children:D(o.dateJoined)})]})]})]})]}),s==="security"&&e.jsxs("div",{className:"security-tab",children:[e.jsxs("div",{className:"security-section",children:[e.jsx("h3",{children:"Change Password"}),e.jsxs("div",{className:"password-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Current Password"}),e.jsxs("div",{className:"input-group",children:[e.jsx(qe,{className:"input-icon"}),e.jsx("input",{type:"password",value:y.currentPassword,onChange:b=>v(N=>({...N,currentPassword:b.target.value})),placeholder:"Enter current password"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password"}),e.jsxs("div",{className:"input-group",children:[e.jsx(qe,{className:"input-icon"}),e.jsx("input",{type:"password",value:y.newPassword,onChange:b=>v(N=>({...N,newPassword:b.target.value})),placeholder:"Enter new password"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Confirm New Password"}),e.jsxs("div",{className:"input-group",children:[e.jsx(qe,{className:"input-icon"}),e.jsx("input",{type:"password",value:y.confirmPassword,onChange:b=>v(N=>({...N,confirmPassword:b.target.value})),placeholder:"Confirm new password"})]})]}),e.jsxs("button",{className:"change-password-button",onClick:E,disabled:i||!y.currentPassword||!y.newPassword,children:[e.jsx(ls,{}),i?"Changing...":"Change Password"]})]})]}),e.jsxs("div",{className:"security-section",children:[e.jsx("h3",{children:"Security Settings"}),e.jsxs("div",{className:"security-options",children:[e.jsxs("div",{className:"security-option",children:[e.jsxs("div",{className:"option-info",children:[e.jsx("h4",{children:"Two-Factor Authentication"}),e.jsx("p",{children:"Add an extra layer of security to your account"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:y.twoFactorEnabled,onChange:b=>v(N=>({...N,twoFactorEnabled:b.target.checked}))}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"security-option",children:[e.jsxs("div",{className:"option-info",children:[e.jsx("h4",{children:"Login Notifications"}),e.jsx("p",{children:"Get notified when someone logs into your account"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:y.loginNotifications,onChange:b=>v(N=>({...N,loginNotifications:b.target.checked}))}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"security-option",children:[e.jsxs("div",{className:"option-info",children:[e.jsx("h4",{children:"Session Timeout"}),e.jsx("p",{children:"Automatically log out after inactivity"})]}),e.jsxs("select",{value:y.sessionTimeout,onChange:b=>v(N=>({...N,sessionTimeout:parseInt(b.target.value)})),className:"timeout-select",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:120,children:"2 hours"}),e.jsx("option",{value:-1,children:"Never"})]})]})]})]}),e.jsxs("div",{className:"danger-zone",children:[e.jsx("h3",{children:"Danger Zone"}),e.jsxs("div",{className:"danger-section",children:[e.jsxs("div",{className:"danger-info",children:[e.jsx("h4",{children:"Delete Account"}),e.jsx("p",{children:"Permanently delete your account and all associated data"})]}),e.jsxs("button",{className:"delete-account-button",onClick:U,disabled:i,children:[e.jsx(Ss,{}),"Delete Account"]})]})]})]}),s==="subscription"&&e.jsxs("div",{className:"subscription-tab",children:[e.jsxs("div",{className:"subscription-header",children:[e.jsx("h3",{children:"Current Subscription"}),e.jsx("span",{className:"plan-badge",style:{backgroundColor:F(c.plan)},children:c.plan==="pro"?"Pro Plan":c.plan==="ad-free"?"Ad-Free":"Free Plan"})]}),e.jsxs("div",{className:"subscription-details",children:[e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-header",children:[e.jsx(De,{className:"detail-icon"}),e.jsx("h4",{children:"Plan Details"})]}),e.jsxs("div",{className:"detail-content",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Status:"}),e.jsx("span",{className:`status-badge ${c.status}`,children:c.status.charAt(0).toUpperCase()+c.status.slice(1)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Start Date:"}),e.jsx("span",{children:D(c.startDate)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"End Date:"}),e.jsx("span",{children:D(c.endDate)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Auto Renewal:"}),e.jsx("span",{children:c.autoRenewal?"Enabled":"Disabled"})]})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-header",children:[e.jsx(gt,{className:"detail-icon"}),e.jsx("h4",{children:"Billing Information"})]}),e.jsxs("div",{className:"detail-content",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Current Amount:"}),e.jsxs("span",{children:[c.amount.toLocaleString()," Toman"]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Next Billing:"}),e.jsx("span",{children:D(c.nextBilling)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Payment Method:"}),e.jsx("span",{children:"Credit Card (**** 1234)"})]})]})]})]}),e.jsxs("div",{className:"subscription-actions",children:[e.jsx("button",{className:"action-button primary",children:"Upgrade Plan"}),e.jsx("button",{className:"action-button secondary",children:"Manage Billing"}),e.jsx("button",{className:"action-button danger",children:"Cancel Subscription"})]})]}),s==="usage"&&e.jsxs("div",{className:"usage-tab",children:[e.jsxs("div",{className:"usage-overview",children:[e.jsx("h3",{children:"Usage Overview"}),e.jsx("div",{className:"usage-period",children:e.jsxs("span",{children:["Period: ",D(d.lastResetDate)," - ",D(d.nextResetDate)]})})]}),e.jsxs("div",{className:"usage-stats-grid",children:[e.jsxs("div",{className:"usage-card",children:[e.jsxs("div",{className:"usage-header",children:[e.jsx(ve,{className:"usage-icon"}),e.jsx("h4",{children:"Tokens"})]}),e.jsxs("div",{className:"usage-content",children:[e.jsxs("div",{className:"usage-numbers",children:[e.jsx("span",{className:"used",children:d.tokensUsed.toLocaleString()}),e.jsx("span",{className:"separator",children:"/"}),e.jsx("span",{className:"limit",children:d.tokensLimit.toLocaleString()})]}),e.jsx("div",{className:"usage-bar",children:e.jsx("div",{className:"usage-fill",style:{width:`${O(d.tokensUsed,d.tokensLimit)}%`}})}),e.jsxs("div",{className:"usage-percentage",children:[O(d.tokensUsed,d.tokensLimit).toFixed(1),"% used"]})]})]}),e.jsxs("div",{className:"usage-card",children:[e.jsxs("div",{className:"usage-header",children:[e.jsx(cs,{className:"usage-icon"}),e.jsx("h4",{children:"Requests"})]}),e.jsxs("div",{className:"usage-content",children:[e.jsxs("div",{className:"usage-numbers",children:[e.jsx("span",{className:"used",children:d.requestsUsed}),e.jsx("span",{className:"separator",children:"/"}),e.jsx("span",{className:"limit",children:d.requestsLimit})]}),e.jsx("div",{className:"usage-bar",children:e.jsx("div",{className:"usage-fill",style:{width:`${O(d.requestsUsed,d.requestsLimit)}%`}})}),e.jsxs("div",{className:"usage-percentage",children:[O(d.requestsUsed,d.requestsLimit).toFixed(1),"% used"]})]})]}),e.jsxs("div",{className:"usage-card",children:[e.jsxs("div",{className:"usage-header",children:[e.jsx(ut,{className:"usage-icon"}),e.jsx("h4",{children:"Daily Average"})]}),e.jsxs("div",{className:"usage-content",children:[e.jsx("div",{className:"stat-value large",children:d.averageDaily}),e.jsx("div",{className:"stat-label",children:"tokens per day"})]})]}),e.jsxs("div",{className:"usage-card",children:[e.jsxs("div",{className:"usage-header",children:[e.jsx(is,{className:"usage-icon"}),e.jsx("h4",{children:"Peak Usage"})]}),e.jsxs("div",{className:"usage-content",children:[e.jsx("div",{className:"stat-value",children:D(d.peakUsageDay)}),e.jsx("div",{className:"stat-label",children:"highest usage day"})]})]})]}),e.jsxs("div",{className:"favorite-models",children:[e.jsx("h4",{children:"Favorite AI Models"}),e.jsx("div",{className:"models-list",children:d.favoriteModels.map((b,N)=>e.jsxs("div",{className:"model-item",children:[e.jsxs("span",{className:"model-rank",children:["#",N+1]}),e.jsx("span",{className:"model-name",children:b})]},b))})]}),e.jsxs("div",{className:"usage-actions",children:[e.jsx("button",{className:"action-button",children:"Download Usage Report"}),e.jsx("button",{className:"action-button secondary",children:"Reset Statistics"})]})]})]})]})]})},_e=[{path:"/",label:"Dashboard",component:ja,icon:xt},{path:"/enhancer",label:"AI Generator",component:Va,icon:ks},{path:"/architect",label:"Manual Builder",component:_a,icon:yt},{path:"/library",label:"My Prompts",component:Ya,icon:bs},{path:"/gallery",label:"Conversational Wizard",component:jn,icon:ve},{path:"/billing-test",label:"Billing Test",component:la,icon:ve,hidden:!0},{path:"/premium",label:"Premium",component:ba,icon:ve,hidden:!0},{path:"/profile",label:"User Profile",component:bn,icon:ke,hidden:!0},{path:"/settings",label:"Settings",component:Xa,icon:Cs}],Nn=()=>{const[s,a]=m.useState(()=>window.innerWidth>768),[t,n]=m.useState(()=>window.innerWidth<=768),i=Ws();m.useEffect(()=>{const c=()=>{const d=window.innerWidth<=768;n(d),!d&&s&&a(!1)};return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[s]);const l=()=>a(!s),o=()=>{t&&a(!1)},f=()=>{t&&s&&a(!1)},y=_e.find(c=>c.path===i.pathname)?.label||"Dashboard",v=_e.filter(c=>!c.hidden);return e.jsxs("div",{className:"app-container",children:[t&&s&&e.jsx("div",{className:"mobile-overlay",onClick:f}),e.jsxs("aside",{className:`sidebar ${s?"open":"closed"}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"logo",children:[e.jsx("span",{className:"logo-icon",children:"‚ú®"}),e.jsx("span",{className:"logo-text",children:"PromptCraft"})]}),t&&e.jsx("button",{onClick:o,className:"mobile-close-btn",children:e.jsx(Le,{})})]}),e.jsx("nav",{className:"sidebar-nav",children:v.map(c=>e.jsxs(Hs,{to:c.path,className:({isActive:d})=>`nav-item ${d?"active":""}`,onClick:o,children:[e.jsx(c.icon,{className:"nav-icon"}),e.jsx("span",{className:"nav-label",children:c.label})]},c.path))}),e.jsx("div",{className:"sidebar-footer",children:e.jsxs("div",{className:"credits-info",children:[e.jsx("span",{className:"credits-label",children:"Credits"}),e.jsx("span",{className:"credits-value",children:"100"})]})})]}),e.jsxs("div",{className:"main-content",children:[e.jsxs("header",{className:"main-header",children:[e.jsx("button",{onClick:l,className:"menu-toggle",children:s?e.jsx(Le,{}):e.jsx(bt,{})}),e.jsx("h2",{children:y}),e.jsxs("div",{className:"header-right",children:[e.jsx(ra,{}),e.jsx(ha,{})]})]}),e.jsx("main",{className:"page-content",children:e.jsx(Vs,{children:_e.map(c=>e.jsx(Js,{path:c.path,element:e.jsx(c.component,{})},c.path))})})]})]})},kn=()=>e.jsx(oa,{children:e.jsx(ta,{children:e.jsx(Zt,{children:e.jsx(At,{children:e.jsx(Pt,{children:e.jsx(Nn,{})})})})})});class wn extends re.Component{constructor(a){super(a),this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,t){}render(){return this.state.hasError?e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px",textAlign:"center",backgroundColor:"#f8f9fa"},children:[e.jsx("h1",{style:{color:"#dc3545",marginBottom:"20px"},children:"Unexpected Error"}),e.jsx("p",{style:{color:"#6c757d",marginBottom:"20px"},children:"Unfortunately, an issue occurred in the application."}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Try Again"})]}):this.props.children}}ze.createRoot(document.getElementById("root")).render(e.jsx(re.StrictMode,{children:e.jsx(wn,{children:e.jsx(Ys,{children:e.jsx(kn,{})})})}));
